var SR=Object.create;var Ah=Object.defineProperty,AR=Object.defineProperties,RR=Object.getOwnPropertyDescriptor,NR=Object.getOwnPropertyDescriptors,xR=Object.getOwnPropertyNames,Ec=Object.getOwnPropertySymbols,NI=Object.getPrototypeOf,Rh=Object.prototype.hasOwnProperty,xI=Object.prototype.propertyIsEnumerable,MR=Reflect.get;var RI=(t,e,n)=>e in t?Ah(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})Rh.call(e,n)&&RI(t,n,e[n]);if(Ec)for(var n of Ec(e))xI.call(e,n)&&RI(t,n,e[n]);return t},oe=(t,e)=>AR(t,NR(e));var sH=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var PR=(t,e)=>{var n={};for(var r in t)Rh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ec)for(var r of Ec(t))e.indexOf(r)<0&&xI.call(t,r)&&(n[r]=t[r]);return n};var oH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var OR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xR(e))!Rh.call(t,i)&&i!==n&&Ah(t,i,{get:()=>e[i],enumerable:!(r=RR(e,i))||r.enumerable});return t};var aH=(t,e,n)=>(n=t!=null?SR(NI(t)):{},OR(e||!t||!t.__esModule?Ah(n,"default",{value:t,enumerable:!0}):n,t));var Jn=(t,e,n)=>MR(NI(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var MI=null;var Nh=1,xh=Symbol("SIGNAL");function J(t){let e=MI;return MI=t,e}var PI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kR(t){if(!(Oh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nh)){if(!t.producerMustRecompute(t)&&!Mh(t)){t.dirty=!1,t.lastCleanEpoch=Nh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Nh}}function OI(t){return t&&(t.nextProducerIndex=0),J(t)}function kI(t,e){if(J(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Oh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ph(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mh(t){Tc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(kR(n),r!==n.version))return!0}return!1}function FI(t){if(Tc(t),Oh(t))for(let e=0;e<t.producerNode.length;e++)Ph(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ph(t,e){if(FR(t),Tc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ph(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Tc(i),i.producerIndexOfThis[r]=e}}function Oh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function FR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function LR(){throw new Error}var VR=LR;function LI(t){VR=t}function F(t){return typeof t=="function"}function Pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dc=Pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof Dc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{VI(s)}catch(o){e=e??[],o instanceof Dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vr(n,e)}remove(e){let{_finalizers:n}=this;n&&Vr(n,e),e instanceof t&&e._removeParent(this)}};_e.EMPTY=(()=>{let t=new _e;return t.closed=!0,t})();var kh=_e.EMPTY;function bc(t){return t instanceof _e||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function VI(t){F(t)?t():t.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(t,e,...n){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cc(t){Oi.setTimeout(()=>{let{onUnhandledError:e}=xt;if(e)e(t);else throw t})}function lo(){}var UI=Fh("C",void 0,void 0);function jI(t){return Fh("E",void 0,t)}function BI(t){return Fh("N",t,void 0)}function Fh(t,e,n){return{kind:t,value:e,error:n}}var Ur=null;function ki(t){if(xt.useDeprecatedSynchronousErrorHandling){let e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ur;if(Ur=null,n)throw r}}else t()}function $I(t){xt.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=t)}var jr=class extends _e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bc(e)&&e.add(this)):this.destination=BR}static create(e,n,r){return new Fi(e,n,r)}next(e){this.isStopped?Vh(BI(e),this):this._next(e)}error(e){this.isStopped?Vh(jI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vh(UI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UR=Function.prototype.bind;function Lh(t,e){return UR.call(t,e)}var Uh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Sc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Sc(r)}else Sc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sc(n)}}},Fi=class extends jr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&xt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lh(e.next,s),error:e.error&&Lh(e.error,s),complete:e.complete&&Lh(e.complete,s)}):i=e}this.destination=new Uh(i)}};function Sc(t){xt.useDeprecatedSynchronousErrorHandling?$I(t):Cc(t)}function jR(t){throw t}function Vh(t,e){let{onStoppedNotification:n}=xt;n&&Oi.setTimeout(()=>n(t,e))}var BR={closed:!0,next:lo,error:jR,complete:lo};var Li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ut(t){return t}function Ac(...t){return jh(t)}function jh(t){return t.length===0?ut:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=qR(n)?n:new Fi(n,r,i);return ki(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=qI(r),new r((i,s)=>{let o=new Fi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Li](){return this}pipe(...n){return jh(n)(this)}toPromise(n){return n=qI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qI(t){var e;return(e=t??xt.Promise)!==null&&e!==void 0?e:Promise}function $R(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function qR(t){return t&&t instanceof jr||$R(t)&&bc(t)}function Bh(t){return F(t?.lift)}function X(t){return e=>{if(Bh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(t,e,n,r,i){return new $h(t,e,n,r,i)}var $h=class extends jr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vi(){return X((t,e)=>{let n=null;t._refCount++;let r=K(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ui=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _e;let n=this.getSubject();e.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_e.EMPTY)}return e}refCount(){return Vi()(this)}};var HI=Pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HI}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?kh:(this.currentObservers=null,s.push(n),new _e(()=>{this.currentObservers=null,Vr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Rc(e,n),t})(),Rc=class extends de{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:kh}};var Le=class extends de{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qh={now(){return(qh.delegate||Date).now()},delegate:void 0};var Nc=class extends _e{constructor(e,n){super()}schedule(e,n=0){return this}};var ho={setInterval(t,e,...n){let{delegate:r}=ho;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ho;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ji=class extends Nc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ho.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ho.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bi.now=qh.now;var $i=class extends Bi{constructor(e,n=Bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hh=new $i(ji);var xc=class extends ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Mc=class extends $i{};var zh=new Mc(xc);var lt=new G(t=>t.complete());function zI(t){return t&&F(t.schedule)}function GI(t){return t[t.length-1]}function Pc(t){return F(GI(t))?t.pop():void 0}function Zn(t){return zI(GI(t))?t.pop():void 0}function Gh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function WI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function QI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Br?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function YI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WI=="function"?WI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function kc(t){return F(t?.then)}function Fc(t){return F(t[Li])}function Lc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Vc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uc=HR();function jc(t){return F(t?.[Uc])}function Bc(t){return QI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function $c(t){return F(t?.getReader)}function Ie(t){if(t instanceof G)return t;if(t!=null){if(Fc(t))return zR(t);if(Oc(t))return GR(t);if(kc(t))return WR(t);if(Lc(t))return JI(t);if(jc(t))return KR(t);if($c(t))return QR(t)}throw Vc(t)}function zR(t){return new G(e=>{let n=t[Li]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GR(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function WR(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cc)})}function KR(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function JI(t){return new G(e=>{YR(t,e).catch(n=>e.error(n))})}function QR(t){return JI(Bc(t))}function YR(t,e){var n,r,i,s;return KI(this,void 0,void 0,function*(){try{for(n=YI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ot(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xn(t,e=0){return X((n,r)=>{n.subscribe(K(r,i=>ot(r,t,()=>r.next(i),e),()=>ot(r,t,()=>r.complete(),e),i=>ot(r,t,()=>r.error(i),e)))})}function er(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ZI(t,e){return Ie(t).pipe(er(e),Xn(e))}function XI(t,e){return Ie(t).pipe(er(e),Xn(e))}function ew(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tw(t,e){return new G(n=>{let r;return ot(n,e,()=>{r=t[Uc](),ot(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{ot(n,e,()=>{let r=t[Symbol.asyncIterator]();ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nw(t,e){return qc(Bc(t),e)}function rw(t,e){if(t!=null){if(Fc(t))return ZI(t,e);if(Oc(t))return ew(t,e);if(kc(t))return XI(t,e);if(Lc(t))return qc(t,e);if(jc(t))return tw(t,e);if($c(t))return nw(t,e)}throw Vc(t)}function he(t,e){return e?rw(t,e):Ie(t)}function M(...t){let e=Zn(t);return he(t,e)}function qi(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Wh(t){return!!t&&(t instanceof G||F(t.lift)&&F(t.subscribe))}var wn=Pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V(t,e){return X((n,r)=>{let i=0;n.subscribe(K(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:JR}=Array;function ZR(t,e){return JR(e)?t(...e):t(e)}function Hc(t){return V(e=>ZR(t,e))}var{isArray:XR}=Array,{getPrototypeOf:eN,prototype:tN,keys:nN}=Object;function zc(t){if(t.length===1){let e=t[0];if(XR(e))return{args:e,keys:null};if(rN(e)){let n=nN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function rN(t){return t&&typeof t=="object"&&eN(t)===tN}function Gc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fo(...t){let e=Zn(t),n=Pc(t),{args:r,keys:i}=zc(t);if(r.length===0)return he([],e);let s=new G(iN(r,e,i?o=>Gc(i,o):ut));return n?s.pipe(Hc(n)):s}function iN(t,e,n=ut){return r=>{iw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)iw(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(K(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iw(t,e,n){t?ot(n,t,e):e()}function sw(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let m=!1;Ie(n(y,l++)).subscribe(K(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let _=c.shift();o?ot(e,o,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(K(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return F(e)?we((r,i)=>V((s,o)=>e(r,s,i,o))(Ie(t(r,i))),n):(typeof e=="number"&&(n=e),X((r,i)=>sw(r,i,t,n)))}function Hi(t=1/0){return we(ut,t)}function ow(){return Hi(1)}function zi(...t){return ow()(he(t,Zn(t)))}function Wc(t){return new G(e=>{Ie(t()).subscribe(e)})}function sN(...t){let e=Pc(t),{args:n,keys:r}=zc(t),i=new G(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Ie(n[l]).subscribe(K(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Gc(r,a):a),s.complete())}))}});return e?i.pipe(Hc(e)):i}function Qe(t,e){return X((n,r)=>{let i=0;n.subscribe(K(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tr(t){return X((e,n)=>{let r=null,i=!1,s;r=e.subscribe(K(n,void 0,void 0,o=>{s=Ie(t(o,tr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function aw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(K(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function En(t,e){return F(e)?we(t,e,1):we(t,1)}function nr(t){return X((e,n)=>{let r=!1;e.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>lt:X((e,n)=>{let r=0;e.subscribe(K(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Kh(t){return V(()=>t)}function Kc(t=oN){return X((e,n)=>{let r=!1;e.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oN(){return new wn}function rr(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,s)=>t(i,s,r)):ut,Tn(1),n?nr(e):Kc(()=>new wn))}function Gi(t){return t<=0?()=>lt:X((e,n)=>{let r=[];e.subscribe(K(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,s)=>t(i,s,r)):ut,Gi(1),n?nr(e):Kc(()=>new wn))}function Qc(t,e){return X(aw(t,e,arguments.length>=2,!0))}function Yc(...t){let e=Zn(t);return X((n,r)=>{(e?zi(t,n,e):zi(t,n)).subscribe(r)})}function at(t,e){return X((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(K(r,c=>{i?.unsubscribe();let u=0,l=s++;Ie(t(c,l)).subscribe(i=K(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Yh(t){return X((e,n)=>{Ie(t).subscribe(K(n,()=>n.complete(),lo)),!n.closed&&e.subscribe(n)})}function Ee(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(K(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ut}var Yw="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(Au(e,n)),this.code=e}};function Au(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ro(t){return{toString:t}.toString()}var Jc="__parameters__";function aN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Jw(t,e,n){return Ro(()=>{let r=aN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Jc)?c[Jc]:Object.defineProperty(c,Jc,{value:[]})[Jc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Dn=globalThis;function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function cN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uN=ae({__forward_ref__:ae});function Zw(t){return t.__forward_ref__=Zw,t.toString=function(){return Je(this())},t}function Ye(t){return Xw(t)?t():t}function Xw(t){return typeof t=="function"&&t.hasOwnProperty(uN)&&t.__forward_ref__===Zw}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function et(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ru(t){return cw(t,tE)||cw(t,nE)}function eE(t){return Ru(t)!==null}function cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function lN(t){let e=t&&(t[tE]||t[nE]);return e||null}function uw(t){return t&&(t.hasOwnProperty(lw)||t.hasOwnProperty(dN))?t[lw]:null}var tE=ae({\u0275prov:ae}),lw=ae({\u0275inj:ae}),nE=ae({ngInjectableDef:ae}),dN=ae({ngInjectorDef:ae}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rE(t){return t&&!!t.\u0275providers}var hN=ae({\u0275cmp:ae}),fN=ae({\u0275dir:ae}),pN=ae({\u0275pipe:ae}),gN=ae({\u0275mod:ae}),cu=ae({\u0275fac:ae}),po=ae({__NG_ELEMENT_ID__:ae}),dw=ae({__NG_ENV_ID__:ae});function No(t){return typeof t=="string"?t:t==null?"":String(t)}function mN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():No(t)}function yN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function _p(t,e){throw new S(-201,!1)}var W=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(W||{}),gf;function iE(){return gf}function It(t){let e=gf;return gf=t,e}function sE(t,e,n){let r=Ru(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&W.Optional)return null;if(e!==void 0)return e;_p(t,"Injector")}var vN={},go=vN,mf="__NG_DI_FLAG__",uu="ngTempTokenPath",_N="ngTokenPath",IN=/\n/gm,wN="\u0275",hw="__source",Ji;function EN(){return Ji}function ir(t){let e=Ji;return Ji=t,e}function TN(t,e=W.Default){if(Ji===void 0)throw new S(-203,!1);return Ji===null?sE(t,void 0,e):Ji.get(t,e&W.Optional?null:void 0,e)}function D(t,e=W.Default){return(iE()||TN)(Ye(t),e)}function I(t,e=W.Default){return D(t,Nu(e))}function Nu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yf(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,s=W.Default;for(let o=0;o<r.length;o++){let a=r[o],c=DN(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(D(i,s))}else e.push(D(r))}return e}function oE(t,e){return t[mf]=e,t.prototype[mf]=e,t}function DN(t){return t[mf]}function bN(t,e,n,r){let i=t[uu];throw e[hw]&&i.unshift(e[hw]),t.message=CN(`
`+t.message,i,n,r),t[_N]=i,t[uu]=null,t}function CN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==wN?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Je(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(IN,`
  `)}`}var Ve=oE(Jw("Optional"),8);var xu=oE(Jw("SkipSelf"),4);function Xi(t,e){let n=t.hasOwnProperty(cu);return n?t[cu]:null}function Ip(t,e){t.forEach(n=>Array.isArray(n)?Ip(n,e):e(n))}function aE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function SN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function wp(t,e,n){let r=xo(t,e);return r>=0?t[r|1]=n:(r=~r,SN(t,r,e,n)),r}function Jh(t,e){let n=xo(t,e);if(n>=0)return t[n|1]}function xo(t,e){return AN(t,e,1)}function AN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var es={},ct=[],ts=new A(""),cE=new A("",-1),uE=new A(""),du=class{get(e,n=go){if(n===go){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}},lE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lE||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{}),wt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wt||{});function RN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function vf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];NN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function dE(t){return t===3||t===4||t===6}function NN(t){return t.charCodeAt(0)===64}function mo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fw(t,n,i,null,e[++r]):fw(t,n,i,null,null))}}return t}function fw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var hE="ng-template";function xN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ep(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ep(t){return t.type===4&&t.value!==hE}function MN(t,e,n){let r=t.type===4&&!n?hE:t.value;return e===r}function PN(t,e,n){let r=4,i=t.attrs,s=i!==null?FN(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!MN(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else if(r&8){if(i===null||!xN(t,i,c,n)){if(Mt(r))return!1;o=!0}}else{let u=e[++a],l=ON(c,i,Ep(t),n);if(l===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function ON(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return LN(e,t)}function kN(t,e,n=!1){for(let r=0;r<e.length;r++)if(PN(t,e[r],n))return!0;return!1}function FN(t){for(let e=0;e<t.length;e++){let n=t[e];if(dE(n))return e}return t.length}function LN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pw(t,e){return t?":not("+e.trim()+")":e}function VN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=pw(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=pw(s,i)),e}function UN(t){return t.map(VN).join(",")}function jN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function Mo(t){return Ro(()=>{let e=yE(t),n=oe(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||ct,_:null,schemas:t.schemas||null,tView:null,id:""});vE(n);let r=t.dependencies;return n.directiveDefs=mw(r,!1),n.pipeDefs=mw(r,!0),n.id=qN(n),n})}function BN(t){return or(t)||fE(t)}function $N(t){return t!==null}function tt(t){return Ro(()=>({type:t.type,bootstrap:t.bootstrap||ct,declarations:t.declarations||ct,imports:t.imports||ct,exports:t.exports||ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gw(t,e){if(t==null)return es;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=wt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==wt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Sn(t){return Ro(()=>{let e=yE(t);return vE(e),e})}function or(t){return t[hN]||null}function fE(t){return t[fN]||null}function pE(t){return t[pN]||null}function gE(t){let e=or(t)||fE(t)||pE(t);return e!==null?e.standalone:!1}function mE(t,e){let n=t[gN]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function yE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||es,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gw(t.inputs,e),outputs:gw(t.outputs),debugInfo:null}}function vE(t){t.features?.forEach(e=>e(t))}function mw(t,e){if(!t)return null;let n=e?pE:BN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter($N)}function qN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function dr(t){return{\u0275providers:t}}function HN(...t){return{\u0275providers:_E(!0,t),\u0275fromNgModule:!0}}function _E(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Ip(e,o=>{let a=o;_f(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&IE(i,s),n}function IE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Tp(i,s=>{e(s,r)})}}function _f(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,s=uw(t),o=!s&&or(t);if(!s&&!o){let c=t.ngModule;if(s=uw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)_f(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Ip(s.imports,l=>{_f(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&IE(u,e)}if(!a){let u=Xi(i)||(()=>new i);e({provide:i,useFactory:u,deps:ct},i),e({provide:uE,useValue:i,multi:!0},i),e({provide:ts,useValue:()=>D(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Tp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Tp(t,e){for(let n of t)rE(n)&&(n=n.\u0275providers),Array.isArray(n)?Tp(n,e):e(n)}var zN=ae({provide:String,useValue:ae});function wE(t){return t!==null&&typeof t=="object"&&zN in t}function GN(t){return!!(t&&t.useExisting)}function WN(t){return!!(t&&t.useFactory)}function ns(t){return typeof t=="function"}function KN(t){return!!t.useClass}var Mu=new A(""),ru={},QN={},Zh;function Dp(){return Zh===void 0&&(Zh=new du),Zh}var Xe=class{},yo=class extends Xe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wf(e,o=>this.processProvider(o)),this.records.set(cE,Wi(void 0,this)),i.has("environment")&&this.records.set(Xe,Wi(void 0,this));let s=this.records.get(Mu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uE,ct,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=It(void 0),i;try{return e()}finally{ir(n),It(r)}}get(e,n=go,r=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dw))return e[dw](this);r=Nu(r);let i,s=ir(this),o=It(void 0);try{if(!(r&W.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=ex(e)&&Ru(e);u&&this.injectableDefInScope(u)?c=Wi(If(e),ru):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&W.Self?Dp():this.parent;return n=r&W.Optional&&n===go?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[uu]=a[uu]||[]).unshift(Je(e)),s)throw a;return bN(a,e,"R3InjectorError",this.source)}else throw a}finally{It(o),ir(s)}}resolveInjectorInitializers(){let e=J(null),n=ir(this),r=It(void 0),i;try{let s=this.get(ts,ct,W.Self);for(let o of s)o()}finally{ir(n),It(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=Ye(e);let n=ns(e)?e:Ye(e&&e.provide),r=JN(e);if(!ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wi(void 0,ru,!0),i.factory=()=>yf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=J(null);try{return n.value===ru&&(n.value=QN,n.value=n.factory()),typeof n.value=="object"&&n.value&&XN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function If(t){let e=Ru(t),n=e!==null?e.factory:Xi(t);if(n!==null)return n;if(t instanceof A)throw new S(204,!1);if(t instanceof Function)return YN(t);throw new S(204,!1)}function YN(t){if(t.length>0)throw new S(204,!1);let n=lN(t);return n!==null?()=>n.factory(t):()=>new t}function JN(t){if(wE(t))return Wi(void 0,t.useValue);{let e=EE(t);return Wi(e,ru)}}function EE(t,e,n){let r;if(ns(t)){let i=Ye(t);return Xi(i)||If(i)}else if(wE(t))r=()=>Ye(t.useValue);else if(WN(t))r=()=>t.useFactory(...yf(t.deps||[]));else if(GN(t))r=()=>D(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(ZN(t))r=()=>new i(...yf(t.deps));else return Xi(i)||If(i)}return r}function Wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ZN(t){return!!t.deps}function XN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ex(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function wf(t,e){for(let n of t)Array.isArray(n)?wf(n,e):n&&rE(n)?wf(n.\u0275providers,e):e(n)}function Vt(t,e){t instanceof yo&&t.assertNotDestroyed();let n,r=ir(t),i=It(void 0);try{return e()}finally{ir(r),It(i)}}function TE(){return iE()!==void 0||EN()!=null}function tx(t){if(!TE())throw new S(-203,!1)}function nx(t){return typeof t=="function"}var tn=0,H=1,O=2,qe=3,kt=4,Ut=5,vo=6,_o=7,$e=8,rs=9,Ft=10,fe=11,Io=12,yw=13,us=14,Lt=15,Pu=16,Ki=17,is=18,Ou=19,DE=20,sr=21,Xh=22,Hr=23,Et=25,bp=1;var zr=7,hu=8,fu=9,Ze=10,Cp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Cp||{});function $r(t){return Array.isArray(t)&&typeof t[bp]=="object"}function An(t){return Array.isArray(t)&&t[bp]===!0}function Sp(t){return(t.flags&4)!==0}function ku(t){return t.componentOffset>-1}function Fu(t){return(t.flags&1)===1}function bn(t){return!!t.template}function rx(t){return(t[O]&512)!==0}var Ef=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Po(){return CE}function CE(t){return t.type.prototype.ngOnChanges&&(t.setInput=sx),ix}Po.ngInherit=!0;function ix(){let t=AE(this),e=t?.current;if(e){let n=t.previous;if(n===es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sx(t,e,n,r,i){let s=this.declaredInputs[r],o=AE(t)||ox(t,{previous:es,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Ef(u&&u.currentValue,n,c===es),bE(t,e,i,n)}var SE="__ngSimpleChanges__";function AE(t){return t[SE]||null}function ox(t,e){return t[SE]=e}var vw=null;var Qt=function(t,e,n){vw?.(t,e,n)},RE="svg",ax="math",cx=!1;function ux(){return cx}function Zt(t){for(;Array.isArray(t);)t=t[tn];return t}function lx(t){for(;Array.isArray(t);){if(typeof t[bp]=="object")return t;t=t[tn]}return null}function NE(t,e){return Zt(e[t])}function Tt(t,e){return Zt(e[t.index])}function Ap(t,e){return t.data[e]}function hr(t,e){let n=e[t];return $r(n)?n:n[tn]}function Rp(t){return(t[O]&128)===128}function dx(t){return An(t[qe])}function ss(t,e){return e==null?null:t[e]}function xE(t){t[Ki]=0}function hx(t){t[O]&1024||(t[O]|=1024,Rp(t)&&wo(t))}function fx(t,e){for(;t>0;)e=e[us],t--;return e}function Np(t){return!!(t[O]&9216||t[Hr]?.dirty)}function Tf(t){t[Ft].changeDetectionScheduler?.notify(1),Np(t)?wo(t):t[O]&64&&(ux()?(t[O]|=1024,wo(t)):t[Ft].changeDetectionScheduler?.notify())}function wo(t){t[Ft].changeDetectionScheduler?.notify();let e=Eo(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Rp(e)));)e=Eo(e)}function ME(t,e){if((t[O]&256)===256)throw new S(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function px(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function Eo(t){let e=t[qe];return An(e)?e[qe]:e}var z={lFrame:$E(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gx(){return z.lFrame.elementDepthCount}function mx(){z.lFrame.elementDepthCount++}function yx(){z.lFrame.elementDepthCount--}function PE(){return z.bindingsEnabled}function vx(){return z.skipHydrationRootTNode!==null}function _x(t){return z.skipHydrationRootTNode===t}function Ix(){z.skipHydrationRootTNode=null}function ee(){return z.lFrame.lView}function xe(){return z.lFrame.tView}function xp(t){return z.lFrame.contextLView=t,t[$e]}function Mp(t){return z.lFrame.contextLView=null,t}function nt(){let t=OE();for(;t!==null&&t.type===64;)t=t.parent;return t}function OE(){return z.lFrame.currentTNode}function wx(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yr(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function Pp(){return z.lFrame.isParent}function kE(){z.lFrame.isParent=!1}function FE(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ex(t){return z.lFrame.bindingIndex=t}function Jr(){return z.lFrame.bindingIndex++}function LE(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Tx(){return z.lFrame.inI18n}function Dx(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Df(e)}function bx(){return z.lFrame.currentDirectiveIndex}function Df(t){z.lFrame.currentDirectiveIndex=t}function VE(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function UE(t){z.lFrame.currentQueryIndex=t}function Cx(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Ut]:null}function jE(t,e,n){if(n&W.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&W.Host);)if(i=Cx(s),i===null||(s=s[us],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=BE();return r.currentTNode=e,r.lView=t,!0}function Op(t){let e=BE(),n=t[H];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BE(){let t=z.lFrame,e=t===null?null:t.child;return e===null?$E(t):e}function $E(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qE(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var HE=qE;function kp(){let t=qE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sx(t){return(z.lFrame.contextLView=fx(t,z.lFrame.contextLView))[$e]}function fr(){return z.lFrame.selectedIndex}function Gr(t){z.lFrame.selectedIndex=t}function Oo(){let t=z.lFrame;return Ap(t.tView,t.selectedIndex)}function M9(){z.lFrame.currentNamespace=RE}function P9(){Ax()}function Ax(){z.lFrame.currentNamespace=null}function Rx(){return z.lFrame.currentNamespace}var zE=!0;function Lu(){return zE}function Vu(t){zE=t}function Nx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=CE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Uu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function iu(t,e,n){GE(t,e,3,n)}function su(t,e,n,r){(t[O]&3)===n&&GE(t,e,n,r)}function ef(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function GE(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ki]+=65536),(a<s||s==-1)&&(xx(t,n,e,c),t[Ki]=(t[Ki]&4294901760)+c+2),c++}function _w(t,e){Qt(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),Qt(5,t,e)}}function xx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[O]>>14<t[Ki]>>16&&(t[O]&3)===e&&(t[O]+=16384,_w(a,s)):_w(a,s)}var Zi=-1,Wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Mx(t){return t instanceof Wr}function Px(t){return(t.flags&8)!==0}function Ox(t){return(t.flags&16)!==0}function WE(t){return t!==Zi}function pu(t){return t&32767}function kx(t){return t>>16}function gu(t,e){let n=kx(t),r=e;for(;n>0;)r=r[us],n--;return r}var bf=!0;function Iw(t){let e=bf;return bf=t,e}var Fx=256,KE=Fx-1,QE=5,Lx=0,Yt={};function Vx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(po)&&(r=n[po]),r==null&&(r=n[po]=Lx++);let i=r&KE,s=1<<i;e.data[t+(i>>QE)]|=s}function mu(t,e){let n=YE(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,tf(r.data,t),tf(e,null),tf(r.blueprint,null));let i=Fp(t,e),s=t.injectorIndex;if(WE(i)){let o=pu(i),a=gu(i,e),c=a[H].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function tf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tT(i),r===null)return Zi;if(n++,i=i[us],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zi}function Cf(t,e,n){Vx(t,e,n)}function Ux(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(dE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function JE(t,e,n){if(n&W.Optional||t!==void 0)return t;_p(e,"NodeInjector")}function ZE(t,e,n,r){if(n&W.Optional&&r===void 0&&(r=null),!(n&(W.Self|W.Host))){let i=t[rs],s=It(void 0);try{return i?i.get(e,r,n&W.Optional):sE(e,r,n&W.Optional)}finally{It(s)}}return JE(r,e,n)}function XE(t,e,n,r=W.Default,i){if(t!==null){if(e[O]&2048&&!(r&W.Self)){let o=Hx(t,e,n,r,Yt);if(o!==Yt)return o}let s=eT(t,e,n,r,Yt);if(s!==Yt)return s}return ZE(e,n,r,i)}function eT(t,e,n,r,i){let s=$x(n);if(typeof s=="function"){if(!jE(e,t,r))return r&W.Host?JE(i,n,r):ZE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&W.Optional))_p(n);else return o}finally{HE()}}else if(typeof s=="number"){let o=null,a=YE(t,e),c=Zi,u=r&W.Host?e[Lt][Ut]:null;for((a===-1||r&W.SkipSelf)&&(c=a===-1?Fp(t,e):e[a+8],c===Zi||!Ew(r,!1)?a=-1:(o=e[H],a=pu(c),e=gu(c,e)));a!==-1;){let l=e[H];if(ww(s,a,l.data)){let d=jx(a,e,n,o,r,u);if(d!==Yt)return d}c=e[a+8],c!==Zi&&Ew(r,e[H].data[a+8]===u)&&ww(s,a,e)?(o=l,a=pu(c),e=gu(c,e)):a=-1}}return i}function jx(t,e,n,r,i,s){let o=e[H],a=o.data[t+8],c=r==null?ku(a)&&bf:r!=o&&(a.type&3)!==0,u=i&W.Host&&s===a,l=Bx(a,o,n,c,u);return l!==null?os(e,o,l,a):Yt}function Bx(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&bn(f)&&f.type===n)return c}return null}function os(t,e,n,r){let i=t[n],s=e.data;if(Mx(i)){let o=i;o.resolving&&yN(mN(s[n]));let a=Iw(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?It(o.injectImpl):null,l=jE(t,r,W.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Nx(n,s[n],e)}finally{u!==null&&It(u),Iw(a),o.resolving=!1,HE()}}return i}function $x(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(po)?t[po]:void 0;return typeof e=="number"?e>=0?e&KE:qx:e}function ww(t,e,n){let r=1<<t;return!!(n[e+(t>>QE)]&r)}function Ew(t,e){return!(t&W.Self)&&!(t&W.Host&&e)}var qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XE(this._tNode,this._lView,e,Nu(r),n)}};function qx(){return new qr(nt(),ee())}function Lp(t){return Ro(()=>{let e=t.prototype.constructor,n=e[cu]||Sf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[cu]||Sf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Sf(t){return Xw(t)?()=>{let e=Sf(Ye(t));return e&&e()}:Xi(t)}function Hx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[O]&2048&&!(o[O]&512);){let a=eT(s,o,n,r|W.Self,Yt);if(a!==Yt)return a;let c=s.parent;if(!c){let u=o[DE];if(u){let l=u.get(n,Yt,r);if(l!==Yt)return l}c=tT(o),o=o[us]}s=c}return i}function tT(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Ut]:null}function Vp(t){return Ux(nt(),t)}function Tw(t,e=null,n=null,r){let i=nT(t,e,n,r);return i.resolveInjectorInitializers(),i}function nT(t,e=null,n=null,r,i=new Set){let s=[n||ct,HN(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new yo(s,e||Dp(),r||null,i)}var Me=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Tw({name:""},i,r,"");{let s=r.name??"";return Tw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=go,e.NULL=new du,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>D(cE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var zx="ngOriginalError";function nf(t){return t[zx]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&nf(e);for(;n&&nf(n);)n=nf(n);return n||null}},rT=new A("",{providedIn:"root",factory:()=>I(Xt).handleError.bind(void 0)}),Up=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Af=class extends Up{constructor(e){super(),this._lView=e}onDestroy(e){return ME(this._lView,e),()=>px(this._lView,e)}};function Gx(){return new Af(ee())}function Wx(){return ju(nt(),ee())}function ju(t,e){return new pr(Tt(t,e))}var pr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Wx;let t=e;return t})();var Rf=class extends de{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TE()&&(this.destroyRef=I(Up,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=rf(s),i&&(i=rf(i)),o&&(o=rf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof _e&&e.add(a),a}};function rf(t){return e=>{setTimeout(t,void 0,e)}}var Ot=Rf;function iT(t){return(t.flags&128)===128}var sT=new Map,Kx=0;function Qx(){return Kx++}function Yx(t){sT.set(t[Ou],t)}function Jx(t){sT.delete(t[Ou])}var Dw="__ngContext__";function ar(t,e){$r(e)?(t[Dw]=e[Ou],Yx(e)):t[Dw]=e}function oT(t){return cT(t[Io])}function aT(t){return cT(t[kt])}function cT(t){for(;t!==null&&!An(t);)t=t[kt];return t}var Nf;function uT(t){Nf=t}function lT(){if(Nf!==void 0)return Nf;if(typeof document<"u")return document;throw new S(210,!1)}var jp=new A("",{providedIn:"root",factory:()=>Zx}),Zx="ng",Bp=new A(""),Dt=new A("",{providedIn:"platform",factory:()=>"unknown"});var O9=new A(""),$p=new A("",{providedIn:"root",factory:()=>lT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xx="h",eM="b";var tM=()=>null;function qp(t,e,n=!1){return tM(t,e,n)}var dT=!1,nM=new A("",{providedIn:"root",factory:()=>dT});var Zc;function rM(){if(Zc===void 0&&(Zc=null,Dn.trustedTypes))try{Zc=Dn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zc}function Bu(t){return rM()?.createHTML(t)||t}var Xc;function hT(){if(Xc===void 0&&(Xc=null,Dn.trustedTypes))try{Xc=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xc}function bw(t){return hT()?.createHTML(t)||t}function Cw(t){return hT()?.createScriptURL(t)||t}var Cn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yw})`}},xf=class extends Cn{getTypeName(){return"HTML"}},Mf=class extends Cn{getTypeName(){return"Style"}},Pf=class extends Cn{getTypeName(){return"Script"}},Of=class extends Cn{getTypeName(){return"URL"}},kf=class extends Cn{getTypeName(){return"ResourceURL"}};function bt(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){let n=iM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yw})`)}return n===e}function iM(t){return t instanceof Cn&&t.getTypeName()||null}function fT(t){return new xf(t)}function pT(t){return new Mf(t)}function gT(t){return new Pf(t)}function mT(t){return new Of(t)}function yT(t){return new kf(t)}function sM(t){let e=new Lf(t);return oM()?new Ff(e):e}var Ff=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Bu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Lf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Bu(e),n}};function oM(){try{return!!new window.DOMParser().parseFromString(Bu(""),"text/html")}catch{return!1}}var aM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $u(t){return t=String(t),t.match(aM)?t:"unsafe:"+t}function Nn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ko(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var vT=Nn("area,br,col,hr,img,wbr"),_T=Nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IT=Nn("rp,rt"),cM=ko(IT,_T),uM=ko(_T,Nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lM=ko(IT,Nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sw=ko(vT,uM,lM,cM),wT=Nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dM=Nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hM=Nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fM=ko(wT,dM,hM),pM=Nn("script,style,template"),Vf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=yM(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=mM(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Aw(e).toLowerCase();if(!Sw.hasOwnProperty(n))return this.sanitizedSomething=!0,!pM.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!fM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;wT[a]&&(c=$u(c)),this.buf.push(" ",o,'="',Rw(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Aw(e).toLowerCase();Sw.hasOwnProperty(n)&&!vT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Rw(e))}};function gM(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function mM(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw ET(e);return e}function yM(t){let e=t.firstChild;if(e&&gM(t,e))throw ET(e);return e}function Aw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function ET(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var vM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_M=/([^\#-~ |!])/g;function Rw(t){return t.replace(/&/g,"&amp;").replace(vM,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(_M,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var eu;function Hp(t,e){let n=null;try{eu=eu||sM(t);let r=e?String(e):"";n=eu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=eu.getInertBodyElement(r)}while(r!==s);let a=new Vf().sanitizeChildren(Nw(n)||n);return Bu(a)}finally{if(n){let r=Nw(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Nw(t){return"content"in t&&IM(t)?t.content:null}function IM(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var dt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(dt||{});function zp(t){let e=Gp();return e?bw(e.sanitize(dt.HTML,t)||""):Rn(t,"HTML")?bw(bt(t)):Hp(lT(),No(t))}function wM(t){let e=Gp();return e?e.sanitize(dt.URL,t)||"":Rn(t,"URL")?bt(t):$u(No(t))}function EM(t){let e=Gp();if(e)return Cw(e.sanitize(dt.RESOURCE_URL,t)||"");if(Rn(t,"ResourceURL"))return Cw(bt(t));throw new S(904,!1)}function TM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?EM:wM}function TT(t,e,n){return TM(e,n)(t)}function Gp(){let t=ee();return t&&t[Ft].sanitizer}var DM=/^>|^->|<!--|-->|--!>|<!-$/g,bM=/(<|>)/g,CM="\u200B$1\u200B";function SM(t){return t.replace(DM,e=>e.replace(bM,CM))}function DT(t){return t instanceof Function?t():t}function AM(t){return(t??I(Me)).get(Dt)==="browser"}var en=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(en||{}),RM;function Wp(t,e){return RM(t,e)}function Qi(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:$r(r)&&(o=!0,r=r[tn]);let a=Zt(r);t===0&&n!==null?i==null?AT(e,n,a):yu(e,n,a,i||null,!0):t===1&&n!==null?yu(e,n,a,i||null,!0):t===2?WM(e,a,o):t===3&&e.destroyNode(a),s!=null&&QM(e,t,s,n,i)}}function NM(t,e){return t.createText(e)}function xM(t,e,n){t.setValue(e,n)}function MM(t,e){return t.createComment(SM(e))}function bT(t,e,n){return t.createElement(e,n)}function PM(t,e){CT(t,e),e[tn]=null,e[Ut]=null}function OM(t,e,n,r,i,s){r[tn]=i,r[Ut]=e,zu(t,r,n,1,i,s)}function CT(t,e){e[Ft].changeDetectionScheduler?.notify(1),zu(t,e,e[fe],2,null,null)}function kM(t){let e=t[Io];if(!e)return sf(t[H],t);for(;e;){let n=null;if($r(e))n=e[Io];else{let r=e[Ze];r&&(n=r)}if(!n){for(;e&&!e[kt]&&e!==t;)$r(e)&&sf(e[H],e),e=e[qe];e===null&&(e=t),$r(e)&&sf(e[H],e),n=e&&e[kt]}e=n}}function FM(t,e,n,r){let i=Ze+r,s=n.length;r>0&&(n[i-1][kt]=e),r<s-Ze?(e[kt]=n[i],aE(n,Ze+r,e)):(n.push(e),e[kt]=null),e[qe]=n;let o=e[Pu];o!==null&&n!==o&&LM(o,e);let a=e[is];a!==null&&a.insertView(t),Tf(e),e[O]|=128}function LM(t,e){let n=t[fu],i=e[qe][qe][Lt];e[Lt]!==i&&(t[O]|=Cp.HasTransplantedViews),n===null?t[fu]=[e]:n.push(e)}function ST(t,e){let n=t[fu],r=n.indexOf(e);n.splice(r,1)}function To(t,e){if(t.length<=Ze)return;let n=Ze+e,r=t[n];if(r){let i=r[Pu];i!==null&&i!==t&&ST(i,r),e>0&&(t[n-1][kt]=r[kt]);let s=lu(t,Ze+e);PM(r[H],r);let o=s[is];o!==null&&o.detachView(s[H]),r[qe]=null,r[kt]=null,r[O]&=-129}return r}function qu(t,e){if(!(e[O]&256)){let n=e[fe];n.destroyNode&&zu(t,e,n,3,null,null),kM(e)}}function sf(t,e){if(e[O]&256)return;let n=J(null);try{e[O]&=-129,e[O]|=256,e[Hr]&&FI(e[Hr]),UM(t,e),VM(t,e),e[H].type===1&&e[fe].destroy();let r=e[Pu];if(r!==null&&An(e[qe])){r!==e[qe]&&ST(r,e);let i=e[is];i!==null&&i.detachView(t)}Jx(e)}finally{J(n)}}function VM(t,e){let n=t.cleanup,r=e[_o];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[_o]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function UM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qt(4,a,c);try{c.call(a)}finally{Qt(5,a,c)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function jM(t,e,n){return BM(t,e.parent,n)}function BM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return Tt(r,n)}}function yu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AT(t,e,n){t.appendChild(e,n)}function xw(t,e,n,r,i){r!==null?yu(t,e,n,r,i):AT(t,e,n)}function $M(t,e,n,r){t.removeChild(e,n,r)}function Kp(t,e){return t.parentNode(e)}function qM(t,e){return t.nextSibling(e)}function HM(t,e,n){return GM(t,e,n)}function zM(t,e,n){return t.type&40?Tt(t,n):null}var GM=zM,Mw;function Hu(t,e,n,r){let i=jM(t,r,e),s=e[fe],o=r.parent||e[Ut],a=HM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)xw(s,i,n[c],a,!1);else xw(s,i,n,a,!1);Mw!==void 0&&Mw(s,r,e,n,i)}function ou(t,e){if(e!==null){let n=e.type;if(n&3)return Tt(e,t);if(n&4)return Uf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ou(t,r);{let i=t[e.index];return An(i)?Uf(-1,i):Zt(i)}}else{if(n&32)return Wp(e,t)()||Zt(t[e.index]);{let r=RT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Eo(t[Lt]);return ou(i,r)}else return ou(t,e.next)}}}return null}function RT(t,e){if(e!==null){let r=t[Lt][Ut],i=e.projection;return r.projection[i]}return null}function Uf(t,e){let n=Ze+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return ou(r,i)}return e[zr]}function WM(t,e,n){let r=Kp(t,e);r&&$M(t,r,e,n)}function Qp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&ar(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Qp(t,e,n.child,r,i,s,!1),Qi(e,t,i,a,s);else if(c&32){let u=Wp(n,r),l;for(;l=u();)Qi(e,t,i,l,s);Qi(e,t,i,a,s)}else c&16?KM(t,e,r,n,i,s):Qi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zu(t,e,n,r,i,s){Qp(n,r,t.firstChild,e,i,s,!1)}function KM(t,e,n,r,i,s){let o=n[Lt],c=o[Ut].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Qi(e,t,i,l,s)}else{let u=c,l=o[qe];iT(r)&&(u.flags|=128),Qp(t,e,u,l,i,s,!0)}}function QM(t,e,n,r,i){let s=n[zr],o=Zt(n);s!==o&&Qi(e,t,r,s,i);for(let a=Ze;a<n.length;a++){let c=n[a];zu(c[H],c,t,e,r,s)}}function YM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:en.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=en.Important),t.setStyle(n,r,i,s))}}function JM(t,e,n){t.setAttribute(e,"style",n)}function NT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&vf(t,e,r),i!==null&&NT(t,e,i),s!==null&&JM(t,e,s)}var jt={};function Ce(t=1){MT(xe(),ee(),fr()+t,!1)}function MT(t,e,n,r){if(!r)if((e[O]&3)===3){let s=t.preOrderCheckHooks;s!==null&&iu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&su(e,s,0,n)}Gr(n)}function ce(t,e=W.Default){let n=ee();if(n===null)return D(t,e);let r=nt();return XE(r,n,Ye(t),e)}function PT(){let t="invalid";throw new Error(t)}function OT(t,e,n,r,i,s){let o=J(null);try{let a=null;i&wt.SignalBased&&(a=e[r][xh]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&wt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):bE(e,a,r,s)}finally{J(o)}}function ZM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gr(~i);else{let s=i,o=n[++r],a=n[++r];Dx(o,s);let c=e[s];a(2,c)}}}finally{Gr(-1)}}function Gu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[tn]=i,d[O]=r|4|128|8|64,(u!==null||t&&t[O]&2048)&&(d[O]|=2048),xE(d),d[qe]=d[us]=t,d[$e]=n,d[Ft]=o||t&&t[Ft],d[fe]=a||t&&t[fe],d[rs]=c||t&&t[rs]||null,d[Ut]=s,d[Ou]=Qx(),d[vo]=l,d[DE]=u,d[Lt]=e.type==2?t[Lt]:d,d}function Fo(t,e,n,r,i){let s=t.data[e];if(s===null)s=XM(t,e,n,r,i),Tx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=wx();s.injectorIndex=o===null?-1:o.injectorIndex}return Yr(s,!0),s}function XM(t,e,n,r,i){let s=OE(),o=Pp(),a=o?s:s&&s.parent,c=t.data[e]=iP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function kT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FT(t,e,n,r,i){let s=fr(),o=r&2;try{Gr(-1),o&&e.length>Et&&MT(t,e,Et,!1),Qt(o?2:0,i),n(r,i)}finally{Gr(s),Qt(o?3:1,i)}}function Yp(t,e,n){if(Sp(e)){let r=J(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{J(r)}}}function Jp(t,e,n){PE()&&(lP(t,e,n,Tt(n,e)),(n.flags&64)===64&&UT(t,e,n))}function Zp(t,e,n=Tt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function LT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Xp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xp(t,e,n,r,i,s,o,a,c,u,l){let d=Et+r,h=d+i,f=eP(d,h),g=typeof u=="function"?u():u;return f[H]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function eP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:jt);return n}function tP(t,e,n,r){let s=r.get(nM,dT)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return nP(o),o}function nP(t){rP(t)}var rP=()=>null;function iP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return vx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Pw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=wt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Ow(r,n,u,a,c):Ow(r,n,u,a)}return r}function Ow(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function sP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=Pw(0,d.inputs,l,c,f),u=Pw(1,d.outputs,l,u,g);let y=c!==null&&o!==null&&!Ep(e)?wP(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function oP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Wu(t,e,n,r,i,s,o,a){let c=Tt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(tg(t,n,l,r,i),ku(e)&&aP(n,e.index)):e.type&3?(r=oP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function aP(t,e){let n=hr(e,t);n[O]&16||(n[O]|=64)}function eg(t,e,n,r){if(PE()){let i=r===null?null:{"":-1},s=hP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&VT(t,e,n,o,i,a),i&&fP(n,r,i)}n.mergedAttrs=mo(n.mergedAttrs,n.attrs)}function VT(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Cf(mu(n,e),t,r[u].type);gP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=kT(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=mo(n.mergedAttrs,l.hostAttrs),mP(t,n,e,c,l),pP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}sP(t,n,s)}function cP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;uP(o)!=a&&o.push(a),o.push(n,r,s)}}function uP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function lP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ku(n)&&yP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||mu(n,e),ar(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=os(e,t,a,n);if(ar(u,e),o!==null&&IP(e,a-i,u,c,n,o),bn(c)){let l=hr(n.index,e);l[$e]=os(e,t,a,n)}}}function UT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=bx();try{Gr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Df(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&dP(c,u)}}finally{Gr(-1),Df(o)}}function dP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(kN(e,o.selectors,!1))if(r||(r=[]),bn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;jf(t,e,c)}else r.unshift(o),jf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function jf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function fP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new S(-301,!1);r.push(e[i],s)}}}function pP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bn(e)&&(n[""]=t)}}function gP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Xi(i.type,!0)),o=new Wr(s,bn(i),ce);t.blueprint[r]=o,n[r]=o,cP(t,e,r,kT(t,n,i.hostVars,jt),i)}function yP(t,e,n){let r=Tt(e,t),i=LT(n),s=t[Ft].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ku(t,Gu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function vP(t,e,n,r,i,s){let o=Tt(t,e);_P(e[fe],o,s,t.value,n,r,i)}function _P(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?No(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function IP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];OT(r,n,c,u,l,d)}}function wP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function jT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function BT(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];UE(s),a.contentQueries(2,e[o],o)}}}finally{J(r)}}}function Ku(t,e){return t[Io]?t[yw][kt]=e:t[Io]=e,t[yw]=e,e}function Bf(t,e,n){UE(0);let r=J(null);try{e(t,n)}finally{J(r)}}function EP(t){return t[_o]||(t[_o]=[])}function TP(t){return t.cleanup||(t.cleanup=[])}function DP(t,e,n){return(t===null||bn(t))&&(n=lx(n[e.index])),n[fe]}function $T(t,e){let n=t[rs],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function tg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];OT(l,u,r,a,c,i)}}function bP(t,e,n){let r=NE(e,t);xM(t[fe],r,n)}function CP(t,e){let n=hr(e,t),r=n[H];SP(r,n);let i=n[tn];i!==null&&n[vo]===null&&(n[vo]=qp(i,n[rs])),ng(r,n,n[$e])}function SP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ng(t,e,n){Op(e);try{let r=t.viewQuery;r!==null&&Bf(1,r,n);let i=t.template;i!==null&&FT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[is]?.finishViewCreation(t),t.staticContentQueries&&BT(t,e),t.staticViewQueries&&Bf(2,t.viewQuery,n);let s=t.components;s!==null&&AP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,kp()}}function AP(t,e){for(let n=0;n<e.length;n++)CP(t,e[n])}function Qu(t,e,n,r){let i=J(null);try{let s=e.tView,a=t[O]&4096?4096:16,c=Gu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Pu]=u;let l=t[is];return l!==null&&(c[is]=l.createEmbeddedView(s)),ng(s,c,n),c}finally{J(i)}}function qT(t,e){let n=Ze+e;if(n<t.length)return t[n]}function Do(t,e){return!e||e.firstChild===null||iT(t)}function Yu(t,e,n,r=!0){let i=e[H];if(FM(i,e,t,n),r){let o=Uf(n,t),a=e[fe],c=Kp(a,t[zr]);c!==null&&OM(i,t[Ut],a,e,c,o)}let s=e[vo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function HT(t,e){let n=To(t,e);return n!==void 0&&qu(n[H],n),n}function vu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Zt(s)),An(s)&&RP(s,r);let o=n.type;if(o&8)vu(t,e,n.child,r);else if(o&32){let a=Wp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=RT(e,n);if(Array.isArray(a))r.push(...a);else{let c=Eo(e[Lt]);vu(c[H],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RP(t,e){for(let n=Ze;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&vu(r[H],r,i,e)}t[zr]!==t[tn]&&e.push(t[zr])}var zT=[];function NP(t){return t[Hr]??xP(t)}function xP(t){let e=zT.pop()??Object.create(PP);return e.lView=t,e}function MP(t){t.lView[Hr]!==t&&(t.lView=null,zT.push(t))}var PP=oe(T({},PI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wo(t.lView)},consumerOnSignalRead(){this.lView[Hr]=this}}),GT=100;function WT(t,e=!0,n=0){let r=t[Ft],i=r.rendererFactory,s=!1;s||i.begin?.();try{OP(t,n)}catch(o){throw e&&$T(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function OP(t,e){$f(t,e);let n=0;for(;Np(t);){if(n===GT)throw new S(103,!1);n++,$f(t,1)}}function kP(t,e,n,r){let i=e[O];if((i&256)===256)return;let s=!1;!s&&e[Ft].inlineEffectRunner?.flush(),Op(e);let o=null,a=null;!s&&FP(t)&&(a=NP(e),o=OI(a));try{xE(e),Ex(t.bindingStartIndex),n!==null&&FT(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&iu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&su(e,d,0,null),ef(e,0)}if(LP(e),KT(e,0),t.contentQueries!==null&&BT(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&iu(e,d)}else{let d=t.contentHooks;d!==null&&su(e,d,1),ef(e,1)}ZM(t,e);let u=t.components;u!==null&&YT(e,u,0);let l=t.viewQuery;if(l!==null&&Bf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&iu(e,d)}else{let d=t.viewHooks;d!==null&&su(e,d,2),ef(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xh]){for(let d of e[Xh])d();e[Xh]=null}s||(e[O]&=-73)}catch(c){throw wo(e),c}finally{a!==null&&(kI(a,o),MP(a)),kp()}}function FP(t){return t.type!==2}function KT(t,e){for(let n=oT(t);n!==null;n=aT(n))for(let r=Ze;r<n.length;r++){let i=n[r];QT(i,e)}}function LP(t){for(let e=oT(t);e!==null;e=aT(e)){if(!(e[O]&Cp.HasTransplantedViews))continue;let n=e[fu];for(let r=0;r<n.length;r++){let i=n[r],s=i[qe];hx(i)}}}function VP(t,e,n){let r=hr(e,t);QT(r,n)}function QT(t,e){Rp(t)&&$f(t,e)}function $f(t,e){let r=t[H],i=t[O],s=t[Hr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Mh(s)),s&&(s.dirty=!1),t[O]&=-9217,o)kP(r,t,r.template,t[$e]);else if(i&8192){KT(t,1);let a=r.components;a!==null&&YT(t,a,1)}}function YT(t,e,n){for(let r=0;r<e.length;r++)VP(t,e[r],n)}function rg(t){for(t[Ft].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=Eo(t);if(rx(t)&&!e)return t;t=e}return null}var Kr=class{get rootNodes(){let e=this._lView,n=e[H];return vu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(An(e)){let n=e[hu],r=n?n.indexOf(this):-1;r>-1&&(To(e,r),lu(n,r))}this._attachedToViewContainer=!1}qu(this._lView[H],this._lView)}onDestroy(e){ME(this._lView,e)}markForCheck(){rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Tf(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,WT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,CT(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e,Tf(this._lView)}},Ju=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BP;let t=e;return t})(),UP=Ju,jP=class extends UP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Qu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Kr(i)}};function BP(){return $P(nt(),ee())}function $P(t,e){return t.type&4?new jP(e,t,ju(t,e)):null}var F9=new RegExp(`^(\\d+)*(${eM}|${Xx})*(.*)`);var qP=()=>null;function bo(t,e){return qP(t,e)}var _u=class{},qf=class{},Iu=class{};function HP(t){let e=Error(`No component factory found for ${Je(t)}.`);return e[zP]=t,e}var zP="ngComponent";var Hf=class{resolveComponentFactory(e){throw HP(e)}},ls=(()=>{let e=class e{};e.NULL=new Hf;let t=e;return t})(),Co=class{},ds=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>GP();let t=e;return t})();function GP(){let t=ee(),e=nt(),n=hr(e.index,t);return($r(n)?n:t)[fe]}var WP=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),of={};var kw=new Set;function hs(t){kw.has(t)||(kw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Fw(...t){}function KP(){let t=typeof Dn.requestAnimationFrame=="function",e=Dn[t?"requestAnimationFrame":"setTimeout"],n=Dn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=KP().nativeRequestAnimationFrame,JP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,QP,Fw,Fw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},QP={};function ig(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zf(t),t.isCheckStableRunning=!0,ig(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zf(t))}function JP(t){let e=()=>{YP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(ZP(a))return n.invokeTask(i,s,o,a);try{return Lw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Vw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Lw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Vw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zf(t),ig(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Lw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vw(t){t._nesting--,ig(t)}function ZP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Yi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yi||{}),XP={destroy(){}};function sg(t,e){!e&&tx(sg);let n=e?.injector??I(Me);if(!AM(n))return XP;hs("NgAfterNextRender");let r=n.get(og),i=r.handler??=new Wf,s=e?.phase??Yi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Up).onDestroy(o),c=Vt(n,()=>new Gf(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Gf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=I(Z),this.errorHandler=I(Xt,{optional:!0}),I(_u,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Wf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Yi.EarlyRead]:new Set,[Yi.Write]:new Set,[Yi.MixedReadWrite]:new Set,[Yi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},og=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function wu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=pf(i,a);else if(s==2){let c=a,u=e[++o];r=pf(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Eu=class extends ls{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=or(e);return new as(n,this.ngModule)}};function Uw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function eO(t){let e=t.toLowerCase();return e==="svg"?RE:e==="math"?ax:null}var Kf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nu(r);let i=this.injector.get(e,of,r);return i!==of||n===of?i:this.parentInjector.get(e,n,r)}},as=class extends Iu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Uw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Uw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=J(null);try{i=i||this.ngModule;let o=i instanceof Xe?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Kf(e,o):e,c=a.get(Co,null);if(c===null)throw new S(407,!1);let u=a.get(WP,null),l=a.get(og,null),d=a.get(_u,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?tP(f,r,this.componentDef.encapsulation,a):bT(f,g,eO(g)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let _=null;y!==null&&(_=qp(y,a,!0));let j=Xp(0,null,null,1,0,null,null,null,null,null,null),q=Gu(null,j,null,m,null,null,h,f,a,null,_);Op(q);let B,ve;try{let ne=this.componentDef,Ne,Wt=null;ne.findHostDirectiveDefs?(Ne=[],Wt=new Map,ne.findHostDirectiveDefs(ne,Ne,Wt),Ne.push(ne)):Ne=[ne];let Lr=tO(q,y),Mi=nO(Lr,y,ne,Ne,q,h,f);ve=Ap(j,Et),y&&sO(f,ne,y,r),n!==void 0&&oO(ve,this.ngContentSelectors,n),B=iO(Mi,ne,Ne,Wt,q,[aO]),ng(j,q,null)}finally{kp()}return new Qf(this.componentType,B,ju(ve,q),q,ve)}finally{J(s)}}},Qf=class extends qf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;tg(s[H],s,i,e,n),this.previousInputValues.set(e,n);let o=hr(this._tNode.index,s);rg(o)}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tO(t,e){let n=t[H],r=Et;return t[r]=e,Fo(n,r,2,"#host",null)}function nO(t,e,n,r,i,s,o){let a=i[H];rO(r,t,e,o);let c=null;e!==null&&(c=qp(e,i[rs]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Gu(i,LT(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&jf(a,t,r.length-1),Ku(i,d),i[t.index]=d}function rO(t,e,n,r){for(let i of t)e.mergedAttrs=mo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(wu(e,e.mergedAttrs,!0),n!==null&&xT(r,n,e))}function iO(t,e,n,r,i,s){let o=nt(),a=i[H],c=Tt(o,i);VT(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=os(i,a,d,o);ar(h,i)}UT(a,i,o),c&&ar(c,i);let u=os(i,a,o.directiveStart+o.componentOffset,o);if(t[$e]=i[$e]=u,s!==null)for(let l of s)l(u,e);return Yp(a,o,i),u}function sO(t,e,n,r){if(r)vf(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=jN(e.selectors[0]);i&&vf(t,n,i),s&&s.length>0&&NT(t,n,s.join(" "))}}function oO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function aO(){let t=nt();Uu(ee()[H],t)}var fs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cO;let t=e;return t})();function cO(){let t=nt();return lO(t,ee())}var uO=fs,JT=class extends uO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fp(this._hostTNode,this._hostLView);if(WE(e)){let n=gu(e,this._hostLView),r=pu(e),i=n[H].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=jw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ze}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=bo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Do(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!nx(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new as(or(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(Xe,null);y&&(s=y)}let l=or(c.componentType??{}),d=bo(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Do(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(dx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[qe],u=new JT(c,c[Ut],c[qe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Yu(o,i,s,r),e.attachToViewContainerRef(),aE(af(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=jw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=To(this._lContainer,n);r&&(lu(af(this._lContainer),n),qu(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=To(this._lContainer,n);return r&&lu(af(this._lContainer),n)!=null?new Kr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jw(t){return t[hu]}function af(t){return t[hu]||(t[hu]=[])}function lO(t,e){let n,r=e[t.index];return An(r)?n=r:(n=jT(r,e,null,t),e[t.index]=n,Ku(e,n)),hO(n,e,t,r),new JT(n,t,e)}function dO(t,e){let n=t[fe],r=n.createComment(""),i=Tt(e,t),s=Kp(n,i);return yu(n,s,r,qM(n,i),!1),r}var hO=gO,fO=()=>!1;function pO(t,e,n){return fO(t,e,n)}function gO(t,e,n,r){if(t[zr])return;let i;n.type&8?i=Zt(r):i=dO(e,n),t[zr]=i}function mO(t){return typeof t=="function"&&t[xh]!==void 0}function ZT(t){return mO(t)&&typeof t.set=="function"}function yO(t){return Object.getPrototypeOf(t.prototype).constructor}function vO(t){let e=yO(t.type),n=!0,r=[t];for(;e;){let i;if(bn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=tu(t.inputs),o.inputTransforms=tu(t.inputTransforms),o.declaredInputs=tu(t.declaredInputs),o.outputs=tu(t.outputs);let a=i.hostBindings;a&&TO(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&wO(t,c),u&&EO(t,u),_O(t,i),cN(t.outputs,i.outputs),bn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===vO&&(n=!1)}}e=Object.getPrototypeOf(e)}IO(r)}function _O(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function IO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mo(i.hostAttrs,n=mo(n,i.hostAttrs))}}function tu(t){return t===es?{}:t===ct?[]:t}function wO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function EO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function TO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ag(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var cr=class{},So=class{};var Yf=class extends cr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eu(this);let i=mE(e);this._bootstrapComponents=DT(i.bootstrap),this._r3Injector=nT(e,n,[{provide:cr,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jf=class extends So{constructor(e){super(),this.moduleType=e}create(e){return new Yf(this.moduleType,e,[])}};var Tu=class extends cr{constructor(e){super(),this.componentFactoryResolver=new Eu(this),this.instance=null;let n=new yo([...e.providers,{provide:cr,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],e.parent||Dp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zu(t,e,n=null){return new Tu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Zr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XT(t){return cg(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function DO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function cg(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function eD(t,e,n){return t[e]=n}function bO(t,e){return t[e]}function nn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function CO(t){return(t.flags&32)===32}function SO(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Fo(e,t,4,o||null,ss(u,a));eg(e,n,l,ss(u,c)),Uu(e,l);let d=l.tView=Xp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ur(t,e,n,r,i,s,o,a){let c=ee(),u=xe(),l=t+Et,d=u.firstCreatePass?SO(l,u,c,e,n,r,i,s,o):u.data[l];Yr(d,!1);let h=AO(u,c,d,t);Lu()&&Hu(u,c,h,d),ar(h,c);let f=jT(h,c,h,d);return c[l]=f,Ku(c,f),pO(f,d,c),Fu(d)&&Jp(u,c,d),o!=null&&Zp(c,d,a),ur}var AO=RO;function RO(t,e,n,r){return Vu(!0),e[fe].createComment("")}function gr(t,e,n,r){let i=ee(),s=Jr();if(nn(i,s,e)){let o=xe(),a=Oo();vP(a,i,t,e,n,r)}return gr}function tD(t,e,n,r){return nn(t,Jr(),n)?e+No(n)+r:jt}function nu(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function NO(t){return(t&2)==2}function xO(t,e){return t&131071|e<<17}function Zf(t){return t|2}function cs(t){return(t&131068)>>2}function cf(t,e){return t&-131069|e<<2}function MO(t){return(t&1)===1}function Xf(t){return t|1}function PO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qr(o),c=cs(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||xo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Qr(t[a+1]);t[r+1]=nu(h,a),h!==0&&(t[h+1]=cf(t[h+1],r)),t[a+1]=xO(t[a+1],r)}else t[r+1]=nu(a,0),a!==0&&(t[a+1]=cf(t[a+1],r)),a=r;else t[r+1]=nu(c,0),a===0?a=r:t[c+1]=cf(t[c+1],r),c=r;u&&(t[r+1]=Zf(t[r+1])),Bw(t,l,r,!0),Bw(t,l,r,!1),OO(e,l,t,r,s),o=nu(a,c),s?e.classBindings=o:e.styleBindings=o}function OO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&xo(s,e)>=0&&(n[r+1]=Xf(n[r+1]))}function Bw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Qr(i):cs(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];kO(c,e)&&(a=!0,t[o+1]=r?Xf(u):Zf(u)),o=r?Qr(u):cs(u)}a&&(t[n+1]=r?Zf(i):Xf(i))}function kO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xo(t,e)>=0:!1}var Pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FO(t){return t.substring(Pt.key,Pt.keyEnd)}function LO(t){return VO(t),nD(t,rD(t,0,Pt.textEnd))}function nD(t,e){let n=Pt.textEnd;return n===e?-1:(e=Pt.keyEnd=UO(t,Pt.key=e,n),rD(t,e,n))}function VO(t){Pt.key=0,Pt.keyEnd=0,Pt.value=0,Pt.valueEnd=0,Pt.textEnd=t.length}function rD(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function UO(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function He(t,e,n){let r=ee(),i=Jr();if(nn(r,i,e)){let s=xe(),o=Oo();Wu(s,o,r,t,e,r[fe],n,!1)}return He}function ep(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";tg(t,n,s[o],o,r)}function Xr(t,e,n){return iD(t,e,n,!1),Xr}function jO(t,e){return iD(t,e,null,!0),jO}function xn(t){$O(KO,BO,t,!0)}function BO(t,e){for(let n=LO(e);n>=0;n=nD(e,n))wp(t,FO(e),!0)}function iD(t,e,n,r){let i=ee(),s=xe(),o=LE(2);if(s.firstUpdatePass&&oD(s,t,o,r),e!==jt&&nn(i,o,e)){let a=s.data[fr()];aD(s,a,i,i[fe],t,i[o+1]=YO(e,n),r,o)}}function $O(t,e,n,r){let i=xe(),s=LE(2);i.firstUpdatePass&&oD(i,null,s,r);let o=ee();if(n!==jt&&nn(o,s,n)){let a=i.data[fr()];if(cD(a,r)&&!sD(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=pf(c,n||"")),ep(i,a,o,n,r)}else QO(i,a,o,o[fe],o[s+1],o[s+1]=WO(t,e,n),r,s)}}function sD(t,e){return e>=t.expandoStartIndex}function oD(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[fr()],o=sD(t,n);cD(s,r)&&e===null&&!o&&(e=!1),e=qO(i,s,e,r),PO(i,s,e,n,o,r)}}function qO(t,e,n,r){let i=VE(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=uf(null,t,e,n,r),n=Ao(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=uf(i,t,e,n,r),s===null){let c=HO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=uf(null,t,e,c[1],r),c=Ao(c,e.attrs,r),zO(t,e,r,c))}else s=GO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function HO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(cs(r)!==0)return t[Qr(r)]}function zO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qr(i)]=r}function GO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ao(r,o,n)}return Ao(r,e.attrs,n)}function uf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ao(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ao(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),wp(t,o,n?!0:e[++s]))}return t===void 0?null:t}function WO(t,e,n){if(n==null||n==="")return ct;let r=[],i=bt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function KO(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&wp(t,r,n)}function QO(t,e,n,r,i,s,o,a){i===jt&&(i=ct);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,y;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),g!==null&&aD(t,e,n,r,g,y,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function aD(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=MO(u)?$w(c,e,n,i,cs(u),o):void 0;if(!Du(l)){Du(s)||NO(u)&&(s=$w(c,null,n,i,a,o));let d=NE(fr(),n);YM(r,o,d,i,s)}}function $w(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===jt&&(h=d?ct:void 0);let f=d?Jh(h,r):l===r?h:void 0;if(u&&!Du(f)&&(f=Jh(c,r)),Du(f)&&(a=f,o))return a;let g=t[i+1];i=o?Qr(g):cs(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Jh(c,r))}return a}function Du(t){return t!==void 0}function YO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(bt(t)))),t}function cD(t,e){return(t.flags&(e?8:16))!==0}var tp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function lf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function JO(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=lf(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=lf(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),y=n(o,d),m=n(s,u);if(Object.is(m,y)){let _=n(a,h);Object.is(_,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new bu,i??=Hw(t,s,o,n),np(t,r,s,m))t.updateValue(s,u),s++,o++;else if(i.has(m))r.set(g,t.detach(s)),o--;else{let _=t.create(s,e[s]);t.attach(s,_),s++,o++}}for(;s<=a;)qw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=lf(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new bu,i??=Hw(t,s,o,n);let h=n(s,l);if(np(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)qw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function np(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function qw(t,e,n,r,i){if(np(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Hw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var bu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function V9(t,e,n){hs("NgControlFlow");let r=ee(),i=Jr(),s=op(r,Et+t),o=0;if(nn(r,i,e)){let a=J(null);try{if(HT(s,o),e!==-1){let c=ap(r[H],Et+e),u=bo(s,c.tView.ssrId),l=Qu(r,c,n,{dehydratedView:u});Yu(s,l,o,Do(c,u))}}finally{J(a)}}else{let a=qT(s,o);a!==void 0&&(a[$e]=n)}}var rp=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ze}};function U9(t,e){return e}var ip=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function j9(t,e,n,r,i,s,o,a,c,u,l,d,h){hs("NgControlFlow");let f=c!==void 0,g=ee(),y=a?o.bind(g[Lt][$e]):o,m=new ip(f,y);g[Et+t]=m,ur(t+1,e,n,r,i,s),f&&ur(t+2,c,u,l,d,h)}var sp=class extends tp{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ze}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[vo];this.needsIndexUpdate||=e!==this.length,Yu(this.lContainer,n,e,Do(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ZO(this.lContainer,e)}create(e,n){let r=bo(this.lContainer,this.templateTNode.tView.ssrId);return Qu(this.hostLView,this.templateTNode,new rp(this.lContainer,n,e),{dehydratedView:r})}destroy(e){qu(e[H],e)}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return XO(this.lContainer,e)}};function B9(t){let e=J(null),n=fr();try{let r=ee(),i=r[H],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=op(r,a),u=ap(i,a);s.liveCollection=new sp(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(JO(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Jr(),c=o.length===0;if(nn(r,a,c)){let u=n+2,l=op(r,u);if(c){let d=ap(i,u),h=bo(l,d.tView.ssrId),f=Qu(r,d,void 0,{dehydratedView:h});Yu(l,f,0,Do(d,h))}else HT(l,0)}}}finally{J(e)}}function op(t,e){return t[e]}function ZO(t,e){return To(t,e)}function XO(t,e){return qT(t,e)}function ap(t,e){return Ap(t,e)}function ek(t,e,n,r,i,s){let o=e.consts,a=ss(o,i),c=Fo(e,t,2,r,a);return eg(e,n,c,ss(o,s)),c.attrs!==null&&wu(c,c.attrs,!1),c.mergedAttrs!==null&&wu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ht(t,e,n,r){let i=ee(),s=xe(),o=Et+t,a=i[fe],c=s.firstCreatePass?ek(o,s,i,e,n,r):s.data[o],u=tk(s,i,c,a,e,t);i[o]=u;let l=Fu(c);return Yr(c,!0),xT(a,u,c),!CO(c)&&Lu()&&Hu(s,i,u,c),gx()===0&&ar(u,i),mx(),l&&(Jp(s,i,c),Yp(s,c,i)),r!==null&&Zp(i,c),ht}function Bt(){let t=nt();Pp()?kE():(t=t.parent,Yr(t,!1));let e=t;_x(e)&&Ix(),yx();let n=xe();return n.firstCreatePass&&(Uu(n,t),Sp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Px(e)&&ep(n,e,ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ox(e)&&ep(n,e,ee(),e.stylesWithoutHost,!1),Bt}function mr(t,e,n,r){return ht(t,e,n,r),Bt(),mr}var tk=(t,e,n,r,i,s)=>(Vu(!0),bT(r,i,Rx()));function nk(t,e,n,r,i){let s=e.consts,o=ss(s,r),a=Fo(e,t,8,"ng-container",o);o!==null&&wu(a,o,!0);let c=ss(s,i);return eg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Xu(t,e,n){let r=ee(),i=xe(),s=t+Et,o=i.firstCreatePass?nk(s,i,r,e,n):i.data[s];Yr(o,!0);let a=rk(i,r,o,t);return r[s]=a,Lu()&&Hu(i,r,a,o),ar(a,r),Fu(o)&&(Jp(i,r,o),Yp(i,o,r)),n!=null&&Zp(r,o),Xu}function el(){let t=nt(),e=xe();return Pp()?kE():(t=t.parent,Yr(t,!1)),e.firstCreatePass&&(Uu(e,t),Sp(t)&&e.queries.elementEnd(t)),el}var rk=(t,e,n,r)=>(Vu(!0),MM(e[fe],""));function ug(){return ee()}function lg(t,e,n){let r=ee(),i=Jr();if(nn(r,i,e)){let s=xe(),o=Oo(),a=VE(s.data),c=DP(a,o,r);Wu(s,o,r,t,e,c,n,!0)}return lg}var Cu="en-US";var ik=Cu;function sk(t){typeof t=="string"&&(ik=t.toLowerCase().replace(/_/g,"-"))}function yr(t,e,n,r){let i=ee(),s=xe(),o=nt();return uD(s,i,i[fe],o,t,e,r),yr}function ok(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[_o],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function uD(t,e,n,r,i,s,o){let a=Fu(r),u=t.firstCreatePass&&TP(t),l=e[$e],d=EP(e),h=!0;if(r.type&3||o){let y=Tt(r,e),m=o?o(y):y,_=d.length,j=o?B=>o(Zt(B[r.index])):r.index,q=null;if(!o&&a&&(q=ok(t,e,i,r.index)),q!==null){let B=q.__ngLastListenerFn__||q;B.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,h=!1}else{s=Gw(r,e,l,s,!1);let B=n.listen(m,i,s);d.push(s,B),u&&u.push(i,j,_,_+1)}}else s=Gw(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let m=0;m<y;m+=2){let _=g[m],j=g[m+1],ve=e[_][j].subscribe(s),ne=d.length;d.push(s,ve),u&&u.push(i,r.index,ne,-(ne+1))}}}function zw(t,e,n,r){let i=J(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return $T(t,s),!1}finally{Qt(7,e,n),J(i)}}function Gw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?hr(t.index,e):e;rg(a);let c=zw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=zw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function ft(t=1){return Sx(t)}function ak(t,e,n){return lD(t,"",e,"",n),ak}function lD(t,e,n,r,i){let s=ee(),o=tD(s,e,n,r);if(o!==jt){let a=xe(),c=Oo();Wu(a,c,s,t,o,s[fe],i,!1)}return lD}function Mn(t,e=""){let n=ee(),r=xe(),i=t+Et,s=r.firstCreatePass?Fo(r,i,1,e,null):r.data[i],o=ck(r,n,s,e,t);n[i]=o,Lu()&&Hu(r,n,o,s),Yr(s,!1)}var ck=(t,e,n,r,i)=>(Vu(!0),NM(e[fe],r));function uk(t){return Pn("",t,""),uk}function Pn(t,e,n){let r=ee(),i=tD(r,t,e,n);return i!==jt&&bP(r,fr(),i),Pn}function lk(t,e,n){ZT(e)&&(e=e());let r=ee(),i=Jr();if(nn(r,i,e)){let s=xe(),o=Oo();Wu(s,o,r,t,e,r[fe],n,!1)}return lk}function $9(t,e){let n=ZT(t);return n&&t.set(e),n}function dk(t,e){let n=ee(),r=xe(),i=nt();return uD(r,n,n[fe],i,t,e),dk}function hk(t,e,n){let r=xe();if(r.firstCreatePass){let i=bn(t);cp(n,r.data,r.blueprint,i,!0),cp(e,r.data,r.blueprint,i,!1)}}function cp(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let s=0;s<t.length;s++)cp(t[s],e,n,r,i);else{let s=xe(),o=ee(),a=nt(),c=ns(t)?t:Ye(t.provide),u=EE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ns(t)||!t.multi){let f=new Wr(u,i,ce),g=hf(c,e,i?l:l+h,d);g===-1?(Cf(mu(a,o),s,c),df(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=hf(c,e,l+h,d),g=hf(c,e,l,l+h),y=f>=0&&n[f],m=g>=0&&n[g];if(i&&!m||!i&&!y){Cf(mu(a,o),s,c);let _=gk(i?pk:fk,n.length,i,r,u);!i&&m&&(n[g].providerFactory=_),df(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else{let _=dD(n[i?g:f],u,!i&&r);df(s,t,f>-1?f:g,_)}!i&&r&&m&&n[g].componentProviders++}}}function df(t,e,n,r){let i=ns(e),s=KN(e);if(i||s){let c=(s?Ye(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function dD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fk(t,e,n,r){return up(this.multi,[])}function pk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=os(n,n[H],this.providerFactory.index,r);s=a.slice(0,o),up(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],up(i,s);return s}function up(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gk(t,e,n,r,i){let s=new Wr(t,n,ce);return s.multi=[],s.index=e,s.componentProviders=0,dD(s,i,r&&!n),s}function q9(t,e=[]){return n=>{n.providersResolver=(r,i)=>hk(r,i?i(t):t,e)}}var mk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=_E(!1,r.type),s=i.length>0?Zu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(D(Xe))});let t=e;return t})();function Lo(t){hs("NgStandalone"),t.getStandaloneInjector=e=>e.get(mk).getOrCreateStandaloneInjector(t)}function H9(t,e,n){let r=FE()+t,i=ee();return i[r]===jt?eD(i,r,n?e.call(n):e()):bO(i,r)}function z9(t,e,n,r){return vk(ee(),FE(),t,e,n,r)}function yk(t,e){let n=t[e];return n===jt?void 0:n}function vk(t,e,n,r,i,s){let o=e+n;return nn(t,o,i)?eD(t,o+1,s?r.call(s,i):r(i)):yk(t,o+1)}var lr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},hD=new lr("17.3.5"),tl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var fD=new A("");function Vo(t){return!!t&&typeof t.then=="function"}function pD(t){return!!t&&typeof t.subscribe=="function"}var nl=new A(""),gD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(nl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Vo(o))r.push(o);else if(pD(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uo=new A("");function _k(){LI(()=>{throw new S(600,!1)})}function Ik(t){return t.isBoundToModule}function wk(t,e,n){try{let r=n();return Vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var rn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(rT),this.afterRenderEffectManager=I(og),this.externalTestViews=new Set,this.beforeRender=new de,this.afterTick=new de,this.componentTypes=[],this.components=[],this.isStable=I(Zr).hasPendingTasks.pipe(V(r=>!r)),this._injector=I(Xe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Iu;if(!this._injector.get(gD).done){let f=!s&&gE(r),g=!1;throw new S(405,g)}let a;s?a=r:a=this._injector.get(ls).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Ik(a)?void 0:this._injector.get(cr),u=i||a.selector,l=a.create(Me.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(fD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ff(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new S(101,!1);let i=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,J(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===GT)throw new S(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)Ek(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>lp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>lp(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ff(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Uo,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ff(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ff(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ek(t,e,n){!e&&!lp(t)||Tk(t,n,e)}function lp(t){return Np(t)}function Tk(t,e,n){let r;n?(r=0,t[O]|=1024):t[O]&64?r=0:r=1,WT(t,e,r)}var dp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},rl=(()=>{let e=class e{compileModuleSync(r){return new Jf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=mE(r),o=DT(s.declarations).reduce((a,c)=>{let u=or(c);return u&&a.push(new as(u)),a},[]);return new dp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dk=(()=>{let e=class e{constructor(){this.zone=I(Z),this.applicationRef=I(rn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bk(t){return[{provide:Z,useFactory:t},{provide:ts,multi:!0,useFactory:()=>{let e=I(Dk,{optional:!0});return()=>e.initialize()}},{provide:ts,multi:!0,useFactory:()=>{let e=I(Rk);return()=>{e.initialize()}}},{provide:rT,useFactory:Ck}]}function Ck(){let t=I(Z),e=I(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Sk(t){let e=bk(()=>new Z(Ak(t)));return dr([[],e])}function Ak(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Rk=(()=>{let e=class e{constructor(){this.subscription=new _e,this.initialized=!1,this.zone=I(Z),this.pendingTasks=I(Zr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nk(){return typeof $localize<"u"&&$localize.locale||Cu}var dg=new A("",{providedIn:"root",factory:()=>I(dg,W.Optional|W.SkipSelf)||Nk()});var mD=new A("");var au=null;function xk(t=[],e){return Me.create({name:e,providers:[{provide:Mu,useValue:"platform"},{provide:mD,useValue:new Set([()=>au=null])},...t]})}function Mk(t=[]){if(au)return au;let e=xk(t);return au=e,_k(),Pk(e),e}function Pk(t){t.get(Bp,null)?.forEach(n=>n())}var jo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ok;let t=e;return t})();function Ok(t){return kk(nt(),ee(),(t&16)===16)}function kk(t,e,n){if(ku(t)&&!n){let r=hr(t.index,e);return new Kr(r,r)}else if(t.type&47){let r=e[Lt];return new Kr(r,e)}return null}var hp=class{constructor(){}supports(e){return XT(e)}create(e){return new fp(e)}},Fk=(t,e)=>e,fp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Ww(r,i,s)?n:r,a=Ww(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!XT(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,DO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new pp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Su),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Su),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Su=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new gp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ww(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var mp=class{constructor(){}supports(e){return e instanceof Map||cg(e)}create(){return new yp}},yp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||cg(e)))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new vp(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},vp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Kw(){return new hg([new hp])}var hg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Kw()),deps:[[e,new xu,new Ve]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new S(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:Kw});let t=e;return t})();function Qw(){return new fg([new mp])}var fg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Qw()),deps:[[e,new xu,new Ve]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new S(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:Qw});let t=e;return t})();function yD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Mk(r),s=[Sk(),...n||[]],a=new Tu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Z);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Xt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(mD);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),wk(u,c,()=>{let f=a.get(gD);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(dg,Cu);sk(g||Cu);let y=a.get(rn);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function Bo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function vD(t){let e=or(t);if(!e)return null;let n=new as(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var DD=null;function ps(){return DD}function bD(t){DD??=t}var il=class{};var Te=new A(""),_g=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(Lk),providedIn:"platform"});let t=e;return t})(),CD=new A(""),Lk=(()=>{let e=class e extends _g{constructor(){super(),this._doc=I(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ps().getBaseHref(this._doc)}onPopState(r){let i=ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ig(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function _D(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function On(t){return t&&t[0]!=="?"?"?"+t:t}var kn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(wg),providedIn:"root"});let t=e;return t})(),SD=new A(""),wg=(()=>{let e=class e extends kn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ig(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+On(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+On(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+On(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(_g),D(SD,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AD=(()=>{let e=class e extends kn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ig(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+On(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+On(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(_g),D(SD,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ms=(()=>{let e=class e{constructor(r){this._subject=new Ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=jk(_D(ID(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+On(i))}normalize(r){return e.stripTrailingSlash(Uk(this._basePath,ID(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+On(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+On(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=On,e.joinWithSlash=Ig,e.stripTrailingSlash=_D,e.\u0275fac=function(i){return new(i||e)(D(kn))},e.\u0275prov=b({token:e,factory:()=>Vk(),providedIn:"root"});let t=e;return t})();function Vk(){return new ms(D(kn))}function Uk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ID(t){return t.replace(/\/index.html$/,"")}function jk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function sl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var pg=/\s+/,wD=[],g6=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=wD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(pg):wD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(pg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(pg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(ce(pr),ce(ds))},e.\u0275dir=Sn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[wt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var gg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},m6=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new gg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),ED(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);ED(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ce(fs),ce(Ju),ce(hg))},e.\u0275dir=Sn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ED(t,e){t.context.$implicit=e.item}var Eg=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new mg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){TD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){TD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ce(fs),ce(Ju))},e.\u0275dir=Sn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mg=class{constructor(){this.$implicit=null,this.ngIf=null}};function TD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Je(e)}'.`)}var y6=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:en.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(ce(pr),ce(fg),ce(ds))},e.\u0275dir=Sn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var Bk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})(),Tg="browser",$k="server";function qk(t){return t===Tg}function ol(t){return t===$k}var RD=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>qk(I(Dt))?new yg(I(Te),window):new vg});let t=e;return t})(),yg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Hk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Hk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var vg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},gs=class{};var qo=class{},cl=class{},ei=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var bg=class{encodeKey(e){return xD(e)}encodeValue(e){return xD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Wk(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var Kk=/%(\d[a-f0-9])/gi,Qk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xD(t){return encodeURIComponent(t).replace(Kk,(e,n)=>Qk[n]??e)}function al(t){return`${t}`}var vr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Wk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(al):[al(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(al(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(al(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Cg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Yk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function MD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PD(t){return typeof Blob<"u"&&t instanceof Blob}function OD(t){return typeof FormData<"u"&&t instanceof FormData}function Jk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var $o=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Yk(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ei,this.context??=new Cg,!this.params)this.params=new vr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||MD(this.body)||PD(this.body)||OD(this.body)||Jk(this.body)?this.body:this.body instanceof vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OD(this.body)?null:PD(this.body)?this.body.type||null:MD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new t(n,r,o,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},ys=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ys||{}),Ho=class{constructor(e,n=dl.Ok,r="OK"){this.headers=e.headers||new ei,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sg=class t extends Ho{constructor(e={}){super(e),this.type=ys.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ul=class t extends Ho{constructor(e={}){super(e),this.type=ys.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ll=class extends Ho{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dl=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(dl||{});function Dg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Zk=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof $o)o=r;else{let u;s.headers instanceof ei?u=s.headers:u=new ei(s.headers);let l;s.params&&(s.params instanceof vr?l=s.params:l=new vr({fromObject:s.params})),o=new $o(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=M(o).pipe(En(u=>this.handler.handle(u)));if(r instanceof $o||s.observe==="events")return a;let c=a.pipe(Qe(u=>u instanceof ul));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(V(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(V(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(V(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(V(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new vr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Dg(s,i))}post(r,i,s={}){return this.request("POST",r,Dg(s,i))}put(r,i,s={}){return this.request("PUT",r,Dg(s,i))}};e.\u0275fac=function(i){return new(i||e)(D(qo))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function VD(t,e){return e(t)}function Xk(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function e1(t,e,n){return(r,i)=>Vt(n,()=>e(r,s=>t(s,i)))}var t1=new A(""),Ag=new A(""),n1=new A(""),r1=new A("");function i1(){let t=null;return(e,n)=>{t===null&&(t=(I(t1,{optional:!0})??[]).reduceRight(Xk,VD));let r=I(Zr),i=r.add();return t(e,n).pipe(rr(()=>r.remove(i)))}}var kD=(()=>{let e=class e extends qo{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=I(Zr);let s=I(r1,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Ag),...this.injector.get(n1,[])]));this.chain=s.reduceRight((o,a)=>e1(o,a,this.injector),VD)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(rr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(D(cl),D(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();var s1=/^\)\]\}',?\n/;function o1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var FD=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new S(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?he(i.\u0275loadImpl()):M(null)).pipe(at(()=>new G(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,_)=>a.setRequestHeader(m,_.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let m=r.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(r.responseType){let m=r.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let m=a.statusText||"OK",_=new ei(a.getAllResponseHeaders()),j=o1(a)||r.url;return u=new Sg({headers:_,status:a.status,statusText:m,url:j}),u},d=()=>{let{headers:m,status:_,statusText:j,url:q}=l(),B=null;_!==dl.NoContent&&(B=typeof a.response>"u"?a.responseText:a.response),_===0&&(_=B?dl.Ok:0);let ve=_>=200&&_<300;if(r.responseType==="json"&&typeof B=="string"){let ne=B;B=B.replace(s1,"");try{B=B!==""?JSON.parse(B):null}catch(Ne){B=ne,ve&&(ve=!1,B={error:Ne,text:B})}}ve?(o.next(new ul({body:B,headers:m,status:_,statusText:j,url:q||void 0})),o.complete()):o.error(new ll({error:B,headers:m,status:_,statusText:j,url:q||void 0}))},h=m=>{let{url:_}=l(),j=new ll({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});o.error(j)},f=!1,g=m=>{f||(o.next(l()),f=!0);let _={type:ys.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),r.responseType==="text"&&a.responseText&&(_.partialText=a.responseText),o.next(_)},y=m=>{let _={type:ys.UploadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),o.next(_)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(c),o.next({type:ys.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(D(gs))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),UD=new A(""),a1="XSRF-TOKEN",c1=new A("",{providedIn:"root",factory:()=>a1}),u1="X-XSRF-TOKEN",l1=new A("",{providedIn:"root",factory:()=>u1}),hl=class{},d1=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=sl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(D(Te),D(Dt),D(c1))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function h1(t,e){let n=t.url.toLowerCase();if(!I(UD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=I(hl).getToken(),i=I(l1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var jD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(jD||{});function f1(t,e){return{\u0275kind:t,\u0275providers:e}}function p1(...t){let e=[Zk,FD,kD,{provide:qo,useExisting:kD},{provide:cl,useExisting:FD},{provide:Ag,useValue:h1,multi:!0},{provide:UD,useValue:!0},{provide:hl,useClass:d1}];for(let n of t)e.push(...n.\u0275providers);return dr(e)}var LD=new A("");function g1(){return f1(jD.LegacyInterceptors,[{provide:LD,useFactory:i1},{provide:Ag,useExisting:LD,multi:!0}])}var R6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({providers:[p1(g1())]});let t=e;return t})();var xg=class extends il{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mg=class t extends xg{static makeCurrent(){bD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=m1();return n==null?null:y1(n)}resetBaseElement(){zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sl(document.cookie,e)}},zo=null;function m1(){return zo=zo||document.querySelector("base"),zo?zo.getAttribute("href"):null}function y1(t){return new URL(t,document.baseURI).pathname}var v1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Pg=new A(""),HD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(D(Pg),D(Z))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),fl=class{constructor(e){this._doc=e}},Rg="ng-app-id",zD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ol(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Rg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Rg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Rg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(D(Te),D(jp),D($p,8),D(Dt))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kg=/%COMP%/g,GD="%COMP%",_1=`_nghost-${GD}`,I1=`_ngcontent-${GD}`,w1=!0,E1=new A("",{providedIn:"root",factory:()=>w1});function T1(t){return I1.replace(kg,t)}function D1(t){return _1.replace(kg,t)}function WD(t,e){return e.map(n=>n.replace(kg,t))}var BD=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ol(c),this.defaultRenderer=new Go(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=oe(T({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof pl?s.applyToHost(r):s instanceof Wo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new pl(u,l,i,this.appId,d,a,c,h);break;case Jt.ShadowDom:return new Og(u,l,r,i,a,c,this.nonce,h);default:o=new Wo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(D(HD),D(zD),D(jp),D(E1),D(Te),D(Dt),D(Z),D($p))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Go=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ng[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($D(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($D(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Ng[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ng[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(en.DashCase|en.Important)?e.style.setProperty(n,r,i&en.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&en.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ps().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $D(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Og=class extends Go{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=WD(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wo=class extends Go{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?WD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pl=class extends Wo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=T1(u),this.hostAttr=D1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},b1=(()=>{let e=class e extends fl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(D(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),qD=["alt","control","meta","shift"],C1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},A1=(()=>{let e=class e extends fl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ps().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),qD.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=C1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),qD.forEach(a=>{if(a!==s){let c=S1[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(D(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function W6(t,e){return yD(T({rootComponent:t},R1(e)))}function R1(t){return{appProviders:[...O1,...t?.providers??[]],platformProviders:P1}}function N1(){Mg.makeCurrent()}function x1(){return new Xt}function M1(){return uT(document),document}var P1=[{provide:Dt,useValue:Tg},{provide:Bp,useValue:N1,multi:!0},{provide:Te,useFactory:M1,deps:[]}];var O1=[{provide:Mu,useValue:"root"},{provide:Xt,useFactory:x1,deps:[]},{provide:Pg,useClass:b1,multi:!0,deps:[Te,Z,Dt]},{provide:Pg,useClass:A1,multi:!0,deps:[Te]},BD,zD,HD,{provide:Co,useExisting:BD},{provide:gs,useClass:v1,deps:[]},[]];var KD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(D(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=D(k1),s},providedIn:"root"});let t=e;return t})(),k1=(()=>{let e=class e extends Fg{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case dt.NONE:return i;case dt.HTML:return Rn(i,"HTML")?bt(i):Hp(this._doc,String(i)).toString();case dt.STYLE:return Rn(i,"Style")?bt(i):i;case dt.SCRIPT:if(Rn(i,"Script"))return bt(i);throw new S(5200,!1);case dt.URL:return Rn(i,"URL")?bt(i):$u(String(i));case dt.RESOURCE_URL:if(Rn(i,"ResourceURL"))return bt(i);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(r){return fT(r)}bypassSecurityTrustStyle(r){return pT(r)}bypassSecurityTrustScript(r){return gT(r)}bypassSecurityTrustUrl(r){return mT(r)}bypassSecurityTrustResourceUrl(r){return yT(r)}};e.\u0275fac=function(i){return new(i||e)(D(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ti=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ti||{}),Q6="*";function ZD(t,e){return{type:ti.Trigger,name:t,definitions:e,options:{}}}function Lg(t,e=null){return{type:ti.Animate,styles:e,timings:t}}function Y6(t,e=null){return{type:ti.Sequence,steps:t,options:e}}function gl(t){return{type:ti.Style,styles:t,offset:null}}function ml(t,e,n){return{type:ti.State,name:t,styles:e,options:n}}function Vg(t,e,n=null){return{type:ti.Transition,expr:t,animation:e,options:n}}var YD=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},JD=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},J6="!";var XD=["toast-component",""];function F1(t,e){if(t&1){let n=ug();ht(0,"button",5),yr("click",function(){xp(n);let i=ft();return Mp(i.remove())}),ht(1,"span",6),Mn(2,"\xD7"),Bt()()}}function L1(t,e){if(t&1&&(Xu(0),Mn(1),el()),t&2){let n=ft(2);Ce(),Pn("[",n.duplicatesCount+1,"]")}}function V1(t,e){if(t&1&&(ht(0,"div"),Mn(1),ur(2,L1,2,1,"ng-container",4),Bt()),t&2){let n=ft();xn(n.options.titleClass),gr("aria-label",n.title),Ce(),Pn(" ",n.title," "),Ce(),He("ngIf",n.duplicatesCount)}}function U1(t,e){if(t&1&&mr(0,"div",7),t&2){let n=ft();xn(n.options.messageClass),He("innerHTML",n.message,zp)}}function j1(t,e){if(t&1&&(ht(0,"div",8),Mn(1),Bt()),t&2){let n=ft();xn(n.options.messageClass),gr("aria-label",n.message),Ce(),Pn(" ",n.message," ")}}function B1(t,e){if(t&1&&(ht(0,"div"),mr(1,"div",9),Bt()),t&2){let n=ft();Ce(),Xr("width",n.width+"%")}}function $1(t,e){if(t&1){let n=ug();ht(0,"button",5),yr("click",function(){xp(n);let i=ft();return Mp(i.remove())}),ht(1,"span",6),Mn(2,"\xD7"),Bt()()}}function q1(t,e){if(t&1&&(Xu(0),Mn(1),el()),t&2){let n=ft(2);Ce(),Pn("[",n.duplicatesCount+1,"]")}}function H1(t,e){if(t&1&&(ht(0,"div"),Mn(1),ur(2,q1,2,1,"ng-container",4),Bt()),t&2){let n=ft();xn(n.options.titleClass),gr("aria-label",n.title),Ce(),Pn(" ",n.title," "),Ce(),He("ngIf",n.duplicatesCount)}}function z1(t,e){if(t&1&&mr(0,"div",7),t&2){let n=ft();xn(n.options.messageClass),He("innerHTML",n.message,zp)}}function G1(t,e){if(t&1&&(ht(0,"div",8),Mn(1),Bt()),t&2){let n=ft();xn(n.options.messageClass),gr("aria-label",n.message),Ce(),Pn(" ",n.message," ")}}function W1(t,e){if(t&1&&(ht(0,"div"),mr(1,"div",9),Bt()),t&2){let n=ft();Ce(),Xr("width",n.width+"%")}}var Ug=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},jg=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Bg=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new de;_activate=new de;_manualClose=new de;_resetTimeout=new de;_countDuplicate=new de;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},vs=class{toastId;config;message;title;toastType;toastRef;_onTap=new de;_onAction=new de;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},eb={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},tb=new A("ToastConfig"),$g=class extends jg{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},K1=(()=>{class t{_document=I(Te);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qg=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},Q1=(()=>{class t{_overlayContainer=I(K1);_componentFactoryResolver=I(ls);_appRef=I(rn);_document=I(Te);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new $g(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new qg(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yl=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=T(T({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=T(T({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return T(T({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(dt.HTML,r));let l=new Bg(c),d=new vs(this.index,s,u,i,n,l),h=[{provide:vs,useValue:d}],f=Me.create({providers:h,parent:this._injector}),g=new Ug(s.toastComponent,f),y=c.attach(g,s.newestOnTop);l.componentInstance=y.instance;let m={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:y};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(r){return new(r||t)(D(tb),D(Q1),D(Me),D(Fg),D(Z))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Y1=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=oe(T({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=oe(T({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=oe(T({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(ce(yl),ce(vs),ce(Z))};static \u0275cmp=Mo({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&yr("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(lg("@flyInOut",i.state),xn(i.toastClasses),Xr("display",i.displayStyle))},standalone:!0,features:[Lo],attrs:XD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&ur(0,F1,3,0,"button",0)(1,V1,3,5,"div",1)(2,U1,1,3,"div",2)(3,j1,2,4,"div",3)(4,B1,2,2,"div",4),r&2&&(He("ngIf",i.options.closeButton),Ce(),He("ngIf",i.title),Ce(),He("ngIf",i.message&&i.options.enableHtml),Ce(),He("ngIf",i.message&&!i.options.enableHtml),Ce(),He("ngIf",i.options.progressBar))},dependencies:[Eg],encapsulation:2,data:{animation:[ZD("flyInOut",[ml("inactive",gl({opacity:0})),ml("active",gl({opacity:1})),ml("removed",gl({opacity:0})),Vg("inactive => active",Lg("{{ easeTime }}ms {{ easing }}")),Vg("active => removed",Lg("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),J1=oe(T({},eb),{toastComponent:Y1}),Z1=(t={})=>dr([{provide:tb,useValue:{default:J1,config:t}}]),l5=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[Z1(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tt({type:t});static \u0275inj=et({})}return t})();var X1=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(ce(yl),ce(vs),ce(rn))};static \u0275cmp=Mo({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&yr("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(xn(i.toastClasses),Xr("display",i.displayStyle))},standalone:!0,features:[Lo],attrs:XD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&ur(0,$1,3,0,"button",0)(1,H1,3,5,"div",1)(2,z1,1,3,"div",2)(3,G1,2,4,"div",3)(4,W1,2,2,"div",4),r&2&&(He("ngIf",i.options.closeButton),Ce(),He("ngIf",i.title),Ce(),He("ngIf",i.message&&i.options.enableHtml),Ce(),He("ngIf",i.message&&!i.options.enableHtml),Ce(),He("ngIf",i.options.progressBar))},dependencies:[Eg],encapsulation:2})}return t})(),d5=oe(T({},eb),{toastComponent:X1});var $="primary",ua=Symbol("RouteTitle"),Kg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ts(t){return new Kg(t)}function tF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?Qg(t):void 0,r=e?Qg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lb(t[i],e[i]))return!1;return!0}function Qg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function db(t){return t.length>0?t[t.length-1]:null}function Tr(t){return Wh(t)?t:Vo(t)?he(Promise.resolve(t)):M(t)}var rF={exact:fb,subset:pb},hb={exact:iF,subset:sF,ignored:()=>!0};function nb(t,e,n){return rF[n.paths](t.root,e.root,n.matrixParams)&&hb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function iF(t,e){return sn(t,e)}function fb(t,e,n){if(!ri(t.segments,e.segments)||!Il(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fb(t.children[r],e.children[r],n))return!1;return!0}function sF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lb(t[n],e[n]))}function pb(t,e,n){return gb(t,e,e.segments,n)}function gb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ri(i,n)||e.hasChildren()||!Il(i,n,r))}else if(t.segments.length===n.length){if(!ri(t.segments,n)||!Il(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ri(t.segments,i)||!Il(t.segments,i,r)||!t.children[$]?!1:gb(t.children[$],e,s,r)}}function Il(t,e,n){return e.every((r,i)=>hb[n](t[i].parameters,r.parameters))}var _r=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return cF.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wl(this)}},ni=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return yb(this)}};function oF(t,e){return ri(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function aF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===$&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==$&&(n=n.concat(e(i,r)))}),n}var la=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new ea,providedIn:"root"});let t=e;return t})(),ea=class{parse(e){let n=new Jg(e);return new _r(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ko(e.root,!0)}`,r=dF(e.queryParams),i=typeof e.fragment=="string"?`#${uF(e.fragment)}`:"";return`${n}${r}${i}`}},cF=new ea;function wl(t){return t.segments.map(e=>yb(e)).join("/")}function Ko(t,e){if(!t.hasChildren())return wl(t);if(e){let n=t.children[$]?Ko(t.children[$],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==$&&r.push(`${i}:${Ko(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=aF(t,(r,i)=>i===$?[Ko(t.children[$],!1)]:[`${i}:${Ko(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[$]!=null?`${wl(t)}/${n[0]}`:`${wl(t)}/(${n.join("//")})`}}function mb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vl(t){return mb(t).replace(/%3B/gi,";")}function uF(t){return encodeURI(t)}function Yg(t){return mb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function El(t){return decodeURIComponent(t)}function rb(t){return El(t.replace(/\+/g,"%20"))}function yb(t){return`${Yg(t.path)}${lF(t.parameters)}`}function lF(t){return Object.entries(t).map(([e,n])=>`;${Yg(e)}=${Yg(n)}`).join("")}function dF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${vl(n)}=${vl(i)}`).join("&"):`${vl(n)}=${vl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var hF=/^[^\/()?;#]+/;function Hg(t){let e=t.match(hF);return e?e[0]:""}var fF=/^[^\/()?;=#]+/;function pF(t){let e=t.match(fF);return e?e[0]:""}var gF=/^[^=?&#]+/;function mF(t){let e=t.match(gF);return e?e[0]:""}var yF=/^[^&#]+/;function vF(t){let e=t.match(yF);return e?e[0]:""}var Jg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[$]=new ie(e,n)),r}parseSegment(){let e=Hg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new ni(El(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=pF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hg(this.remaining);i&&(r=i,this.capture(r))}e[El(n)]=El(r)}parseQueryParam(e){let n=mF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=vF(this.remaining);o&&(r=o,this.capture(r))}let i=rb(n),s=rb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=$);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[$]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function vb(t){return t.segments.length>0?new ie([],{[$]:t}):t}function _b(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_b(i);if(r===$&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ie(t.segments,e);return _F(n)}function _F(t){if(t.numberOfChildren===1&&t.children[$]){let e=t.children[$];return new ie(t.segments.concat(e.segments),e.children)}return t}function Ds(t){return t instanceof _r}function IF(t,e,n=null,r=null){let i=Ib(t);return wb(i,e,n,r)}function Ib(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vb(r);return e??i}function wb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return zg(i,i,i,n,r);let s=wF(e);if(s.toRoot())return zg(i,i,new ie([],{}),n,r);let o=EF(s,i,t),a=o.processChildren?Jo(o.segmentGroup,o.index,s.commands):Tb(o.segmentGroup,o.index,s.commands);return zg(i,o.segmentGroup,a,n,r)}function Tl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ta(t){return typeof t=="object"&&t!=null&&t.outlets}function zg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Eb(t,e,n);let a=vb(_b(o));return new _r(a,s,i)}function Eb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Eb(s,e,n)}),new ie(t.segments,r)}var Dl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Tl(r[0]))throw new S(4003,!1);let i=r.find(ta);if(i&&i!==db(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Dl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Dl(n,e,r)}var ws=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function EF(t,e,n){if(t.isAbsolute)return new ws(e,!0,0);if(!n)return new ws(e,!1,NaN);if(n.parent===null)return new ws(n,!0,0);let r=Tl(t.commands[0])?0:1,i=n.segments.length-1+r;return TF(n,i,t.numberOfDoubleDots)}function TF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new ws(r,!1,i-s)}function DF(t){return ta(t[0])?t[0].outlets:{[$]:t}}function Tb(t,e,n){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return Jo(t,e,n);let r=bF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[$]=new ie(t.segments.slice(r.pathIndex),t.children),Jo(s,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?Zg(t,e,n):r.match?Jo(t,0,i):Zg(t,e,n)}function Jo(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=DF(n),i={};if(Object.keys(r).some(s=>s!==$)&&t.children[$]&&t.numberOfChildren===1&&t.children[$].segments.length===0){let s=Jo(t.children[$],e,n);return new ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Tb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ie(t.segments,i)}}function bF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ta(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sb(c,u,o))return s;r+=2}else{if(!sb(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ta(s)){let c=CF(s.outlets);return new ie(r,c)}if(i===0&&Tl(n[0])){let c=t.segments[e];r.push(new ni(c.path,ib(n[0]))),i++;continue}let o=ta(s)?s.outlets[$]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Tl(a)?(r.push(new ni(o,ib(a))),i+=2):(r.push(new ni(o,{})),i++)}return new ie(r,{})}function CF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zg(new ie([],{}),0,r))}),e}function ib(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sb(t,e,n){return t==n.path&&sn(e,n.parameters)}var Zo="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),St=class{constructor(e,n){this.id=e,this.url=n}},bs=class extends St{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},on=class extends St{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gt||{}),bl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bl||{}),Ir=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},na=class extends St{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cl=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xg=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},em=class extends St{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tm=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nm=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rm=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},im=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sm=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},om=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cm=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Pe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ra=class{},ia=class{constructor(e){this.url=e}};var um=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new da,this.attachRef=null}},da=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new um,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Al=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=lm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=lm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dm(e,this._root).map(n=>n.value)}};function lm(t,e){if(t===e.value)return e;for(let n of e.children){let r=lm(t,n);if(r)return r}return null}function dm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=dm(t,n);if(r.length)return r.unshift(e),r}return[]}var pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Is(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Rl=class extends Al{constructor(e,n){super(e),this.snapshot=n,wm(this,e)}toString(){return this.snapshot.toString()}};function Db(t){let e=SF(t),n=new Le([new ni("",{})]),r=new Le({}),i=new Le({}),s=new Le({}),o=new Le(""),a=new Er(n,r,s,o,i,$,t,e.root);return a.snapshot=e.root,new Rl(new pt(a,[]),e)}function SF(t){let e={},n={},r={},i="",s=new sa([],e,r,i,n,$,t,null,{});return new Nl("",new pt(s,[]))}var Er=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(u=>u[ua]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>Ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>Ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Im(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&Cb(i)&&(r.resolve[ua]=i.title),r}var sa=class{get title(){return this.data?.[ua]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nl=class extends Al{constructor(e,n){super(n),this.url=e,wm(this,n)}toString(){return bb(this._root)}};function wm(t,e){e.value._routerState=t,e.children.forEach(n=>wm(t,n))}function bb(t){let e=t.children.length>0?` { ${t.children.map(bb).join(", ")} } `:"";return`${t.value}${e}`}function Gg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),nF(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hm(t,e){let n=sn(t.params,e.params)&&oF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||hm(t.parent,e.parent))}function Cb(t){return typeof t.title=="string"||t.title===null}var AF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new Ot,this.deactivateEvents=new Ot,this.attachEvents=new Ot,this.detachEvents=new Ot,this.parentContexts=I(da),this.location=I(fs),this.changeDetector=I(jo),this.environmentInjector=I(Xe),this.inputBinder=I(Ol,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new fm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Sn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Po]});let t=e;return t})(),fm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Er?this.route:e===da?this.childContexts:this.parent.get(e,n)}},Ol=new A(""),ob=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=fo([i.queryParams,i.params,i.data]).pipe(at(([o,a,c],u)=>(c=T(T(T({},o),a),c),u===0?M(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=vD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function RF(t,e,n){let r=oa(t,e._root,n?n._root:void 0);return new Rl(r,e)}function oa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=NF(t,e,n);return new pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>oa(t,a)),o}}let r=xF(e.value),i=e.children.map(s=>oa(t,s));return new pt(r,i)}}function NF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return oa(t,r,i);return oa(t,r)})}function xF(t){return new Er(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var Sb="ngNavigationCancelingError";function Ab(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,gt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Sb]=!0,n.cancellationCode=e,n}function MF(t){return Nb(t)&&Ds(t.url)}function Nb(t){return!!t&&t[Sb]}var PF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mo({type:e,selectors:[["ng-component"]],standalone:!0,features:[Lo],decls:1,vars:0,template:function(i,s){i&1&&mr(0,"router-outlet")},dependencies:[AF],encapsulation:2});let t=e;return t})();function OF(t,e){return t.providers&&!t._injector&&(t._injector=Zu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Em(t){let e=t.children&&t.children.map(Em),n=e?oe(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=PF),n}function an(t){return t.outlet||$}function kF(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var FF=(t,e,n,r)=>V(i=>(new pm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),pm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new om(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Gg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ha(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},xl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{constructor(e,n){this.component=e,this.route=n}};function LF(t,e,n){let r=t._root,i=e?e._root:null;return Qo(r,i,n,[r.value])}function VF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ss(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!eE(t)?t:e.get(t):r}function Qo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Is(e);return t.children.forEach(o=>{UF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Xo(a,n.getContext(o),i)),i}function UF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=jF(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new xl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Qo(t,e,a?a.children:null,r,i):Qo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Es(a.outlet.component,o))}else o&&Xo(e,a,i),i.canActivateChecks.push(new xl(r)),s.component?Qo(t,null,a?a.children:null,r,i):Qo(t,null,n,r,i);return i}function jF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ri(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hm(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!hm(t,e)}}function Xo(t,e,n){let r=Is(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Xo(o,e.children.getContext(s),n):Xo(o,null,n):Xo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Es(e.outlet.component,i)):n.canDeactivateChecks.push(new Es(null,i)):n.canDeactivateChecks.push(new Es(null,i))}function fa(t){return typeof t=="function"}function BF(t){return typeof t=="boolean"}function $F(t){return t&&fa(t.canLoad)}function qF(t){return t&&fa(t.canActivate)}function HF(t){return t&&fa(t.canActivateChild)}function zF(t){return t&&fa(t.canDeactivate)}function GF(t){return t&&fa(t.canMatch)}function xb(t){return t instanceof wn||t?.name==="EmptyError"}var _l=Symbol("INITIAL_VALUE");function Cs(){return at(t=>fo(t.map(e=>e.pipe(Tn(1),Yc(_l)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===_l)return _l;if(n===!1||n instanceof _r)return n}return!0}),Qe(e=>e!==_l),Tn(1)))}function WF(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?M(oe(T({},n),{guardsResult:!0})):KF(o,r,i,t).pipe(we(a=>a&&BF(a)?QF(r,s,t,e):M(a)),V(a=>oe(T({},n),{guardsResult:a})))})}function KF(t,e,n,r){return he(t).pipe(we(i=>eL(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function QF(t,e,n,r){return he(e).pipe(En(i=>zi(JF(i.route.parent,r),YF(i.route,r),XF(t,i.path,n),ZF(t,i.route,n))),Kt(i=>i!==!0,!0))}function YF(t,e){return t!==null&&e&&e(new am(t)),M(!0)}function JF(t,e){return t!==null&&e&&e(new sm(t)),M(!0)}function ZF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(s=>Wc(()=>{let o=ha(e)??n,a=Ss(s,o),c=qF(a)?a.canActivate(e,t):Vt(o,()=>a(e,t));return Tr(c).pipe(Kt())}));return M(i).pipe(Cs())}function XF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>VF(o)).filter(o=>o!==null).map(o=>Wc(()=>{let a=o.guards.map(c=>{let u=ha(o.node)??n,l=Ss(c,u),d=HF(l)?l.canActivateChild(r,t):Vt(u,()=>l(r,t));return Tr(d).pipe(Kt())});return M(a).pipe(Cs())}));return M(s).pipe(Cs())}function eL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return M(!0);let o=s.map(a=>{let c=ha(e)??i,u=Ss(a,c),l=zF(u)?u.canDeactivate(t,e,n,r):Vt(c,()=>u(t,e,n,r));return Tr(l).pipe(Kt())});return M(o).pipe(Cs())}function tL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let s=i.map(o=>{let a=Ss(o,t),c=$F(a)?a.canLoad(e,n):Vt(t,()=>a(e,n));return Tr(c)});return M(s).pipe(Cs(),Mb(r))}function Mb(t){return Ac(Ee(e=>{if(Ds(e))throw Ab(t,e)}),V(e=>e===!0))}function nL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let s=i.map(o=>{let a=Ss(o,t),c=GF(a)?a.canMatch(e,n):Vt(t,()=>a(e,n));return Tr(c)});return M(s).pipe(Cs(),Mb(r))}var aa=class{constructor(e){this.segmentGroup=e||null}},Ml=class extends Error{constructor(e){super(),this.urlTree=e}};function _s(t){return qi(new aa(t))}function rL(t){return qi(new S(4e3,!1))}function iL(t){return qi(Rb(!1,gt.GuardRejected))}var gm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[$])return rL(e.redirectTo);i=i.children[$]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ml(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new _r(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sL(t,e,n,r,i){let s=Tm(t,e,n);return s.matched?(r=OF(e,r),nL(r,e,n,i).pipe(V(o=>o===!0?s:T({},mm)))):M(s)}function Tm(t,e,n){if(e.path==="**")return oL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},mm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tF)(n,t,e);if(!i)return T({},mm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function oL(t){return{matched:!0,parameters:t.length>0?db(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ab(t,e,n,r){return n.length>0&&uL(t,n,r)?{segmentGroup:new ie(e,cL(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&lL(t,n,r)?{segmentGroup:new ie(t.segments,aL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function aL(t,e,n,r){let i={};for(let s of n)if(kl(t,e,s)&&!r[an(s)]){let o=new ie([],{});i[an(s)]=o}return T(T({},r),i)}function cL(t,e){let n={};n[$]=e;for(let r of t)if(r.path===""&&an(r)!==$){let i=new ie([],{});n[an(r)]=i}return n}function uL(t,e,n){return n.some(r=>kl(t,e,r)&&an(r)!==$)}function lL(t,e,n){return n.some(r=>kl(t,e,r))}function kl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dL(t,e,n,r){return an(t)!==r&&(r===$||!kl(e,n,t))?!1:Tm(e,t,n).matched}function hL(t,e,n){return e.length===0&&!t.children[n]}var ym=class{};function fL(t,e,n,r,i,s,o="emptyOnly"){return new vm(t,e,n,r,i,o,s).recognize()}var pL=31,vm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new gm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=ab(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(n=>{let r=new sa([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),i=new pt(r,n),s=new Nl("",i),o=IF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$).pipe(tr(r=>{if(r instanceof Ml)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof aa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Im(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(V(s=>s instanceof pt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return he(i).pipe(En(s=>{let o=r.children[s],a=kF(n,s);return this.processSegmentGroup(e,a,o,s)}),Qc((s,o)=>(s.push(...o),s)),nr(null),Qh(),we(s=>{if(s===null)return _s(r);let o=Pb(s);return gL(o),M(o)}))}processSegment(e,n,r,i,s,o){return he(n).pipe(En(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(tr(c=>{if(c instanceof aa)return M(null);throw c}))),Kt(a=>!!a),tr(a=>{if(xb(a))return hL(r,i,s)?M(new ym):_s(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return dL(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):_s(i):_s(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Tm(n,i,s);if(!a)return _s(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pL&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(we(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=sL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(at(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(at(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new sa(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,yL(r),an(r),r.component??r._loadedComponent??null,r,vL(r)),{segmentGroup:g,slicedSegments:y}=ab(n,l,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(V(_=>_===null?null:new pt(f,_)));if(c.length===0&&y.length===0)return M(new pt(f,[]));let m=an(r)===s;return this.processSegment(u,c,g,y,m?$:s,!0).pipe(V(_=>new pt(f,_ instanceof pt?[_]:[])))}))):_s(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):tL(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(Ee(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):iL(n))):M({routes:[],injector:e})}};function gL(t){t.sort((e,n)=>e.value.outlet===$?-1:n.value.outlet===$?1:e.value.outlet.localeCompare(n.value.outlet))}function mL(t){let e=t.value.routeConfig;return e&&e.path===""}function Pb(t){let e=[],n=new Set;for(let r of t){if(!mL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Pb(r.children);e.push(new pt(r.value,i))}return e.filter(r=>!n.has(r))}function yL(t){return t.data||{}}function vL(t){return t.resolve||{}}function _L(t,e,n,r,i,s){return we(o=>fL(t,e,n,r,o.extractedUrl,i,s).pipe(V(({state:a,tree:c})=>oe(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function IL(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ob(c))o.add(u);let a=0;return he(o).pipe(En(c=>s.has(c)?wL(c,r,t,e):(c.data=Im(c,c.parent,t).resolve,M(void 0))),Ee(()=>a++),Gi(1),we(c=>a===o.size?M(n):lt))})}function Ob(t){let e=t.children.map(n=>Ob(n)).flat();return[t,...e]}function wL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Cb(i)&&(s[ua]=i.title),EL(s,t,e,r).pipe(V(o=>(t._resolvedData=o,t.data=Im(t,t.parent,n).resolve,null)))}function EL(t,e,n,r){let i=Qg(t);if(i.length===0)return M({});let s={};return he(i).pipe(we(o=>TL(t[o],e,n,r).pipe(Kt(),Ee(a=>{s[o]=a}))),Gi(1),Kh(s),tr(o=>xb(o)?lt:qi(o)))}function TL(t,e,n,r){let i=ha(e)??r,s=Ss(t,i),o=s.resolve?s.resolve(e,n):Vt(i,()=>s(e,n));return Tr(o)}function Wg(t){return at(e=>{let n=t(e);return n?he(n).pipe(V(()=>e)):M(e)})}var kb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===$);return i}getResolvedTitleForRoute(r){return r.data[ua]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(DL),providedIn:"root"});let t=e;return t})(),DL=(()=>{let e=class e extends kb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(D(KD))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pa=new A("",{providedIn:"root",factory:()=>({})}),ca=new A(""),Dm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(rl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Tr(r.loadComponent()).pipe(V(Fb),Ee(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),rr(()=>{this.componentLoaders.delete(r)})),s=new Ui(i,()=>new de).pipe(Vi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=bL(i,this.compiler,r,this.onLoadEndListener).pipe(rr(()=>{this.childrenLoaders.delete(i)})),a=new Ui(o,()=>new de).pipe(Vi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bL(t,e,n,r){return Tr(t.loadChildren()).pipe(V(Fb),we(i=>i instanceof So||Array.isArray(i)?M(i):he(e.compileModuleAsync(i))),V(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ca,[],{optional:!0,self:!0}).flat()),{routes:o.map(Em),injector:s}}))}function CL(t){return t&&typeof t=="object"&&"default"in t}function Fb(t){return CL(t)?t.default:t}var bm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(SL),providedIn:"root"});let t=e;return t})(),SL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lb=new A(""),Vb=new A("");function AL(t,e,n){let r=t.get(Vb),i=t.get(Te);return t.get(Z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),RL(t))),{onViewTransitionCreated:c}=r;return c&&Vt(t,()=>c({transition:a,from:e,to:n})),o})}function RL(t){return new Promise(e=>{sg(e,{injector:t})})}var Cm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=I(Dm),this.environmentInjector=I(Xe),this.urlSerializer=I(la),this.rootContexts=I(da),this.location=I(ms),this.inputBindingEnabled=I(Ol,{optional:!0})!==null,this.titleStrategy=I(kb),this.options=I(pa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(bm),this.createViewTransition=I(Lb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=s=>this.events.next(new rm(s)),i=s=>this.events.next(new im(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(oe(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(o=>o.id!==0),V(o=>oe(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),at(o=>{let a=!1,c=!1;return M(o).pipe(at(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gt.SupersededByNewNavigation),lt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new wr(u.id,this.urlSerializer.serialize(u.rawUrl),h,bl.IgnoredSameUrlNavigation)),u.resolve(null),lt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return M(u).pipe(at(h=>{let f=this.transitions?.getValue();return this.events.next(new bs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?lt:Promise.resolve(h)}),_L(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=oe(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Cl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:m}=u,_=new bs(h,this.urlSerializer.serialize(f),g,y);this.events.next(_);let j=Db(this.rootComponentType).snapshot;return this.currentTransition=o=oe(T({},u),{targetSnapshot:j,urlAfterRedirects:f,extras:oe(T({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,M(o)}else{let h="";return this.events.next(new wr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,bl.IgnoredByUrlHandlingStrategy)),u.resolve(null),lt}}),Ee(u=>{let l=new Xg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),V(u=>(this.currentTransition=o=oe(T({},u),{guards:LF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),WF(this.environmentInjector,u=>this.events.next(u)),Ee(u=>{if(o.guardsResult=u.guardsResult,Ds(u.guardsResult))throw Ab(this.urlSerializer,u.guardsResult);let l=new em(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Qe(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",gt.GuardRejected),!1)),Wg(u=>{if(u.guards.canActivateChecks.length)return M(u).pipe(Ee(l=>{let d=new tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),at(l=>{let d=!1;return M(l).pipe(IL(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",gt.NoDataFromResolver)}}))}),Ee(l=>{let d=new nm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Wg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ee(f=>{d.component=f}),V(()=>{})));for(let f of d.children)h.push(...l(f));return h};return fo(l(u.targetSnapshot.root)).pipe(nr(null),Tn(1))}),Wg(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?he(d).pipe(V(()=>o)):M(o)}),V(u=>{let l=RF(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=oe(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ee(()=>{this.events.next(new ra)}),FF(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Tn(1),Ee({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new on(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Yh(this.transitionAbortSubject.pipe(Ee(u=>{throw u}))),rr(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",gt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(u=>{if(c=!0,Nb(u))this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),MF(u)?this.events.next(new ia(u.url)):o.resolve(!1);else{this.events.next(new na(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return lt}))}))}cancelNavigationTransition(r,i,s){let o=new Ir(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NL(t){return t!==Zo}var xL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(ML),providedIn:"root"});let t=e;return t})(),_m=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},ML=(()=>{let e=class e extends _m{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Lp(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ub=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(PL),providedIn:"root"});let t=e;return t})(),PL=(()=>{let e=class e extends Ub{constructor(){super(...arguments),this.location=I(ms),this.urlSerializer=I(la),this.options=I(pa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(bm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Db(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof bs)this.stateMemento=this.createStateMemento();else if(r instanceof wr)this.rawUrlTree=i.initialUrl;else if(r instanceof Cl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ra?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ir&&(r.code===gt.GuardRejected||r.code===gt.NoDataFromResolver)?this.restoreHistory(i):r instanceof na?this.restoreHistory(i,!0):r instanceof on&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Lp(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Yo||{});function jb(t,e){t.events.pipe(Qe(n=>n instanceof on||n instanceof Ir||n instanceof na||n instanceof wr),V(n=>n instanceof on||n instanceof wr?Yo.COMPLETE:(n instanceof Ir?n.code===gt.Redirect||n.code===gt.SupersededByNewNavigation:!1)?Yo.REDIRECTING:Yo.FAILED),Qe(n=>n!==Yo.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function OL(t){throw t}var kL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(tl),this.stateManager=I(Ub),this.options=I(pa,{optional:!0})||{},this.pendingTasks=I(Zr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Cm),this.urlSerializer=I(la),this.location=I(ms),this.urlHandlingStrategy=I(bm),this._events=new de,this.errorHandler=this.options.errorHandler||OL,this.navigated=!1,this.routeReuseStrategy=I(xL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Ol,{optional:!0}),this.eventsSubscription=new _e,this.isNgZoneEnabled=I(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ir&&i.code!==gt.Redirect&&i.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof on)this.navigated=!0;else if(i instanceof ia){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||NL(s.source)};this.scheduleNavigation(a,Zo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}VL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=T({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Em),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Ib(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return wb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ds(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Zo,null,i)}navigate(r,i={skipLocationChange:!1}){return LL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},kL):i===!1?s=T({},FL):s=i,Ds(r))return nb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return nb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return jb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function VL(t){return!(t instanceof ra)&&!(t instanceof ia)}var M5=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof on&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:TT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ce(Fn),ce(Er),Vp("tabindex"),ce(ds),ce(pr),ce(kn))},e.\u0275dir=Sn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&yr("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&gr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[wt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Bo],skipLocationChange:[wt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Bo],replaceUrl:[wt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Bo],routerLink:"routerLink"},standalone:!0,features:[ag,Po]});let t=e;return t})();var Pl=class{};var UL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(r=>r instanceof on),En(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Zu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return he(s).pipe(Hi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=M(null);let o=s.pipe(we(a=>a===null?M(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return he([o,a]).pipe(Hi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(D(Fn),D(rl),D(Xe),D(Pl),D(Dm))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bb=new A(""),jL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof on?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof wr&&r.code===bl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Sl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){PT()},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function P5(t,...e){return dr([{provide:ca,multi:!0,useValue:t},[],{provide:Er,useFactory:$b,deps:[Fn]},{provide:Uo,multi:!0,useFactory:qb},e.map(n=>n.\u0275providers)])}function $b(t){return t.routerState.root}function ga(t,e){return{\u0275kind:t,\u0275providers:e}}function qb(){let t=I(Me);return e=>{let n=t.get(rn);if(e!==n.components[0])return;let r=t.get(Fn),i=t.get(Hb);t.get(Sm)===1&&r.initialNavigation(),t.get(zb,null,W.Optional)?.setUpPreloading(),t.get(Bb,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Hb=new A("",{factory:()=>new de}),Sm=new A("",{providedIn:"root",factory:()=>1});function BL(){return ga(2,[{provide:Sm,useValue:0},{provide:nl,multi:!0,deps:[Me],useFactory:e=>{let n=e.get(CD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Fn),s=e.get(Hb);jb(i,()=>{r(!0)}),e.get(Cm).afterPreactivation=()=>(r(!0),s.closed?M(void 0):s),i.initialNavigation()}))}}])}function $L(){return ga(3,[{provide:nl,multi:!0,useFactory:()=>{let e=I(Fn);return()=>{e.setUpLocationChangeListener()}}},{provide:Sm,useValue:2}])}var zb=new A("");function qL(t){return ga(0,[{provide:zb,useExisting:UL},{provide:Pl,useExisting:t}])}function HL(){return ga(8,[ob,{provide:Ol,useExisting:ob}])}function zL(t){let e=[{provide:Lb,useValue:AL},{provide:Vb,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return ga(9,e)}var cb=new A("ROUTER_FORROOT_GUARD"),GL=[ms,{provide:la,useClass:ea},Fn,da,{provide:Er,useFactory:$b,deps:[Fn]},Dm,[]],O5=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[GL,[],{provide:ca,multi:!0,useValue:r},{provide:cb,useFactory:YL,deps:[[Fn,new Ve,new xu]]},{provide:pa,useValue:i||{}},i?.useHash?KL():QL(),WL(),i?.preloadingStrategy?qL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?JL(i):[],i?.bindToComponentInputs?HL().\u0275providers:[],i?.enableViewTransitions?zL().\u0275providers:[],ZL()]}}static forChild(r){return{ngModule:e,providers:[{provide:ca,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(D(cb,8))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})();function WL(){return{provide:Bb,useFactory:()=>{let t=I(RD),e=I(Z),n=I(pa),r=I(Cm),i=I(la);return n.scrollOffset&&t.setOffset(n.scrollOffset),new jL(i,r,t,e,n)}}}function KL(){return{provide:kn,useClass:AD}}function QL(){return{provide:kn,useClass:wg}}function YL(t){return"guarded"}function JL(t){return[t.initialNavigation==="disabled"?$L().\u0275providers:[],t.initialNavigation==="enabledBlocking"?BL().\u0275providers:[]]}var ub=new A("");function ZL(){return[{provide:ub,useFactory:qb},{provide:Uo,multi:!0,useExisting:ub}]}var Wb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Rm;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},eV=function(t){let e=Wb(t);return Kb.encodeByteArray(e,!0)},ma=function(t){return eV(t).replace(/\./g,"")},xm=function(t){try{return Kb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nV=()=>tV().__FIREBASE_DEFAULTS__,rV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xm(t[1]);return e&&JSON.parse(e)},Ll=()=>{try{return nV()||rV()||iV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mm=t=>{var e,n;return(n=(e=Ll())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qb=t=>{let e=Mm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pm=()=>{var t;return(t=Ll())===null||t===void 0?void 0:t.config},Om=t=>{var e;return(e=Ll())===null||e===void 0?void 0:e[`_${t}`]};var Fl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Yb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ma(JSON.stringify(n)),ma(JSON.stringify(o)),""].join(".")}function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function sV(){var t;let e=(t=Ll())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e0(){let t=Se();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t0(){return!sV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function km(){try{return typeof indexedDB=="object"}catch{return!1}}function n0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var oV="FirebaseError",mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mt(i,a,r)}};function aV(t,e){return t.replace(cV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cV=/\{\$([^}]+)}/g;function r0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ii(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Gb(s)&&Gb(o)){if(!ii(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Gb(t){return t!==null&&typeof t=="object"}function ya(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function As(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function i0(t,e){let n=new Nm(t,e);return n.subscribe.bind(n)}var Nm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Am),i.error===void 0&&(i.error=Am),i.complete===void 0&&(i.complete=Am);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Am(){}var L5=4*60*60*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var At=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var si="[DEFAULT]";var Fm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Fl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dV(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lV(t){return t===si?void 0:t}function dV(t){return t.instantiationMode==="EAGER"}var Vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hV=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),fV={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},pV=Q.INFO,gV={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},mV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dr=class{constructor(e){this.name=e,this._logLevel=pV,this._logHandler=mV,this._userLogHandler=null,hV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var yV=(t,e)=>e.some(n=>t instanceof n),s0,o0;function vV(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _V(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var a0=new WeakMap,Vm=new WeakMap,c0=new WeakMap,Lm=new WeakMap,jm=new WeakMap;function IV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&a0.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function wV(t){if(Vm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vm.set(t,e)}var Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u0(t){Um=t(Um)}function EV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ul(this),e,...n);return c0.set(r,e.sort?e.sort():[e]),cn(r)}:_V().includes(t)?function(...e){return t.apply(Ul(this),e),cn(a0.get(this))}:function(...e){return cn(t.apply(Ul(this),e))}}function TV(t){return typeof t=="function"?EV(t):(t instanceof IDBTransaction&&wV(t),yV(t,vV())?new Proxy(t,Um):t)}function cn(t){if(t instanceof IDBRequest)return IV(t);if(Lm.has(t))return Lm.get(t);let e=TV(t);return e!==t&&(Lm.set(t,e),jm.set(e,t)),e}var Ul=t=>jm.get(t);function d0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=cn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(cn(o.result),c.oldVersion,c.newVersion,cn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var DV=["get","getKey","getAll","getAllKeys","count"],bV=["put","add","delete","clear"],Bm=new Map;function l0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=bV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DV.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Bm.set(e,s),s}u0(t=>oe(T({},t),{get:(e,n,r)=>l0(e,n)||t.get(e,n,r),has:(e,n)=>!!l0(e,n)||t.has(e,n)}));var qm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function CV(t){let e=t.getComponent();return e?.type==="VERSION"}var Hm="@firebase/app",h0="0.10.2";var oi=new Dr("@firebase/app"),SV="@firebase/app-compat",AV="@firebase/analytics-compat",RV="@firebase/analytics",NV="@firebase/app-check-compat",xV="@firebase/app-check",MV="@firebase/auth",PV="@firebase/auth-compat",OV="@firebase/database",kV="@firebase/database-compat",FV="@firebase/functions",LV="@firebase/functions-compat",VV="@firebase/installations",UV="@firebase/installations-compat",jV="@firebase/messaging",BV="@firebase/messaging-compat",$V="@firebase/performance",qV="@firebase/performance-compat",HV="@firebase/remote-config",zV="@firebase/remote-config-compat",GV="@firebase/storage",WV="@firebase/storage-compat",KV="@firebase/firestore",QV="@firebase/firestore-compat",YV="firebase",JV="10.11.1";var zm="[DEFAULT]",ZV={[Hm]:"fire-core",[SV]:"fire-core-compat",[RV]:"fire-analytics",[AV]:"fire-analytics-compat",[xV]:"fire-app-check",[NV]:"fire-app-check-compat",[MV]:"fire-auth",[PV]:"fire-auth-compat",[OV]:"fire-rtdb",[kV]:"fire-rtdb-compat",[FV]:"fire-fn",[LV]:"fire-fn-compat",[VV]:"fire-iid",[UV]:"fire-iid-compat",[jV]:"fire-fcm",[BV]:"fire-fcm-compat",[$V]:"fire-perf",[qV]:"fire-perf-compat",[HV]:"fire-rc",[zV]:"fire-rc-compat",[GV]:"fire-gcs",[WV]:"fire-gcs-compat",[KV]:"fire-fst",[QV]:"fire-fst-compat","fire-js":"fire-js",[YV]:"fire-js-all"};var va=new Map,XV=new Map,Gm=new Map;function f0(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){let e=t.name;if(Gm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,t);for(let n of va.values())f0(n,t);for(let n of XV.values())f0(n,t);return!0}function Ia(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t.settings!==void 0}var eU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Ln("app","Firebase",eU);var Wm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Sr=JV;function Ym(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=Pm()),!n)throw br.create("no-options");let s=va.get(i);if(s){if(ii(n,s.options)&&ii(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}let o=new Vl(i);for(let c of Gm.values())o.addComponent(c);let a=new Wm(n,r,o);return va.set(i,a),a}function Ns(t=zm){let e=va.get(t);if(!e&&t===zm&&Pm())return Ym();if(!e)throw br.create("no-app",{appName:t});return e}function jl(){return Array.from(va.values())}function Ae(t,e,n){var r;let i=(r=ZV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}Cr(new At(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tU="firebase-heartbeat-database",nU=1,_a="firebase-heartbeat-store",$m=null;function y0(){return $m||($m=d0(tU,nU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_a)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),$m}function rU(t){return p(this,null,function*(){try{let n=(yield y0()).transaction(_a),r=yield n.objectStore(_a).get(v0(t));return yield n.done,r}catch(e){if(e instanceof mt)oi.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}})}function p0(t,e){return p(this,null,function*(){try{let r=(yield y0()).transaction(_a,"readwrite");yield r.objectStore(_a).put(e,v0(t)),yield r.done}catch(n){if(n instanceof mt)oi.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});oi.warn(r.message)}}})}function v0(t){return`${t.name}!${t.options.appId}`}var iU=1024,sU=30*24*60*60*1e3,Km=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=sU}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=g0(),{heartbeatsToSend:r,unsentEntries:i}=oU(this._heartbeatsCache.heartbeats),s=ma(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function g0(){return new Date().toISOString().substring(0,10)}function oU(t,e=iU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),m0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),m0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return km()?n0().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield rU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return p0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return p0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function m0(t){return ma(JSON.stringify({version:2,heartbeats:t})).length}function aU(t){Cr(new At("platform-logger",e=>new qm(e),"PRIVATE")),Cr(new At("heartbeat",e=>new Km(e),"PRIVATE")),Ae(Hm,h0,t),Ae(Hm,h0,"esm2017"),Ae("fire-js","")}aU("");var cU="firebase",uU="10.11.1";Ae(cU,uU,"app");var ci=new lr("ANGULARFIRE2_VERSION");function $l(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wa=(t,e)=>{let n=e?[e]:jl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ms=class{constructor(){return wa(lU)}},lU="app-check";function xs(){}var Bl=class{zone;delegate;constructor(e,n=zh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Jm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),n.pipe(Ee({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ps=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=n.run(()=>new Bl(Zone.current,Hh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(D(Z))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ql(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function dU(t){return ql().ngZone.runOutsideAngular(()=>t())}function ai(t){return ql().ngZone.run(()=>t())}function hU(t){return fU(ql())(t)}function fU(t){return function(n){return n=n.lift(new Jm(t.ngZone)),n.pipe(er(t.outsideAngular),Xn(t.insideAngular))}}var pU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ai(()=>t.apply(void 0,r))},yt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ai(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),r[s]=pU(r[s],n));let i=dU(()=>t.apply(this,r));if(!e)if(i instanceof G){let s=ql();return i.pipe(er(s.outsideAngular),Xn(s.insideAngular))}else return ai(()=>i);return i instanceof G?i.pipe(hU):i instanceof Promise?ai(()=>new Promise((s,o)=>i.then(a=>ai(()=>s(a)),a=>ai(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ai(()=>i)};var Vn=class{constructor(e){return e}},ui=class{constructor(){return jl()}};function gU(t){return t&&t.length===1?t[0]:new Vn(Ns())}var Zm=new A("angularfire2._apps"),mU={provide:Vn,useFactory:gU,deps:[[new Ve,Zm]]},yU={provide:ui,deps:[[new Ve,Zm]]};function vU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vn(r)}}var _U=(()=>{class t{constructor(n){Ae("angularfire",ci.full,"core"),Ae("angularfire",ci.full,"app"),Ae("angular",hD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(D(Dt))};static \u0275mod=tt({type:t});static \u0275inj=et({providers:[mU,yU]})}return t})();function w8(t,...e){return{ngModule:_U,providers:[{provide:Zm,useFactory:vU(t),multi:!0,deps:[Z,Me,Ps,...e]}]}}var E8=yt(Ym,!0);function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var F0=k0,L0=new Ln("auth","Firebase",k0());var Ql=new Dr("@firebase/auth");function IU(t,...e){Ql.logLevel<=Q.WARN&&Ql.warn(`Auth (${Sr}): ${t}`,...e)}function zl(t,...e){Ql.logLevel<=Q.ERROR&&Ql.error(`Auth (${Sr}): ${t}`,...e)}function ln(t,...e){throw Iy(t,...e)}function li(t,...e){return Iy(t,...e)}function V0(t,e,n){let r=Object.assign(Object.assign({},F0()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return V0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L0.create(t,...e)}function N(t,e,...n){if(!t)throw Iy(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zl(e),new Error(e)}function Rr(t,e){t||Un(e)}function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wU(){return _0()==="http:"||_0()==="https:"}function _0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function EU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wU()||Zb()||"connection"in navigator)?navigator.onLine:!0}function TU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=Jb()||Xb()}get(){return EU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wy(t,e){Rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bU=new di(3e4,6e4);function $n(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qn(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return U0(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=ya(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Yl.fetch()(j0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function U0(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},DU),e);try{let i=new ry(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Hl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw V0(t,l,u);ln(t,l)}}catch(i){if(i instanceof mt)throw i;ln(t,"network-request-failed",{message:String(i)})}})}function Ra(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield qn(t,e,n,r,i);return"mfaPendingCredential"in u&&ln(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function j0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?wy(t.config,i):`${t.config.apiScheme}://${i}`}function CU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ry=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),bU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Hl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=li(t,e,r);return i.customData._tokenResponse=n,i}function I0(t){return t!==void 0&&t.enterprise!==void 0}var iy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function SU(t,e){return p(this,null,function*(){return qn(t,"GET","/v2/recaptchaConfig",$n(t,e))})}function AU(t,e){return p(this,null,function*(){return qn(t,"POST","/v1/accounts:delete",e)})}function B0(t,e){return p(this,null,function*(){return qn(t,"POST","/v1/accounts:lookup",e)})}function Ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ey(t,e=!1){return p(this,null,function*(){let n=rt(t),r=yield n.getIdToken(e),i=Ty(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ea(Xm(i.auth_time)),issuedAtTime:Ea(Xm(i.iat)),expirationTime:Ea(Xm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Xm(t){return Number(t)*1e3}function Ty(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=xm(n);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function w0(t){let e=Ty(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Da(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof mt&&RU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function RU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var sy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ba=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Da(t,B0(n,{idToken:r}));N(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$0(s.providerUserInfo):[],a=NU(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ba(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Dy(t){return p(this,null,function*(){let e=rt(t);yield Jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function NU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $0(t){return t.map(e=>{var{providerId:n}=e,r=Gh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xU(t,e){return p(this,null,function*(){let n=yield U0(t,{},()=>p(this,null,function*(){let r=ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=j0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function MU(t,e){return p(this,null,function*(){return qn(t,"POST","/v2/accounts:revokeToken",$n(t,e))})}var Ta=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){N(e.length!==0,"internal-error");let n=w0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield xU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(N(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(N(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(N(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Ar(t,e){N(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ba(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Da(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ey(this,e)}reload(){return Dy(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Jl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if($t(this.auth.app))return Promise.reject(Bn(this.auth));let e=yield this.getIdToken();return yield Da(this,AU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,j=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:q,emailVerified:B,isAnonymous:ve,providerData:ne,stsTokenManager:Ne}=n;N(q&&Ne,e,"internal-error");let Wt=Ta.fromJSON(this.name,Ne);N(typeof q=="string",e,"internal-error"),Ar(d,e.name),Ar(h,e.name),N(typeof B=="boolean",e,"internal-error"),N(typeof ve=="boolean",e,"internal-error"),Ar(f,e.name),Ar(g,e.name),Ar(y,e.name),Ar(m,e.name),Ar(_,e.name),Ar(j,e.name);let Lr=new t({uid:q,auth:e,email:h,emailVerified:B,displayName:d,isAnonymous:ve,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:Wt,createdAt:_,lastLoginAt:j});return ne&&Array.isArray(ne)&&(Lr.providerData=ne.map(Mi=>Object.assign({},Mi))),m&&(Lr._redirectEventId=m),Lr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Ta;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];N(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?$0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ta;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ba(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var E0=new Map;function jn(t){Rr(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}var PU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),oy=PU;function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}var Zl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(jn(oy),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||jn(oy),o=Gl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Os._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function T0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W0(e))return"Blackberry";if(K0(e))return"Webos";if(by(e))return"Safari";if((e.includes("chrome/")||H0(e))&&!e.includes("edge/"))return"Chrome";if(G0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function q0(t=Se()){return/firefox\//i.test(t)}function by(t=Se()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H0(t=Se()){return/crios\//i.test(t)}function z0(t=Se()){return/iemobile/i.test(t)}function G0(t=Se()){return/android/i.test(t)}function W0(t=Se()){return/blackberry/i.test(t)}function K0(t=Se()){return/webos/i.test(t)}function ad(t=Se()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OU(t=Se()){var e;return ad(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kU(){return e0()&&document.documentMode===10}function Q0(t=Se()){return ad(t)||G0(t)||K0(t)||W0(t)||/windows phone/i.test(t)||z0(t)}function FU(){try{return!!(window&&window!==window.top)}catch{return!1}}function Y0(t,e=[]){let n;switch(t){case"Browser":n=T0(Se());break;case"Worker":n=`${T0(Se())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sr}/${r}`}var ay=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function LU(n){return p(this,arguments,function*(t,e={}){return qn(t,"GET","/v2/passwordPolicy",$n(t,e))})}var VU=6,cy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var uy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xl(this),this.idTokenSubscription=new Xl(this),this.beforeStateQueue=new ay(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Zl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield B0(this,{idToken:e}),r=yield Os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if($t(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Jl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=TU()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if($t(this.app))return Promise.reject(Bn(this));let n=e?rt(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return $t(this.app)?Promise.reject(Bn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $t(this.app)?Promise.reject(Bn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(jn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield LU(this),n=new cy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&jn(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=yield Zl.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&IU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Nr(t){return rt(t)}var Xl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=i0(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cd={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UU(t){cd=t}function J0(t){return cd.loadJS(t)}function jU(){return cd.recaptchaEnterpriseScript}function BU(){return cd.gapiScript}function Z0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var $U="recaptcha-enterprise",qU="NO_RECAPTCHA",ly=class{constructor(e){this.type=$U,this.auth=Nr(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(s){return p(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>p(this,null,function*(){SU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new iy(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;I0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(qU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&I0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=jU();c.length!==0&&(c+=a),J0(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function D0(t,e,n,r=!1){return p(this,null,function*(){let i=new ly(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ed(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield D0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>p(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield D0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Cy(t,e){let n=Ia(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ii(s,e??{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function HU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Sy(t,e,n){let r=Nr(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=X0(e),{host:o,port:a}=zU(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||GU()}function X0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zU(t){let e=X0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:b0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:b0(o)}}}function b0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function GU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ca=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function WU(t,e){return p(this,null,function*(){return qn(t,"POST","/v1/accounts:signUp",e)})}function KU(t,e){return p(this,null,function*(){return Ra(t,"POST","/v1/accounts:signInWithPassword",$n(t,e))})}function QU(t,e){return p(this,null,function*(){return qn(t,"POST","/v1/accounts:sendOobCode",$n(t,e))})}function YU(t,e){return p(this,null,function*(){return QU(t,e)})}function JU(t,e){return p(this,null,function*(){return Ra(t,"POST","/v1/accounts:signInWithEmailLink",$n(t,e))})}function ZU(t,e){return p(this,null,function*(){return Ra(t,"POST","/v1/accounts:signInWithEmailLink",$n(t,e))})}var Sa=class t extends Ca{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ed(e,n,"signInWithPassword",KU);case"emailLink":return JU(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ed(e,r,"signUpPassword",WU);case"emailLink":return ZU(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ey(t,e){return p(this,null,function*(){return Ra(t,"POST","/v1/accounts:signInWithIdp",$n(t,e))})}function XU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ej(t){let e=As(Rs(t)).link,n=e?As(Rs(e)).deep_link_id:null,r=As(Rs(t)).deep_link_id;return(r?As(Rs(r)).link:null)||r||n||e||t}var td=class t{constructor(e){var n,r,i,s,o,a;let c=As(Rs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=XU((i=c.mode)!==null&&i!==void 0?i:null);N(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=ej(e);try{return new t(n)}catch{return null}}};var eC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Sa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=td.parseLink(r);return N(i,"argument-error"),Sa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),nd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var dy=class extends nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function tj(t,e){return p(this,null,function*(){return Ra(t,"POST","/v1/accounts:signUp",$n(t,e))})}var ks=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield Os._fromIdTokenResponse(e,r,i),o=C0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=C0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function C0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var hy=class t extends mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function tC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hy._fromErrorAndOperation(t,s,e,r):s})}function nj(t,e,n=!1){return p(this,null,function*(){let r=yield Da(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ks._forOperation(t,"link",r)})}function rj(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if($t(r.app))return Promise.reject(Bn(r));let i="reauthenticate";try{let s=yield Da(t,tC(r,i,e,t),n);N(s.idToken,r,"internal-error");let o=Ty(s.idToken);N(o,r,"internal-error");let{sub:a}=o;return N(t.uid===a,r,"user-mismatch"),ks._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),s}})}function nC(t,e,n=!1){return p(this,null,function*(){if($t(t.app))return Promise.reject(Bn(t));let r="signIn",i=yield tC(t,r,e),s=yield ks._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Ay(t,e){return p(this,null,function*(){return nC(Nr(t),e)})}function ij(t,e,n){var r;N(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),N(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(N(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(N(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function rC(t){return p(this,null,function*(){let e=Nr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ry(t,e,n){return p(this,null,function*(){let r=Nr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ij(r,i,n),yield ed(r,i,"getOobCode",YU)})}function Ny(t,e,n){return p(this,null,function*(){if($t(t.app))return Promise.reject(Bn(t));let r=Nr(t),o=yield ed(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tj).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rC(t),c}),a=yield ks._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function xy(t,e,n){return $t(t.app)?Promise.reject(Bn(t)):Ay(rt(t),eC.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&rC(t),r}))}function My(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function Py(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}var rd="__sak";var id=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function sj(){let t=Se();return by(t)||ad(t)}var oj=1e3,aj=10,cj=(()=>{class t extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sj()&&FU(),this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);kU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,aj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),iC=cj;var uj=(()=>{class t extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Oy=uj;function lj(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var dj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield lj(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function sC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var fy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=sC("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function un(){return window}function hj(t){un().location.href=t}function oC(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}function fj(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gj(){return oC()?self:null}var aC="firebaseLocalStorageDb",mj=1,sd="firebaseLocalStorage",cC="fbase_key",hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ud(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function yj(){let t=indexedDB.deleteDatabase(aC);return new hi(t).toPromise()}function py(){let t=indexedDB.open(aC,mj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(sd,{keyPath:cC})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),yield yj(),e(yield py()))}))})}function S0(t,e,n){return p(this,null,function*(){let r=ud(t,!0).put({[cC]:e,value:n});return new hi(r).toPromise()})}function vj(t,e){return p(this,null,function*(){let n=ud(t,!1).get(e),r=yield new hi(n).toPromise();return r===void 0?null:r.value})}function A0(t,e){let n=ud(t,!0).delete(e);return new hi(n).toPromise()}var _j=800,Ij=3,wj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield py(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Ij)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return oC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=dj._getInstance(gj()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield fj(),!this.activeServiceWorker)return;this.sender=new fy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield py();return yield S0(n,rd,"1"),yield A0(n,rd),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>S0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>vj(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>A0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=ud(s,!1).getAll();return new hi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),_j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),uC=wj;var N8=Z0("rcb"),x8=new di(3e4,6e4);function Ej(t,e){return e?jn(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Aa=class extends Ca{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ey(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ey(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ey(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Tj(t){return nC(t.auth,new Aa(t),t.bypassAuthState)}function Dj(t){let{auth:e,user:n}=t;return N(n,e,"internal-error"),rj(n,new Aa(t),t.bypassAuthState)}function bj(t){return p(this,null,function*(){let{auth:e,user:n}=t;return N(n,e,"internal-error"),nj(n,new Aa(t),t.bypassAuthState)})}var gy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tj;case"linkViaPopup":case"linkViaRedirect":return bj;case"reauthViaPopup":case"reauthViaRedirect":return Dj;default:ln(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var M8=new di(2e3,1e4);var Cj="pendingRedirect",Wl=new Map,my=class t extends gy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Wl.get(this.auth._key());if(!e){try{let r=(yield Sj(this.resolver,this.auth))?yield Jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function Sj(t,e){return p(this,null,function*(){let n=Nj(e),r=Rj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Aj(t,e){Wl.set(t._key(),e)}function Rj(t){return jn(t._redirectPersistence)}function Nj(t){return Gl(Cj,t.config.apiKey,t.name)}function xj(t,e,n=!1){return p(this,null,function*(){if($t(t.app))return Promise.reject(Bn(t));let r=Nr(t),i=Ej(r,e),o=yield new my(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Mj=10*60*1e3,yy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mj&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(e))}saveEventToCache(e){this.cachedEventUids.add(R0(e)),this.lastProcessedEventTime=Date.now()}};function R0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(t);default:return!1}}function Oj(n){return p(this,arguments,function*(t,e={}){return qn(t,"GET","/v1/projects",e)})}var kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fj=/^https?/;function Lj(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Oj(t);for(let n of e)try{if(Vj(n))return}catch{}ln(t,"unauthorized-domain")})}function Vj(t){let e=ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fj.test(n))return!1;if(kj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Uj=new di(3e4,6e4);function N0(){let t=un().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jj(t){return new Promise((e,n)=>{var r,i,s;function o(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),n(li(t,"network-request-failed"))},timeout:Uj.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)o();else{let a=Z0("iframefcb");return un()[a]=()=>{gapi.load?o():n(li(t,"network-request-failed"))},J0(`${BU()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Kl=null,e})}var Kl=null;function Bj(t){return Kl=Kl||jj(t),Kl}var $j=new di(5e3,15e3),qj="__/auth/iframe",Hj="emulator/auth/iframe",zj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wj(t){let e=t.config;N(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?wy(e,Hj):`https://${t.config.authDomain}/${qj}`,r={apiKey:e.apiKey,appName:t.name,v:Sr},i=Gj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ya(r).slice(1)}`}function Kj(t){return p(this,null,function*(){let e=yield Bj(t),n=un().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:Wj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zj,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=li(t,"network-request-failed"),a=un().setTimeout(()=>{s(o)},$j.get());function c(){un().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yj=500,Jj=600,Zj="_blank",Xj="http://localhost",od=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function e2(t,e,n,r=Yj,i=Jj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Qj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Se().toLowerCase();n&&(a=H0(u)?Zj:n),q0(u)&&(e=e||Xj,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(OU(u)&&a!=="_self")return t2(e||"",a),new od(null);let d=window.open(e||"",a,l);N(d,t,"popup-blocked");try{d.focus()}catch{}return new od(d)}function t2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var n2="__/auth/handler",r2="emulator/auth/handler",i2=encodeURIComponent("fac");function x0(t,e,n,r,i,s){return p(this,null,function*(){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sr,eventId:i};if(e instanceof nd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",r0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof dy){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${i2}=${encodeURIComponent(c)}`:"";return`${s2(t)}?${ya(a).slice(1)}${u}`})}function s2({config:t}){return t.emulator?wy(t,r2):`https://${t.authDomain}/${n2}`}var ty="webStorageSupport",vy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oy,this._completeRedirectFn=xj,this._overrideRedirectResult=Aj}_openPopup(e,n,r,i){return p(this,null,function*(){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield x0(e,n,r,ny(),i);return e2(e,o,sC())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield x0(e,n,r,ny(),i);return hj(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield Kj(e),r=new yy(e);return n.register("authEvent",i=>(N(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ty,{type:ty},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ty];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q0()||by()||ad()}},dC=vy;var M0="@firebase/auth",P0="1.7.2";var _y=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(t){Cr(new At("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(t)},u=new uy(r,i,s,c);return HU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new At("auth-internal",e=>{let n=Nr(e.getProvider("auth").getImmediate());return(r=>new _y(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(M0,P0,o2(t)),Ae(M0,P0,"esm2017")}var c2=5*60,u2=Om("authIdTokenMaxAge")||c2,O0=null,l2=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u2)return;let i=n?.token;O0!==i&&(O0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ky(t=Ns()){let e=Ia(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Cy(t,{popupRedirectResolver:dC,persistence:[uC,iC,Oy]}),r=Om("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=l2(s.toString());Py(n,o,()=>o(n.currentUser)),My(n,a=>o(a))}}let i=Mm("auth");return i&&Sy(n,`http://${i}`),n}function d2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",d2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var hC="auth",fi=class{constructor(e){return e}},Na=class{constructor(){return wa(hC)}};var Fy=new A("angularfire2.auth-instances");function tB(t,e){let n=$l(hC,t,e);return n&&new fi(n)}function nB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fi(r)}}var rB={provide:Na,deps:[[new Ve,Fy]]},iB={provide:fi,useFactory:tB,deps:[[new Ve,Fy],Vn]},sB=(()=>{class t{constructor(){Ae("angularfire",ci.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tt({type:t});static \u0275inj=et({providers:[iB,rB]})}return t})();function gK(t,...e){return{ngModule:sB,providers:[{provide:Fy,useFactory:nB(t),multi:!0,deps:[Z,Me,Ps,ui,[new Ve,Ms],...e]}]}}var fC=yt(Ny,!0);var mK=yt(ky,!0);var pC=yt(Ry,!0);var gC=yt(xy,!0);var aB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ht={},E,iv=iv||{},k=aB||self;function Td(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ha(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cB(t){return Object.prototype.hasOwnProperty.call(t,Ly)&&t[Ly]||(t[Ly]=++uB)}var Ly="closure_uid_"+(1e9*Math.random()>>>0),uB=0;function lB(t,e,n){return t.call.apply(t.bind,arguments)}function dB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=lB:ze=dB,ze.apply(null,arguments)}function ld(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xr(){this.s=this.s,this.o=this.o}var hB=0;xr.prototype.s=!1;xr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hB!=0)&&cB(this)};xr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var AC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Td(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ge(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var fB=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function Fa(t){return/^[\s\xa0]*$/.test(t)}function Dd(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function dn(t){return Dd().indexOf(t)!=-1}function ov(t){return ov[" "](t),t}ov[" "]=function(){};function pB(t,e){var n=n$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gB=dn("Opera"),Us=dn("Trident")||dn("MSIE"),RC=dn("Edge"),$y=RC||Us,NC=dn("Gecko")&&!(Dd().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge"))&&!(dn("Trident")||dn("MSIE"))&&!dn("Edge"),mB=Dd().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge");function xC(){var t=k.document;return t?t.documentMode:void 0}var qy;e:{if(dd="",hd=function(){var t=Dd();if(NC)return/rv:([^\);]+)(\)|;)/.exec(t);if(RC)return/Edge\/([\d\.]+)/.exec(t);if(Us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mB)return/WebKit\/(\S+)/.exec(t);if(gB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),hd&&(dd=hd?hd[1]:""),Us&&(fd=xC(),fd!=null&&fd>parseFloat(dd))){qy=String(fd);break e}qy=dd}var dd,hd,fd,Hy;k.document&&Us?(Vy=xC(),Hy=Vy||parseInt(qy,10)||void 0):Hy=void 0;var Vy,yB=Hy;function La(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NC){e:{try{ov(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:vB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&La.$.h.call(this)}}ke(La,Ge);var vB={2:"touch",3:"pen",4:"mouse"};La.prototype.h=function(){La.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var za="closure_listenable_"+(1e6*Math.random()|0),_B=0;function IB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_B,this.fa=this.ia=!1}function bd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function av(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function wB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function MC(t){let e={};for(let n in t)e[n]=t[n];return e}var yC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<yC.length;s++)n=yC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cd(t){this.src=t,this.g={},this.h=0}Cd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Gy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new IB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function zy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Gy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var cv="closure_lm_"+(1e6*Math.random()|0),Uy={};function OC(t,e,n,r,i){if(r&&r.once)return FC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OC(t,e[s],n,r,i);return null}return n=dv(n),t&&t[za]?t.O(e,n,Ha(r)?!!r.capture:!!r,i):kC(t,e,n,!1,r,i)}function kC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ha(i)?!!i.capture:!!i,a=lv(t);if(a||(t[cv]=a=new Cd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=EB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(VC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EB(){function t(n){return e.call(t.src,t.listener,n)}let e=TB;return t}function FC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FC(t,e[s],n,r,i);return null}return n=dv(n),t&&t[za]?t.P(e,n,Ha(r)?!!r.capture:!!r,i):kC(t,e,n,!0,r,i)}function LC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LC(t,e[s],n,r,i);else r=Ha(r)?!!r.capture:!!r,n=dv(n),t&&t[za]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Gy(s,n,r,i),-1<n&&(bd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=lv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gy(e,n,r,i)),(n=-1<t?e[t]:null)&&uv(n))}function uv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[za])zy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(VC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lv(e))?(zy(n,t),n.h==0&&(n.src=null,e[cv]=null)):bd(t)}}}function VC(t){return t in Uy?Uy[t]:Uy[t]="on"+t}function TB(t,e){if(t.fa)t=!0;else{e=new La(e,this);var n=t.listener,r=t.la||t.src;t.ia&&uv(t),t=n.call(r,e)}return t}function lv(t){return t=t[cv],t instanceof Cd?t:null}var jy="__closure_events_fn_"+(1e9*Math.random()>>>0);function dv(t){return typeof t=="function"?t:(t[jy]||(t[jy]=function(e){return t.handleEvent(e)}),t[jy])}function Oe(){xr.call(this),this.i=new Cd(this),this.S=this,this.J=null}ke(Oe,xr);Oe.prototype[za]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){LC(this,t,e,n,r)};function je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ge(e,t);else if(e instanceof Ge)e.target=e.target||t;else{var i=e;e=new Ge(r,t),PC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=pd(o,r,!0,e)&&i}if(o=e.g=t,i=pd(o,r,!0,e)&&i,i=pd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=pd(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bd(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&zy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var hv=k.JSON.stringify,Wy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function DB(){var t=fv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ky=class{constructor(){this.h=this.g=null}add(e,n){let r=UC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},UC=new Wy(()=>new Qy,t=>t.reset()),Qy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function bB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function CB(t){k.setTimeout(()=>{throw t},0)}var Va,Ua=!1,fv=new Ky,jC=()=>{let t=k.Promise.resolve(void 0);Va=()=>{t.then(SB)}},SB=()=>{for(var t;t=DB();){try{t.h.call(t.g)}catch(n){CB(n)}var e=UC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ua=!1};function Sd(t,e){Oe.call(this),this.h=t||1,this.g=e||k,this.j=ze(this.qb,this),this.l=Date.now()}ke(Sd,Oe);E=Sd.prototype;E.ga=!1;E.T=null;E.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(pv(this),this.start()))}};E.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}E.N=function(){Sd.$.N.call(this),pv(this),delete this.g};function gv(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function BC(t){t.g=gv(()=>{t.g=null,t.i&&(t.i=!1,BC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Yy=class extends xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BC(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ja(t){xr.call(this),this.h=t,this.g={}}ke(ja,xr);var vC=[];function $C(t,e,n,r){Array.isArray(n)||(n&&(vC[0]=n.toString()),n=vC);for(var i=0;i<n.length;i++){var s=OC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qC(t){av(t.g,function(e,n){this.g.hasOwnProperty(n)&&uv(e)},t),t.g={}}ja.prototype.N=function(){ja.$.N.call(this),qC(this)};ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ad(){this.g=!0}Ad.prototype.Ea=function(){this.g=!1};function AB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function RB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ls(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+xB(t,n)+(r?" "+r:"")})}function NB(t,e){t.info(function(){return"TIMEOUT: "+e})}Ad.prototype.info=function(){};function xB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return hv(n)}catch{return e}}var yi={},_C=null;function Rd(){return _C=_C||new Oe}yi.Ta="serverreachability";function HC(t){Ge.call(this,yi.Ta,t)}ke(HC,Ge);function Ba(t){let e=Rd();je(e,new HC(e))}yi.STAT_EVENT="statevent";function zC(t,e){Ge.call(this,yi.STAT_EVENT,t),this.stat=e}ke(zC,Ge);function it(t){let e=Rd();je(e,new zC(e,t))}yi.Ua="timingevent";function GC(t,e){Ge.call(this,yi.Ua,t),this.size=e}ke(GC,Ge);function Ga(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var Nd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},WC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mv(){}mv.prototype.h=null;function IC(t){return t.h||(t.h=t.i())}function KC(){}var Wa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yv(){Ge.call(this,"d")}ke(yv,Ge);function vv(){Ge.call(this,"c")}ke(vv,Ge);var Jy;function xd(){}ke(xd,mv);xd.prototype.g=function(){return new XMLHttpRequest};xd.prototype.i=function(){return{}};Jy=new xd;function Ka(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ja(this),this.P=MB,t=$y?125:void 0,this.V=new Sd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QC}function QC(){this.i=null,this.g="",this.h=!1}var MB=45e3,YC={},Zy={};E=Ka.prototype;E.setTimeout=function(t){this.P=t};function Xy(t,e,n){t.L=1,t.A=Pd(zn(e)),t.u=n,t.S=!0,JC(t,null)}function JC(t,e){t.G=Date.now(),Qa(t),t.B=zn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),sS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new QC,t.g=CS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Yy(ze(t.Pa,t,t.g),t.O)),$C(t.U,t.g,"readystatechange",t.nb),e=t.I?MC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ba(),AB(t.j,t.v,t.B,t.m,t.W,t.u)}E.nb=function(t){t=t.target;let e=this.M;e&&hn(t)==3?e.l():this.Pa(t)};E.Pa=function(t){try{if(t==this.g)e:{let l=hn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||$y||this.g&&(this.h.h||this.g.ja()||DC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ba(3):Ba(2)),Md(this);var n=this.g.da();this.ca=n;t:if(ZC(this)){var r=DC(this.g);t="";var i=r.length,s=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),ka(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,RB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fa(a)){var u=a;break t}}u=null}if(n=u)Ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ev(this,n);else{this.i=!1,this.s=3,it(12),pi(this),ka(this);break e}}this.S?(XC(this,l,o),$y&&this.i&&l==3&&($C(this.U,this.V,"tick",this.mb),this.V.start())):(Ls(this.j,this.m,o,null),ev(this,o)),l==4&&pi(this),this.i&&!this.J&&(l==4?ES(this.l,this):(this.i=!1,Qa(this)))}else XB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),pi(this),ka(this)}}}catch{}finally{}};function ZC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function XC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=PB(t,n),i==Zy){e==4&&(t.s=4,it(14),r=!1),Ls(t.j,t.m,null,"[Incomplete Response]");break}else if(i==YC){t.s=4,it(15),Ls(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ls(t.j,t.m,i,null),ev(t,i);ZC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,it(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dv(e),e.M=!0,it(11))):(Ls(t.j,t.m,n,"[Invalid Chunked Response]"),pi(t),ka(t))}E.mb=function(){if(this.g){var t=hn(this.g),e=this.g.ja();this.o<e.length&&(Md(this),XC(this,t,e),this.i&&t!=4&&Qa(this))}};function PB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Zy:(n=Number(e.substring(n,r)),isNaN(n)?YC:(r+=1,r+n>e.length?Zy:(e=e.slice(r,r+n),t.o=r+n,e)))}E.cancel=function(){this.J=!0,pi(this)};function Qa(t){t.Y=Date.now()+t.P,eS(t,t.P)}function eS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ga(ze(t.lb,t),e)}function Md(t){t.C&&(k.clearTimeout(t.C),t.C=null)}E.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(NB(this.j,this.B),this.L!=2&&(Ba(),it(17)),pi(this),this.s=2,ka(this)):eS(this,this.Y-t)};function ka(t){t.l.H==0||t.J||ES(t.l,t)}function pi(t){Md(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,pv(t.V),qC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ev(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||tv(n.i,t))){if(!t.K&&tv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_d(n),Fd(n);else break e;Tv(n),it(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ga(ze(n.ib,n),6e3));if(1>=cS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gi(n,11)}else if((t.K||n.g==t)&&_d(n),!Fa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(_v(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,le(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=bS(r,r.J?r.pa:null,r.Y),o.K){uS(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Md(a),Qa(a)),r.g=o}else IS(r);0<n.j.length&&Ld(n)}else u[0]!="stop"&&u[0]!="close"||gi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?gi(n,7):Ev(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ba(4)}catch{}}function OB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Td(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function kB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Td(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function tS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Td(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=kB(t),r=OB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var nS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mi){this.h=t.h,yd(this,t.j),this.s=t.s,this.g=t.g,vd(this,t.m),this.l=t.l;var e=t.i,n=new $a;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wC(this,n),this.o=t.o}else t&&(e=String(t).match(nS))?(this.h=!1,yd(this,e[1]||"",!0),this.s=Pa(e[2]||""),this.g=Pa(e[3]||"",!0),vd(this,e[4]),this.l=Pa(e[5]||"",!0),wC(this,e[6]||"",!0),this.o=Pa(e[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Oa(e,EC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Oa(e,EC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Oa(n,n.charAt(0)=="/"?UB:VB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Oa(n,BB)),t.join("")};function zn(t){return new mi(t)}function yd(t,e,n){t.j=n?Pa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wC(t,e,n){e instanceof $a?(t.i=e,$B(t.i,t.h)):(n||(e=Oa(e,jB)),t.i=new $a(e,t.h))}function le(t,e,n){t.i.set(e,n)}function Pd(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Oa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,LB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function LB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var EC=/[#\/\?@]/g,VB=/[#\?:]/g,UB=/[#\?]/g,jB=/[#\?@]/g,BB=/#/g;function $a(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mr(t){t.g||(t.g=new Map,t.h=0,t.i&&FB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}E=$a.prototype;E.add=function(t,e){Mr(this),this.i=null,t=js(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rS(t,e){Mr(t),e=js(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iS(t,e){return Mr(t),e=js(t,e),t.g.has(e)}E.forEach=function(t,e){Mr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};E.ta=function(){Mr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};E.Z=function(t){Mr(this);let e=[];if(typeof t=="string")iS(this,t)&&(e=e.concat(this.g.get(js(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};E.set=function(t,e){return Mr(this),this.i=null,t=js(this,t),iS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};E.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sS(t,e,n){rS(t,e),0<n.length&&(t.i=null,t.g.set(js(t,e),sv(n)),t.h+=n.length)}E.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function js(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $B(t,e){e&&!t.j&&(Mr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rS(this,r),sS(this,i,n))},t)),t.j=e}var qB=class{constructor(t,e){this.g=t,this.map=e}};function oS(t){this.l=t||HB,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var HB=10;function aS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cS(t){return t.h?1:t.g?t.g.size:0}function tv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _v(t,e){t.g?t.g.add(e):t.h=e}function uS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oS.prototype.cancel=function(){if(this.i=lS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function lS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return sv(t.i)}var zB=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function GB(){this.g=new zB}function WB(t,e,n){let r=n||"";try{tS(t,function(i,s){let o=i;Ha(i)&&(o=hv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function KB(t,e){let n=new Ad;if(k.Image){let r=new Image;r.onload=ld(gd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ld(gd,n,r,"TestLoadImage: error",!1,e),r.onabort=ld(gd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ld(gd,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ya(t){this.l=t.ec||null,this.j=t.ob||!1}ke(Ya,mv);Ya.prototype.g=function(){return new Od(this.l,this.j)};Ya.prototype.i=function(t){return function(){return t}}({});function Od(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Iv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(Od,Oe);var Iv=0;E=Od.prototype;E.open=function(t,e){if(this.readyState!=Iv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qa(this)};E.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};E.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=Iv};E.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}E.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ja(this):qa(this),this.readyState==3&&dS(this)}};E.Za=function(t){this.g&&(this.response=this.responseText=t,Ja(this))};E.Ya=function(t){this.g&&(this.response=t,Ja(this))};E.ka=function(){this.g&&Ja(this)};function Ja(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qa(t)}E.setRequestHeader=function(t,e){this.v.append(t,e)};E.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};E.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function qa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var QB=k.JSON.parse;function pe(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hS,this.L=this.M=!1}ke(pe,Oe);var hS="",YB=/^https?$/i,JB=["POST","PUT"];E=pe.prototype;E.Oa=function(t){this.M=t};E.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jy.g(),this.C=this.u?IC(this.u):IC(Jy),this.g.onreadystatechange=ze(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){TC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=AC(JB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gS(this),0<this.B&&((this.L=ZB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.ua,this)):this.A=gv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){TC(this,s)}};function ZB(t){return Us&&typeof t.timeout=="number"&&t.ontimeout!==void 0}E.ua=function(){typeof iv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function TC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fS(t),kd(t)}function fS(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}E.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),kd(this))};E.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kd(this,!0)),pe.$.N.call(this)};E.La=function(){this.s||(this.G||this.v||this.l?pS(this):this.kb())};E.kb=function(){pS(this)};function pS(t){if(t.h&&typeof iv<"u"&&(!t.C[1]||hn(t)!=4||t.da()!=2)){if(t.v&&hn(t)==4)gv(t.La,0,t);else if(je(t,"readystatechange"),hn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(nS)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!YB.test(i?i.toLowerCase():"")}n=r}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var s=2<hn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",fS(t)}}finally{kd(t)}}}}function kd(t,e){if(t.g){gS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=r}catch{}}}function gS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}E.isActive=function(){return!!this.g};function hn(t){return t.g?t.g.readyState:0}E.da=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}};E.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};E.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),QB(e)}};function DC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function XB(t){let e={};t=(t.g&&2<=hn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fa(t[r]))continue;var n=bB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}wB(e,function(r){return r.join(", ")})}E.Ia=function(){return this.m};E.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mS(t){let e="";return av(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function wv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function xa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yS(t){this.Ga=0,this.j=[],this.l=new Ad,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xa("baseRetryDelayMs",5e3,t),this.hb=xa("retryDelaySeedMs",1e4,t),this.eb=xa("forwardChannelMaxRetries",2,t),this.xa=xa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oS(t&&t.concurrentRequestLimit),this.Ja=new GB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}E=yS.prototype;E.ra=8;E.H=1;function Ev(t){if(vS(t),t.H==3){var e=t.W++,n=zn(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),Za(t,n),e=new Ka(t,t.l,e),e.L=2,e.A=Pd(zn(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=CS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Qa(e)}DS(t)}function Fd(t){t.g&&(Dv(t),t.g.cancel(),t.g=null)}function vS(t){Fd(t),t.u&&(k.clearTimeout(t.u),t.u=null),_d(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Ld(t){if(!aS(t.i)&&!t.m){t.m=!0;var e=t.Na;Va||jC(),Ua||(Va(),Ua=!0),fv.add(e,t),t.C=0}}function e$(t,e){return cS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ga(ze(t.Na,t,e),TS(t,t.C)),t.C++,!0)}E.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ka(this,this.l,t),s=this.s;if(this.U&&(s?(s=MC(s),PC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_S(this,i,e),n=zn(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),Za(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(mS(s)))+"&"+e:this.o&&wv(n,this.o,s)),_v(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,Xy(i,n,null)):Xy(i,n,e),this.H=2}}else this.H==3&&(t?bC(this,t):this.j.length==0||aS(this.i)||bC(this))};function bC(t,e){var n;e?n=e.m:n=t.W++;let r=zn(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),Za(t,r),t.o&&t.s&&wv(r,t.o,t.s),n=new Ka(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_S(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_v(t.i,n),Xy(n,r,e)}function Za(t,e){t.na&&av(t.na,function(n,r){le(e,r,n)}),t.h&&tS({},function(n,r){le(e,r,n)})}function _S(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ze(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{WB(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Va||jC(),Ua||(Va(),Ua=!0),fv.add(e,t),t.A=0}}function Tv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ga(ze(t.Ma,t),TS(t,t.A)),t.A++,!0)}E.Ma=function(){if(this.u=null,wS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ga(ze(this.jb,this),t)}};E.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,it(10),Fd(this),wS(this))};function Dv(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function wS(t){t.g=new Ka(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=zn(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),Za(t,e),t.o&&t.s&&wv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pd(zn(e)),n.u=null,n.S=!0,JC(n,t)}E.ib=function(){this.v!=null&&(this.v=null,Fd(this),Tv(this),it(19))};function _d(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function ES(t,e){var n=null;if(t.g==e){_d(t),Dv(t),t.g=null;var r=2}else if(tv(t.i,e))n=e.F,uS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Rd(),je(r,new GC(r,n)),Ld(t)}else IS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&e$(t,e)||r==2&&Tv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}}function TS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ze(t.pb,t);n||(n=new mi("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||yd(n,"https"),Pd(n)),KB(n.toString(),r)}else it(2);t.H=0,t.h&&t.h.za(e),DS(t),vS(t)}E.pb=function(t){t?(this.l.info("Successfully pinged google.com"),it(2)):(this.l.info("Failed to ping google.com"),it(1))};function DS(t){if(t.H=0,t.ma=[],t.h){let e=lS(t.i);(e.length!=0||t.j.length!=0)&&(mC(t.ma,e),mC(t.ma,t.j),t.i.i.length=0,sv(t.j),t.j.length=0),t.h.ya()}}function bS(t,e,n){var r=n instanceof mi?zn(n):new mi(n);if(r.g!="")e&&(r.g=e+"."+r.g),vd(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new mi(null);r&&yd(s,r),e&&(s.g=e),i&&vd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),Za(t,r),r}function CS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new pe(new Ya({ob:n})):new pe(t.va),e.Oa(t.J),e}E.isActive=function(){return!!this.h&&this.h.isActive(this)};function SS(){}E=SS.prototype;E.Ba=function(){};E.Aa=function(){};E.za=function(){};E.ya=function(){};E.isActive=function(){return!0};E.Va=function(){};function Id(){if(Us&&!(10<=Number(yB)))throw Error("Environmental error: no available transport.")}Id.prototype.g=function(t,e){return new vt(t,e)};function vt(t,e){Oe.call(this),this.g=new yS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Bs(this)}ke(vt,Oe);vt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;it(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bS(t,null,t.Y),Ld(t)};vt.prototype.close=function(){Ev(this.g)};vt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=hv(t),t=n);e.j.push(new qB(e.fb++,t)),e.H==3&&Ld(e)};vt.prototype.N=function(){this.g.h=null,delete this.j,Ev(this.g),delete this.g,vt.$.N.call(this)};function AS(t){yv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(AS,yv);function RS(){vv.call(this),this.status=1}ke(RS,vv);function Bs(t){this.g=t}ke(Bs,SS);Bs.prototype.Ba=function(){je(this.g,"a")};Bs.prototype.Aa=function(t){je(this.g,new AS(t))};Bs.prototype.za=function(t){je(this.g,new RS)};Bs.prototype.ya=function(){je(this.g,"b")};function t$(){this.blockSize=-1}function qt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(qt,t$);qt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function By(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}qt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)By(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){By(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){By(this,r),i=0;break}}this.h=i,this.i+=e};qt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var n$={};function bv(t){return-128<=t&&128>t?pB(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function fn(t){if(isNaN(t)||!isFinite(t))return Vs;if(0>t)return Ue(fn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=nv;return new se(e,0)}function NS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ue(NS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fn(Math.pow(e,8)),r=Vs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fn(Math.pow(e,s)),r=r.R(s).add(fn(o))):(r=r.R(n),r=r.add(fn(o)))}return r}var nv=4294967296,Vs=bv(0),rv=bv(1),CC=bv(16777216);E=se.prototype;E.ea=function(){if(Rt(this))return-Ue(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:nv+r)*e,e*=nv}return t};E.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hn(this))return"0";if(Rt(this))return"-"+Ue(this).toString(t);for(var e=fn(Math.pow(t,6)),n=this,r="";;){var i=Ed(n,e).g;n=wd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};E.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rt(t){return t.h==-1}E.X=function(t){return t=wd(this,t),Rt(t)?-1:Hn(t)?0:1};function Ue(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(rv)}E.abs=function(){return Rt(this)?Ue(this):this};E.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function wd(t,e){return t.add(Ue(e))}E.R=function(t){if(Hn(this)||Hn(t))return Vs;if(Rt(this))return Rt(t)?Ue(this).R(Ue(t)):Ue(Ue(this).R(t));if(Rt(t))return Ue(this.R(Ue(t)));if(0>this.X(CC)&&0>t.X(CC))return fn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,md(n,2*r+2*i),n[2*r+2*i+1]+=s*c,md(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,md(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,md(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function md(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ma(t,e){this.g=t,this.h=e}function Ed(t,e){if(Hn(e))throw Error("division by zero");if(Hn(t))return new Ma(Vs,Vs);if(Rt(t))return e=Ed(Ue(t),e),new Ma(Ue(e.g),Ue(e.h));if(Rt(e))return e=Ed(t,Ue(e)),new Ma(Ue(e.g),e.h);if(30<t.g.length){if(Rt(t)||Rt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rv,r=e;0>=r.X(t);)n=SC(n),r=SC(r);var i=Fs(n,1),s=Fs(r,1);for(r=Fs(r,2),n=Fs(n,2);!Hn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Fs(r,1),n=Fs(n,1)}return e=wd(t,i.R(e)),new Ma(i,e)}for(i=Vs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=fn(n),o=s.R(e);Rt(o)||0<o.X(t);)n-=r,s=fn(n),o=s.R(e);Hn(s)&&(s=rv),i=i.add(s),t=wd(t,o)}return new Ma(i,t)}E.gb=function(t){return Ed(this,t).h};E.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};E.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};E.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function SC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function Fs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new se(i,t.h)}Id.prototype.createWebChannel=Id.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;Nd.NO_ERROR=0;Nd.TIMEOUT=8;Nd.HTTP_ERROR=6;WC.COMPLETE="complete";KC.EventType=Wa;Wa.OPEN="a";Wa.CLOSE="b";Wa.ERROR="c";Wa.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;qt.prototype.digest=qt.prototype.l;qt.prototype.reset=qt.prototype.reset;qt.prototype.update=qt.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=fn;se.fromString=NS;var xS=Ht.createWebChannelTransport=function(){return new Id},MS=Ht.getStatEventTarget=function(){return Rd()},Vd=Ht.ErrorCode=Nd,PS=Ht.EventType=WC,OS=Ht.Event=yi,Cv=Ht.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kS=Ht.FetchXmlHttpFactory=Ya,Xa=Ht.WebChannel=KC,FS=Ht.XhrIo=pe,LS=Ht.Md5=qt,vi=Ht.Integer=se;var VS="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var ao="10.11.1";var Ti=new Dr("@firebase/firestore");function ec(){return Ti.logLevel}function C(t,...e){if(Ti.logLevel<=Q.DEBUG){let n=e.map(lI);Ti.debug(`Firestore (${ao}): ${t}`,...n)}}function Wn(t,...e){if(Ti.logLevel<=Q.ERROR){let n=e.map(lI);Ti.error(`Firestore (${ao}): ${t}`,...n)}}function Ks(t,...e){if(Ti.logLevel<=Q.WARN){let n=e.map(lI);Ti.warn(`Firestore (${ao}): ${t}`,...n)}}function lI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function ue(t,e){t||P()}function L(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},R=class extends mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var qd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},Mv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Pv=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new qd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Fe(e)}},Ov=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},kv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ov(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Lv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new Fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function r$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Hd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=r$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var U=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Be(0,0))}static max(){return new t(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},me=class t extends zd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new R(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},i$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_t=class t extends zd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return i$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new R(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new R(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new R(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new R(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(me.fromString(e))}static fromName(e){return new t(me.fromString(e).popFirst(5))}static empty(){return new t(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new me(e.slice()))}};var Vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vv.UNKNOWN_ID=-1;function s$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Di(i,x.empty(),e)}function o$(t){return new Di(t.readTime,t.key,-1)}var Di=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(U.min(),x.empty(),-1)}static max(){return new t(U.max(),x.empty(),-1)}};function a$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var c$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vc(t){return p(this,null,function*(){if(t.code!==v.FAILED_PRECONDITION||t.message!==c$)throw t;C("LocalStore","Unexpectedly lost primary lease")})}var w=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function u$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}var pA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _h(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function l$(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var d$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SK=[...d$,"documentOverlays"],h$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f$=h$,AK=[...f$,"indexConfiguration","indexState","indexEntries"];function US(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ye=class t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zs(this.root,e,this.comparator,!0)}},zs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ke=class t{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gd(this.data.getIterator())}getIteratorFrom(e){return new Gd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Gd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gn=class t{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ke(_t.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Wd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var p$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kn(t){if(ue(!!t),typeof t=="string"){let e=0,n=p$.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(t.seconds),nanos:ge(t.nanos)}}function ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function dI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hI(t){let e=t.mapValue.fields.__previous_value__;return dI(e)?hI(e):e}function cc(t){let e=Kn(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}var jv=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Kd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dI(t)?4:mA(t)?9007199254740991:10:P()}function _n(t,e){if(t===e)return!0;let n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Kn(i.timestampValue),a=Kn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Or(i.bytesValue).isEqual(Or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ge(i.geoPointValue.latitude)===ge(s.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ge(i.integerValue)===ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ge(i.doubleValue),a=ge(s.doubleValue);return o===a?ac(o)===ac(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(US(o)!==US(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!_n(o[c],a[c])))return!1;return!0}(t,e);default:return P()}}function uc(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;let n=bi(t),r=bi(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ge(s.integerValue||s.doubleValue),c=ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return jS(t.timestampValue,e.timestampValue);case 4:return jS(cc(t),cc(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Or(s),c=Or(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=re(a[u],c[u]);if(l!==0)return l}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=re(ge(s.latitude),ge(o.latitude));return a!==0?a:re(ge(s.longitude),ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ys(a[u],c[u]);if(l)return l}return re(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ud.mapValue&&o===Ud.mapValue)return 0;if(s===Ud.mapValue)return 1;if(o===Ud.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=re(c[d],l[d]);if(h!==0)return h;let f=Ys(a[c[d]],u[l[d]]);if(f!==0)return f}return re(c.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function jS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=Kn(t),r=Kn(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Js(t){return Bv(t)}function Bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Bv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Bv(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function $v(t){return!!t&&"integerValue"in t}function fI(t){return!!t&&"arrayValue"in t}function BS(t){return!!t&&"nullValue"in t}function $S(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=nc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(nc(this.value))}};function yA(t){let e=[];return co(t.fields,(n,r)=>{let i=new _t([n]);if(Bd(r)){let s=yA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}var Gt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,U.min(),U.min(),U.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,U.min(),U.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,U.min(),U.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zs=class{constructor(e,n){this.position=e,this.inclusive=n}};function qS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var Xs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function g$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Qd=class{},Re=class t extends Qd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hv(e,n,r):n==="array-contains"?new Wv(e,r):n==="in"?new Kv(e,r):n==="not-in"?new Qv(e,r):n==="array-contains-any"?new Yv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zv(e,r):new Gv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},In=class t extends Qd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return vA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function vA(t){return t.op==="and"}function _A(t){return m$(t)&&vA(t)}function m$(t){for(let e of t.filters)if(e instanceof In)return!1;return!0}function qv(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(_A(t))return t.filters.map(e=>qv(e)).join(",");{let e=t.filters.map(n=>qv(n)).join(",");return`${t.op}(${e})`}}function IA(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&IA(o,i.filters[a]),!0):!1}(t,e):void P()}function wA(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"}(t):"Filter"}var Hv=class extends Re{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},zv=class extends Re{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Gv=class extends Re{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function EA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var Wv=class extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return fI(n)&&uc(n.arrayValue,this.value)}},Kv=class extends Re{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}},Qv=class extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}},Yv=class extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!fI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}};var Jv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function zS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Jv(t,e,n,r,i,s,o)}function pI(t){let e=L(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ue=n}return e.ue}function gI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HS(t.startAt,e.startAt)&&HS(t.endAt,e.endAt)}function Zv(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var eo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function y$(t,e,n,r,i,s,o,a){return new eo(t,e,n,r,i,s,o,a)}function mI(t){return new eo(t)}function GS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v$(t){return t.collectionGroup!==null}function rc(t){let e=L(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ke(_t.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xs(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Xs(_t.keyField(),r))}return e.ce}function yn(t){let e=L(t);return e.le||(e.le=_$(e,rc(t))),e.le}function _$(t,e){if(t.limitType==="F")return zS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Xs(i.field,s)});let n=t.endAt?new Zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zs(t.startAt.position,t.startAt.inclusive):null;return zS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xv(t,e,n){return new eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return gI(yn(t),yn(e))&&t.limitType===e.limitType}function TA(t){return`${pI(yn(t))}|lt:${t.limitType}`}function $s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wA(i)).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of rc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=qS(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,rc(r),i)||r.endAt&&!function(o,a,c){let u=qS(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,rc(r),i))}(t,e)}function I$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DA(t){return(e,n)=>{let r=!1;for(let i of rc(t)){let s=w$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function w$(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ys(c,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var kr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return gA(this.inner)}size(){return this.innerSize}};var E$=new ye(x.comparator);function Qn(){return E$}var bA=new ye(x.comparator);function tc(...t){let e=bA;for(let n of t)e=e.insert(n.key,n);return e}function CA(t){let e=bA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return ic()}function SA(){return ic()}function ic(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}var T$=new ye(x.comparator),D$=new Ke(x.comparator);function Y(...t){let e=D$;for(let n of t)e=e.add(n);return e}var b$=new Ke(re);function C$(){return b$}function AA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function RA(t){return{integerValue:""+t}}function S$(t,e){return l$(e)?RA(e):AA(t,e)}var to=class{constructor(){this._=void 0}};function A$(t,e,n){return t instanceof Ci?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dI(s)&&(s=hI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Si?xA(t,e):t instanceof Ai?MA(t,e):function(i,s){let o=NA(i,s),a=WS(o)+WS(i.Pe);return $v(o)&&$v(i.Pe)?RA(a):AA(i.serializer,a)}(t,e)}function R$(t,e,n){return t instanceof Si?xA(t,e):t instanceof Ai?MA(t,e):n}function NA(t,e){return t instanceof no?function(r){return $v(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ci=class extends to{},Si=class extends to{constructor(e){super(),this.elements=e}};function xA(t,e){let n=PA(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ai=class extends to{constructor(e){super(),this.elements=e}};function MA(t,e){let n=PA(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var no=class extends to{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function WS(t){return ge(t.integerValue||t.doubleValue)}function PA(t){return fI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var e_=class{constructor(e,n){this.field=e,this.transform=n}};function N$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Si&&i instanceof Si||r instanceof Ai&&i instanceof Ai?Qs(r.elements,i.elements,_n):r instanceof no&&i instanceof no?_n(r.Pe,i.Pe):r instanceof Ci&&i instanceof Ci}(t.transform,e.transform)}var t_=class{constructor(e,n){this.version=e,this.transformResults=n}},Ei=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ro=class{};function OA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yd(t.key,Ei.none()):new Ri(t.key,t.data,Ei.none());{let n=t.data,r=zt.empty(),i=new Ke(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yn(t.key,r,new gn(i.toArray()),Ei.none())}}function x$(t,e,n){t instanceof Ri?function(i,s,o){let a=i.value.clone(),c=QS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yn?function(i,s,o){if(!$d(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=QS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(kA(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sc(t,e,n,r){return t instanceof Ri?function(s,o,a,c){if(!$d(s.precondition,o))return a;let u=s.value.clone(),l=YS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yn?function(s,o,a,c){if(!$d(s.precondition,o))return a;let u=YS(s.fieldTransforms,c,o),l=o.data;return l.setAll(kA(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function M$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=NA(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function KS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(s,o)=>N$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ri=class extends ro{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yn=class extends ro{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function kA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function QS(t,e,n){let r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,R$(o,a,n[i]))}return r}function YS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,A$(s,o,e))}return r}var Yd=class extends ro{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},n_=class extends ro{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var r_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&x$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=SA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=OA(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,r)=>KS(n,r))&&Qs(this.baseMutations,e.baseMutations,(n,r)=>KS(n,r))}},i_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return T$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var s_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var o_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var De,te;function P$(t){switch(t){default:return P();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function FA(t){if(t===void 0)return Wn("GRPC error has no .code"),v.UNKNOWN;switch(t){case De.OK:return v.OK;case De.CANCELLED:return v.CANCELLED;case De.UNKNOWN:return v.UNKNOWN;case De.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case De.INTERNAL:return v.INTERNAL;case De.UNAVAILABLE:return v.UNAVAILABLE;case De.UNAUTHENTICATED:return v.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case De.NOT_FOUND:return v.NOT_FOUND;case De.ALREADY_EXISTS:return v.ALREADY_EXISTS;case De.PERMISSION_DENIED:return v.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case De.ABORTED:return v.ABORTED;case De.OUT_OF_RANGE:return v.OUT_OF_RANGE;case De.UNIMPLEMENTED:return v.UNIMPLEMENTED;case De.DATA_LOSS:return v.DATA_LOSS;default:return P()}}(te=De||(De={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";var JS=null;function O$(){return new TextEncoder}var k$=new vi([4294967295,4294967295],0);function ZS(t){let e=O$().encode(t),n=new LS;return n.update(e),new Uint8Array(n.digest())}function XS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,s],0)]}var a_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ii(`Invalid padding: ${n}`);if(r<0)throw new Ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ii(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ii(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(k$)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=ZS(e),[r,i]=XS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=ZS(e),[r,i]=XS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ii=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(U.min(),i,new ye(re),Qn(),Y())}},lc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Y(),Y(),Y())}};var Gs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Zd=class{constructor(e,n){this.targetId=e,this.me=n}},Xd=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},eh=class{constructor(){this.fe=0,this.ge=tA(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Y(),n=Y(),r=Y();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new lc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=tA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},c_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qn(),this.qe=eA(),this.Qe=new ye(re)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Zv(s))if(r===0){let o=new x(s.path);this.Ue(n,o,Gt.newNoDocument(o,U.min()))}else ue(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}JS?.et(function(l,d,h,f,g){var y,m,_,j,q,B;let ve={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(ve.bloomFilter={applied:g===0,hashCount:(y=ne?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(j=(_=(m=ne?.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&j!==void 0?j:0,padding:(B=(q=ne?.bits)===null||q===void 0?void 0:q.padding)!==null&&B!==void 0?B:0,mightContain:Ne=>{var Wt;return(Wt=f?.mightContain(Ne))!==null&&Wt!==void 0&&Wt}}),ve}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Or(r).toUint8Array()}catch(c){if(c instanceof Wd)return Ks("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new a_(o,i,s)}catch(c){return Ks(c instanceof Ii?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Zv(a.target)){let c=new x(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Gt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Y();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Jd(e,n,this.Qe,this.ke,r);return this.ke=Qn(),this.qe=eA(),this.Qe=new ye(re),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new eh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ke(re),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||C("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function eA(){return new ye(x.comparator)}function tA(){return new ye(x.comparator)}var F$={asc:"ASCENDING",desc:"DESCENDING"},L$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V$={and:"AND",or:"OR"},u_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function l_(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U$(t,e){return th(t,e.toTimestamp())}function vn(t){return ue(!!t),U.fromTimestamp(function(n){let r=Kn(n);return new Be(r.seconds,r.nanos)}(t))}function yI(t,e){return d_(t,e).canonicalString()}function d_(t,e){let n=function(i){return new me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VA(t){let e=me.fromString(t);return ue(qA(e)),e}function h_(t,e){return yI(t.databaseId,e.path)}function Sv(t,e){let n=VA(e);if(n.get(1)!==t.databaseId.projectId)throw new R(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(jA(n))}function UA(t,e){return yI(t.databaseId,e)}function j$(t){let e=VA(t);return e.length===4?me.emptyPath():jA(e)}function f_(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jA(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nA(t,e,n){return{name:h_(t,e),fields:n.value.mapValue.fields}}function B$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ue(l===void 0||typeof l=="string"),st.fromBase64String(l||"")):(ue(l===void 0||l instanceof Buffer||l instanceof Uint8Array),st.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?v.UNKNOWN:FA(u.code);return new R(l,u.message||"")}(o);n=new Xd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sv(t,r.document.name),s=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):U.min(),a=new zt({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Gs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sv(t,r.document),s=r.readTime?vn(r.readTime):U.min(),o=Gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sv(t,r.document),s=r.removedTargetIds||[];n=new Gs([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new o_(i,s),a=r.targetId;n=new Zd(a,o)}}return n}function $$(t,e){let n;if(e instanceof Ri)n={update:nA(t,e.key,e.value)};else if(e instanceof Yd)n={delete:h_(t,e.key)};else if(e instanceof Yn)n={update:nA(t,e.key,e.data),updateMask:J$(e.fieldMask)};else{if(!(e instanceof n_))return P();n={verify:h_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ci)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Si)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof no)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:U$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:P()}(t,e.precondition)),n}function q$(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vn(i.updateTime):vn(s);return o.isEqual(U.min())&&(o=vn(s)),new t_(o,i.transformResults||[])}(n,e))):[]}function H$(t,e){return{documents:[UA(t,e.path)]}}function z$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UA(t,i);let s=function(u){if(u.length!==0)return $A(In.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:qs(h.field),direction:K$(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=l_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function G$(t){let e=j$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=BA(d);return h instanceof In&&_A(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Xs(Hs(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_h(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Zs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Zs(f,h)}(n.endAt)),y$(e,i,o,s,a,"F",c,u)}function W$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Hs(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Hs(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Hs(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Hs(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function K$(t){return F$[t]}function Q$(t){return L$[t]}function Y$(t){return V$[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Hs(t){return _t.fromServerFormat(t.fieldPath)}function $A(t){return t instanceof Re?function(n){if(n.op==="=="){if($S(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(BS(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($S(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(BS(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:Q$(n.op),value:n.value}}}(t):t instanceof In?function(n){let r=n.getFilters().map(i=>$A(i));return r.length===1?r[0]:{compositeFilter:{op:Y$(n.op),filters:r}}}(t):P()}function J$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dc=class t{constructor(e,n,r,i,s=U.min(),o=U.min(),a=st.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var p_=class{constructor(e){this.ut=e}};function Z$(t){let e=G$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}var nh=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ge(e.integerValue));else if("doubleValue"in e){let r=ge(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),ac(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Kn(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Or(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?mA(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):P()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),x.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};nh.St=new nh;var g_=class{constructor(){this.on=new m_}addToCollectionParentIndex(e,n){return this.on.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Di.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}},m_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(me.comparator)).toArray()}};var NK=new Uint8Array(0);var pn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);var hc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var y_=class{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var v_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var __=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sc(r.mutation,i,gn.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){let i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tc();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qn(),o=ic(),a=function(){return ic()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Yn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),sc(l.mutation,u,l.mutation.getFieldMask(),Be.now())):o.set(u.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new v_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ic(),i=new ye((o,a)=>o-a),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||gn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Y()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=SA();l.forEach(h=>{if(!s.has(h)){let f=OA(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(_i()),a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Y())).next(l=>({batchId:a,changes:CA(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=tc();return this.indexManager.getCollectionParents(e,s).next(a=>w.forEach(a,c=>{let u=function(d,h){return new eo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Gt.newInvalidDocument(l)))});let a=tc();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&sc(l.mutation,u,gn.empty(),Be.now()),wh(n,u)&&(a=a.insert(c,u))}),a})}};var I_=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return w.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),w.resolve()}getNamedQuery(e,n){return w.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Z$(i.bundledQuery),readTime:vn(i.readTime)}}(n)),w.resolve()}};var w_=class{constructor(){this.overlays=new ye(x.comparator),this.lr=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_i();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){let i=_i(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ye((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=_i(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=_i(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s_(n,r));let s=this.lr.get(n);s===void 0&&(s=Y(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var fc=class{constructor(){this.hr=new Ke(be.Pr),this.Ir=new Ke(be.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new be(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new be(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new x(new me([])),r=new be(n,e),i=new be(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new x(new me([])),r=new be(n,e),i=new be(n,e+1),s=Y();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new be(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},be=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return x.comparator(e.key,n.key)||re(e.gr,n.gr)}static Tr(e,n){return re(e.gr,n.gr)||x.comparator(e.key,n.key)}};var E_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ke(be.Pr)}checkEmpty(e){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new r_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new be(n,0),i=new be(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(re);return n.forEach(i=>{let s=new be(i,0),o=new be(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),w.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;x.isDocumentKey(s)||(s=s.child(""));let o=new be(new x(s),0),a=new Ke(re);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),w.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return w.forEach(n.mutations,i=>{let s=new be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new be(n,0),i=this.yr.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,w.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var T_=class{constructor(e){this.Cr=e,this.docs=function(){return new ye(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qn(),o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||a$(o$(l),r)<=0||(i.has(l.key)||wh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}vr(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D_(this)}getSize(e){return w.resolve(this.size)}},D_=class extends y_{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var b_=class{constructor(e){this.persistence=e,this.Fr=new kr(n=>pI(n),gI),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Mr=0,this.Or=new fc,this.targetCount=0,this.Nr=hc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),w.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new hc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.kn(n),w.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),w.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Or.containsKey(n))}};var C_=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new pA(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new b_(this),this.indexManager=new g_,this.remoteDocumentCache=function(i){return new T_(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new p_(n),this.Kr=new I_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new E_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);let i=new S_(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return w.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},S_=class extends Uv{constructor(e){super(),this.currentSequenceNumber=e}},A_=class t{constructor(e){this.persistence=e,this.Gr=new fc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw P()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),w.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,r=>{let i=x.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return w.or([()=>w.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var R_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Y(),i=Y();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var N_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var x_=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return t0()?8:u$(Se())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new N_;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ec()<=Q.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(ec()<=Q.DEBUG&&C("QueryEngine","Query:",$s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ec()<=Q.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):w.resolve())}zi(e,n){if(GS(n))return w.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Y(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Xv(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return GS(n)||i.isEqual(U.min())?w.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?w.resolve(null):(ec()<=Q.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(n)),this.Xi(e,o,n,s$(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ke(DA(e));return n.forEach((i,s)=>{wh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return ec()<=Q.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",$s(n)),this.Gi.getDocumentsMatchingQuery(e,n,Di.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var M_=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ye(re),this.ns=new kr(s=>pI(s),gI),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new __(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function X$(t,e,n,r){return new M_(t,e,n,r)}function HA(t,e){return p(this,null,function*(){let n=L(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Y();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function eq(t,e){let n=L(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=w.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(y=>{let m=u.docVersions.get(g);ue(m!==null),y.version.compareTo(m)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Y();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zA(t){let e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function tq(t,e){let n=L(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(st.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,m,_){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=Qn(),u=Y();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(nq(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(U.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function nq(t,e,n){let r=Y(),i=Y();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(U.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function rq(t,e){let n=L(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iq(t,e){let n=L(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new dc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function P_(t,e,n){return p(this,null,function*(){let r=L(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_c(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function rA(t,e,n){let r=L(t),i=U.min(),s=Y();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=L(c),h=d.ns.get(l);return h!==void 0?w.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:Y())).next(a=>(sq(r,I$(e),a),{documents:a,ls:s})))}function sq(t,e,n){let r=t.rs.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var rh=class{constructor(){this.activeTargetIds=C$()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var O_=class{constructor(){this.eo=new rh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new rh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var k_=class{ro(e){}shutdown(){}};var ih=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jd=null;function Av(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}var oq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var F_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var We="WebChannelConnection",L_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=Av(),c=this.Co(n,r.toUriEncodedString());C("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Ks("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=oq[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=Av();return new Promise((o,a)=>{let c=new FS;c.setWithCredentials(!0),c.listenOnce(PS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vd.NO_ERROR:let l=c.getResponseJson();C(We,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Vd.TIMEOUT:C(We,`RPC '${e}' ${s} timed out`),a(new R(v.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:let d=c.getStatus();if(C(We,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(m){let _=m.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(_)>=0?_:v.UNKNOWN}(f.status);a(new R(g,f.message))}else a(new R(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new R(v.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{C(We,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);C(We,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=Av(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xS(),a=MS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new kS({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");C(We,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new F_({co:m=>{f?C(We,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(C(We,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(We,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),y=(m,_,j)=>{m.listen(_,q=>{try{j(q)}catch(B){setTimeout(()=>{throw B},0)}})};return y(d,Xa.EventType.OPEN,()=>{f||(C(We,`RPC '${e}' stream ${i} transport opened.`),g.Vo())}),y(d,Xa.EventType.CLOSE,()=>{f||(f=!0,C(We,`RPC '${e}' stream ${i} transport closed`),g.fo())}),y(d,Xa.EventType.ERROR,m=>{f||(f=!0,Ks(We,`RPC '${e}' stream ${i} transport errored:`,m),g.fo(new R(v.UNAVAILABLE,"The operation could not be completed")))}),y(d,Xa.EventType.MESSAGE,m=>{var _;if(!f){let j=m.data[0];ue(!!j);let q=j,B=q.error||((_=q[0])===null||_===void 0?void 0:_.error);if(B){C(We,`RPC '${e}' stream ${i} received error:`,B);let ve=B.status,ne=function(Lr){let Mi=De[Lr];if(Mi!==void 0)return FA(Mi)}(ve),Ne=B.message;ne===void 0&&(ne=v.INTERNAL,Ne="Unknown error status: "+ve+" with message "+B.message),f=!0,g.fo(new R(ne,Ne)),d.close()}else C(We,`RPC '${e}' stream ${i} received:`,j),g.po(j)}}),y(a,OS.STAT_EVENT,m=>{m.stat===Cv.PROXY?C(We,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Cv.NOPROXY&&C(We,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.mo()},0),g}};function Rv(){return typeof document<"u"?document:null}function Eh(t){return new u_(t,!0)}var sh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var oh=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new sh(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return p(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return p(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return p(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new R(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>p(this,null,function*(){this.state=0,this.start()}))}u_(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},V_=class extends oh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();let n=B$(this.serializer,e),r=function(s){if(!("targetChange"in s))return U.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?U.min():o.readTime?vn(o.readTime):U.min()}(e);return this.listener.l_(n,r)}h_(e){let n={};n.database=f_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Zv(c)?{documents:H$(s,c)}:{query:z$(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LA(s,o.resumeToken);let u=l_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(U.min())>0){a.readTime=th(s,o.snapshotVersion.toTimestamp());let u=l_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=W$(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){let n={};n.database=f_(this.serializer),n.removeTarget=e,this.r_(n)}},U_=class extends oh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=q$(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.d_(r,n)}return ue(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=f_(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$$(this.serializer,r))};this.r_(n)}};var j_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new R(v.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,d_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(v.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,d_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new R(v.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var B_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Wn(n),this.y_=!1):C("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var $_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){Ni(this)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=L(c);u.M_.add(4),yield Ic(u),u.N_.set("Unknown"),u.M_.delete(4),yield Th(u)})}(this))}))}),this.N_=new B_(r,i)}};function Th(t){return p(this,null,function*(){if(Ni(t))for(let e of t.x_)yield e(!0)})}function Ic(t){return p(this,null,function*(){for(let e of t.x_)yield e(!1)})}function GA(t,e){let n=L(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),wI(n)?II(n):uo(n).Zo()&&_I(n,e))}function vI(t,e){let n=L(t),r=uo(n);n.F_.delete(e),r.Zo()&&WA(n,e),n.F_.size===0&&(r.Zo()?r.t_():Ni(n)&&n.N_.set("Unknown"))}function _I(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).h_(e)}function WA(t,e){t.L_.xe(e),uo(t).P_(e)}function II(t){t.L_=new c_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.N_.w_()}function wI(t){return Ni(t)&&!uo(t).Yo()&&t.F_.size>0}function Ni(t){return L(t).M_.size===0}function KA(t){t.L_=void 0}function aq(t){return p(this,null,function*(){t.N_.set("Online")})}function cq(t){return p(this,null,function*(){t.F_.forEach((e,n)=>{_I(t,e)})})}function uq(t,e){return p(this,null,function*(){KA(t),wI(t)?(t.N_.D_(e),II(t)):t.N_.set("Unknown")})}function lq(t,e,n){return p(this,null,function*(){if(t.N_.set("Online"),e instanceof Xd&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ah(t,r)}else if(e instanceof Gs?t.L_.Ke(e):e instanceof Zd?t.L_.He(e):t.L_.We(e),!n.isEqual(U.min()))try{let r=yield zA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.F_.get(u);l&&s.F_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.F_.get(c);if(!l)return;s.F_.set(c,l.withResumeToken(st.EMPTY_BYTE_STRING,l.snapshotVersion)),WA(s,c);let d=new dc(l.target,c,u,l.sequenceNumber);_I(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield ah(t,r)}})}function ah(t,e,n){return p(this,null,function*(){if(!_c(e))throw e;t.M_.add(1),yield Ic(t),t.N_.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Th(t)}))})}function QA(t,e){return e().catch(n=>ah(t,n,e))}function Dh(t){return p(this,null,function*(){let e=L(t),n=Fr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;dq(e);)try{let i=yield rq(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,hq(e,i)}catch(i){yield ah(e,i)}YA(e)&&JA(e)})}function dq(t){return Ni(t)&&t.v_.length<10}function hq(t,e){t.v_.push(e);let n=Fr(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function YA(t){return Ni(t)&&!Fr(t).Yo()&&t.v_.length>0}function JA(t){Fr(t).start()}function fq(t){return p(this,null,function*(){Fr(t).R_()})}function pq(t){return p(this,null,function*(){let e=Fr(t);for(let n of t.v_)e.E_(n.mutations)})}function gq(t,e,n){return p(this,null,function*(){let r=t.v_.shift(),i=i_.from(r,e,n);yield QA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Dh(t)})}function mq(t,e){return p(this,null,function*(){e&&Fr(t).T_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return P$(o)&&o!==v.ABORTED}(i.code)){let s=r.v_.shift();Fr(r).e_(),yield QA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Dh(r)}})}(t,e)),YA(t)&&JA(t)})}function iA(t,e){return p(this,null,function*(){let n=L(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let r=Ni(n);n.M_.add(3),yield Ic(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Th(n)})}function yq(t,e){return p(this,null,function*(){let n=L(t);e?(n.M_.delete(2),yield Th(n)):e||(n.M_.add(2),yield Ic(n),n.N_.set("Unknown"))})}function uo(t){return t.B_||(t.B_=function(n,r,i){let s=L(n);return s.m_(),new V_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:aq.bind(null,t),Io:cq.bind(null,t),Eo:uq.bind(null,t),l_:lq.bind(null,t)}),t.x_.push(e=>p(this,null,function*(){e?(t.B_.e_(),wI(t)?II(t):t.N_.set("Unknown")):(yield t.B_.stop(),KA(t))}))),t.B_}function Fr(t){return t.k_||(t.k_=function(n,r,i){let s=L(n);return s.m_(),new U_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:fq.bind(null,t),Eo:mq.bind(null,t),A_:pq.bind(null,t),d_:gq.bind(null,t)}),t.x_.push(e=>p(this,null,function*(){e?(t.k_.e_(),yield Dh(t)):(yield t.k_.stop(),t.v_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var q_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function EI(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),_c(t))return new R(v.UNAVAILABLE,`${e}: ${t}`);throw t}var ch=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=tc(),this.sortedSet=new ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var uh=class{constructor(){this.q_=new ye(x.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):P():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},io=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ch.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var H_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},z_=class{constructor(){this.queries=new kr(e=>TA(e),Ih),this.onlineState="Unknown",this.z_=new Set}};function vq(t,e){return p(this,null,function*(){let n=L(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new H_,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=EI(o,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&TI(n)})}function _q(t,e){return p(this,null,function*(){let n=L(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Iq(t,e){let n=L(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&TI(n)}function wq(t,e,n){let r=L(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function TI(t){t.z_.forEach(e=>{e.next()})}var G_,sA;(sA=G_||(G_={})).J_="default",sA.Cache="cache";var W_=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==G_.Cache}};var lh=class{constructor(e){this.key=e}},dh=class{constructor(e){this.key=e}},K_=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Y(),this.mutatedKeys=Y(),this.Ia=DA(e),this.Ta=new ch(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new uh,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=wh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),m=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),m=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.Ia(f,c)>0||u&&this.Ia(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((l,d)=>function(f,g){let y=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return y(f)-y(g)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new io(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new uh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Y(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new dh(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new lh(r))}),n}pa(e){this.la=e.ls,this.Pa=Y();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return io.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Q_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Y_=class{constructor(e){this.key=e,this.wa=!1}},J_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new kr(a=>TA(a),Ih),this.Da=new Map,this.Ca=new Set,this.va=new ye(x.comparator),this.Fa=new Map,this.Ma=new fc,this.xa={},this.Oa=new Map,this.Na=hc.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function Eq(t,e,n=!0){return p(this,null,function*(){let r=rR(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield ZA(r,e,n,!0),i})}function Tq(t,e){return p(this,null,function*(){let n=rR(t);yield ZA(n,e,!0,!1)})}function ZA(t,e,n,r){return p(this,null,function*(){let i=yield iq(t.localStore,yn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield Dq(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GA(t.remoteStore,i),a})}function Dq(t,e,n,r,i){return p(this,null,function*(){t.Ba=(d,h,f)=>function(y,m,_,j){return p(this,null,function*(){let q=m.view.da(_);q.Zi&&(q=yield rA(y.localStore,m.query,!1).then(({documents:Ne})=>m.view.da(Ne,q)));let B=j&&j.targetChanges.get(m.targetId),ve=j&&j.targetMismatches.get(m.targetId)!=null,ne=m.view.applyChanges(q,y.isPrimaryClient,B,ve);return aA(y,m.targetId,ne.fa),ne.snapshot})}(t,d,h,f);let s=yield rA(t.localStore,e,!0),o=new K_(e,s.ls),a=o.da(s.documents),c=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);aA(t,n,u.fa);let l=new Q_(e,n,o);return t.ba.set(e,l),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function bq(t,e,n){return p(this,null,function*(){let r=L(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ih(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield P_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vI(r.remoteStore,i.targetId),Z_(r,i.targetId)}).catch(vc))):(Z_(r,i.targetId),yield P_(r.localStore,i.targetId,!0))})}function Cq(t,e){return p(this,null,function*(){let n=L(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vI(n.remoteStore,r.targetId))})}function Sq(t,e,n){return p(this,null,function*(){let r=Oq(t);try{let i=yield function(o,a){let c=L(o),u=Be.now(),l=a.reduce((f,g)=>f.add(g.key),Y()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Qn(),y=Y();return c.ss.getEntries(f,l).next(m=>{g=m,g.forEach((_,j)=>{j.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(m=>{d=m;let _=[];for(let j of a){let q=M$(j,d.get(j.key).overlayedDocument);q!=null&&_.push(new Yn(j.key,q,yA(q.value.mapValue),Ei.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,_,a)}).next(m=>{h=m;let _=m.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(f,m.batchId,_)})}).then(()=>({batchId:h.batchId,changes:CA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new ye(re)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield wc(r,i.changes),yield Dh(r.remoteStore)}catch(i){let s=EI(i,"Failed to persist write");n.reject(s)}})}function XA(t,e){return p(this,null,function*(){let n=L(t);try{let r=yield tq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?ue(o.wa):i.removedDocuments.size>0&&(ue(o.wa),o.wa=!1))}),yield wc(n,r,e)}catch(r){yield vc(r)}})}function oA(t,e,n){let r=L(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=L(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&TI(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Aq(t,e,n){return p(this,null,function*(){let r=L(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new ye(x.comparator);o=o.insert(s,Gt.newNoDocument(s,U.min()));let a=Y().add(s),c=new Jd(U.min(),new Map,new ye(re),o,a);yield XA(r,c),r.va=r.va.remove(s),r.Fa.delete(e),DI(r)}else yield P_(r.localStore,e,!1).then(()=>Z_(r,e,n)).catch(vc)})}function Rq(t,e){return p(this,null,function*(){let n=L(t),r=e.batch.batchId;try{let i=yield eq(n.localStore,e);tR(n,r,null),eR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(n,i)}catch(i){yield vc(i)}})}function Nq(t,e,n){return p(this,null,function*(){let r=L(t);try{let i=yield function(o,a){let c=L(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ue(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);tR(r,e,n),eR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield wc(r,i)}catch(i){yield vc(i)}})}function eR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function tR(t,e,n){let r=L(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Z_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||nR(t,r)})}function nR(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(vI(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),DI(t))}function aA(t,e,n){for(let r of n)r instanceof lh?(t.Ma.addReference(r.key,e),xq(t,r)):r instanceof dh?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||nR(t,r.key)):P()}function xq(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(C("SyncEngine","New document in limbo: "+n),t.Ca.add(r),DI(t))}function DI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new x(me.fromString(e)),r=t.Na.next();t.Fa.set(r,new Y_(n)),t.va=t.va.insert(n,r),GA(t.remoteStore,new dc(yn(mI(n.path)),r,"TargetPurposeLimboResolution",pA.oe))}}function wc(t,e,n){return p(this,null,function*(){let r=L(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=R_.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return p(this,null,function*(){let l=L(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!_c(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,y)}}})}(r.localStore,s))})}function Mq(t,e){return p(this,null,function*(){let n=L(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());let r=yield HA(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new R(v.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(n,r._s)}})}function Pq(t,e){let n=L(t),r=n.Fa.get(e);if(r&&r.wa)return Y().add(r.key);{let i=Y(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function rR(t){let e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aq.bind(null,e),e.Sa.l_=Iq.bind(null,e.eventManager),e.Sa.ka=wq.bind(null,e.eventManager),e}function Oq(t){let e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nq.bind(null,e),e}var hh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return X$(this.persistence,new x_,e.initialUser,this.serializer)}createPersistence(e){return new C_(A_.jr,this.serializer)}createSharedClientState(e){return new O_}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var X_=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mq.bind(null,this.syncEngine),yield yq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new z_}()}createDatastore(e){let n=Eh(e.databaseInfo.databaseId),r=function(s){return new L_(s)}(e.databaseInfo);return function(s,o,a,c){return new j_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oA(this.syncEngine,n,0),function(){return ih.D()?new ih:new k_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new J_(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=L(r);C("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ic(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var eI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var tI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){C("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(C("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=EI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Nv(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield HA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function cA(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Fq(t);C("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iA(e.remoteStore,i)),t._onlineComponents=e})}function kq(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Fq(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!kq(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),yield Nv(t,new hh)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Nv(t,new hh);return t._offlineComponents})}function iR(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield cA(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield cA(t,new X_))),t._onlineComponents})}function Lq(t){return iR(t).then(e=>e.syncEngine)}function uA(t){return p(this,null,function*(){let e=yield iR(t),n=e.eventManager;return n.onListen=Eq.bind(null,e.syncEngine),n.onUnlisten=bq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cq.bind(null,e.syncEngine),n})}function sR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var lA=new Map;function oR(t,e,n){if(!n)throw new R(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vq(t,e,n,r){if(e===!0&&r===!0)throw new R(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dA(t){if(!x.isDocumentKey(t))throw new R(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hA(t){if(x.isDocumentKey(t))throw new R(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function oc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=bI(t);throw new R(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var fh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new R(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new R(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new R(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new R(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new R(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},so=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xv;switch(r.type){case"firstParty":return new kv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new R(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=lA.get(n);r&&(C("ComponentProvider","Removing Datastore"),lA.delete(n),r.terminate())}(this),Promise.resolve()}};function aR(t,e,n,r={}){var i;let s=(t=oc(t,so))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Fe.MOCK_USER;else{a=Yb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new R(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fe(u)}t._authCredentials=new Mv(new qd(a,c))}}var ph=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pr=class t extends ph{constructor(e,n,r){super(e,n,mI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function cR(t,e,...n){if(t=rt(t),oR("collection","path",e),t instanceof so){let r=me.fromString(e,...n);return hA(r),new Pr(t,null,r)}{if(!(t instanceof Nt||t instanceof Pr))throw new R(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(me.fromString(e,...n));return hA(r),new Pr(t.firestore,null,r)}}function uR(t,e,...n){if(t=rt(t),arguments.length===1&&(e=Hd.newId()),oR("doc","path",e),t instanceof so){let r=me.fromString(e,...n);return dA(r),new Nt(t,null,new x(r))}{if(!(t instanceof Nt||t instanceof Pr))throw new R(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(me.fromString(e,...n));return dA(r),new Nt(t.firestore,t instanceof Pr?t.converter:null,new x(r))}}var nI=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new sh(this,"async_queue_retry"),this.hu=()=>{let n=Rv();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=Rv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Gn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return p(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!_c(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=q_.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&P()}verifyOperationInProgress(){}du(){return p(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function fA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var oo=class extends so{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new nI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hR(this),this._firestoreClient.terminate()}};function lR(t,e){let n=typeof t=="object"?t:Ns(),r=typeof t=="string"?t:e||"(default)",i=Ia(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Qb("firestore");s&&aR(i,...s)}return i}function dR(t){return t._firestoreClient||hR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new jv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,sR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new tI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var pc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new R(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var mc=class{constructor(e){this._methodName=e}};var yc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var Uq=/^__.*__$/,rI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ri(e,this.data,n,this.fieldTransforms)}};function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}var iI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return gh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(fR(this.fu)&&Uq.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},sI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Eh(e)}Fu(e,n,r,i=!1){return new iI({fu:e,methodName:n,vu:r,path:_t.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function jq(t){let e=t._freezeSettings(),n=Eh(t._databaseId);return new sI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bq(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);yR("Data must be an object, but it was:",o,r);let a=gR(r,o),c,u;if(s.merge)c=new gn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=$q(e,d,n);if(!o.contains(h))throw new R(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Hq(l,h)||l.push(h)}c=new gn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new rI(new zt(a),c,u)}var oI=class t extends mc{_toFieldTransform(e){return new e_(e.path,new Ci)}isEqual(e){return e instanceof t}};function pR(t,e){if(mR(t=rt(t)))return yR("Unsupported field value:",e,t),gR(t,e);if(t instanceof mc)return function(r,i){if(!fR(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=pR(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Be.fromDate(r);return{timestampValue:th(i.serializer,s)}}if(r instanceof Be){let s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(i.serializer,s)}}if(r instanceof yc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pc)return{bytesValue:LA(i.serializer,r._byteString)};if(r instanceof Nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${bI(r)}`)}(t,e)}function gR(t,e){let n={};return gA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{let s=pR(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof yc||t instanceof pc||t instanceof Nt||t instanceof mc)}function yR(t,e,n){if(!mR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=bI(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function $q(t,e,n){if((e=rt(e))instanceof gc)return e._internalPath;if(typeof e=="string")return vR(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}var qq=new RegExp("[~\\*/\\[\\]]");function vR(t,e,n){if(e.search(qq)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gc(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new R(v.INVALID_ARGUMENT,a+t+c)}function Hq(t,e){return t.some(n=>n.isEqual(e))}var mh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new aI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(_R("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},aI=class extends mh{data(){return super.data()}};function _R(t,e){return typeof e=="string"?vR(t,e):e instanceof gc?e._internalPath:e._delegate._internalPath}function zq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new R(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cI=class{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new yc(ge(e.latitude),ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=hI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){let n=Kn(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=me.fromString(e);ue(qA(r));let i=new Kd(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Gq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var wi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yh=class extends mh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(_R("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ws=class extends yh{data(e={}){return super.data(e)}},uI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ws(this._firestore,this._userDataWriter,r.key,r,new wi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:Wq(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Wq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}var vh=class extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}};function IR(t,e){let n=oc(t.firestore,oo),r=uR(t),i=Gq(t.converter,e);return Kq(n,[Bq(jq(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then(()=>r)}function CI(t,...e){var n,r,i;t=rt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||fA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fA(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Nt)u=oc(t.firestore,oo),l=mI(t._key.path),c={next:d=>{e[o]&&e[o](Qq(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=oc(t,ph);u=oc(d.firestore,oo),l=d._query;let h=new vh(u);c={next:f=>{e[o]&&e[o](new uI(u,h,d,f))},error:e[o+1],complete:e[o+2]},zq(t._query)}return function(h,f,g,y){let m=new eI(y),_=new W_(f,m,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return vq(yield uA(h),_)})),()=>{m.$a(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return _q(yield uA(h),_)}))}}(dR(u),l,a,c)}function Kq(t,e){return function(r,i){let s=new Gn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return Sq(yield Lq(r),i,s)})),s.promise}(dR(t),e)}function Qq(t,e,n){let r=n.docs.get(e._key),i=new vh(t);return new yh(t,i,e._key,r,new wi(n.hasPendingWrites,n.fromCache),e.converter)}function wR(){return new oI("serverTimestamp")}(function(e,n=!0){(function(i){ao=i})(Sr),Cr(new At("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new oo(new Pv(r.getProvider("auth-internal")),new Lv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new R(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ae(VS,"4.6.1",e),Ae(VS,"4.6.1","esm2017")})();var bh=function(){return bh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bh.apply(this,arguments)};var Zq={includeMetadataChanges:!1};function ER(t,e){return e===void 0&&(e=Zq),new G(function(n){var r=CI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function TR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:bh(bh({},r),(n={},n[e.idField]=t.id,n))}function DR(t){return ER(t,{includeMetadataChanges:!0}).pipe(V(function(e){return e.docs}))}function bR(t,e){return e===void 0&&(e={}),DR(t).pipe(V(function(n){return n.map(function(r){return TR(r,e)})}))}var xi=class{constructor(e){return e}},CR="firestore",SI=class{constructor(){return wa(CR)}};var AI=new A("angularfire2.firestore-instances");function Xq(t,e){let n=$l(CR,t,e);return n&&new xi(n)}function eH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xi(r)}}var tH={provide:SI,deps:[[new Ve,AI]]},nH={provide:xi,useFactory:Xq,deps:[[new Ve,AI],Vn]},rH=(()=>{class t{constructor(){Ae("angularfire",ci.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tt({type:t});static \u0275inj=et({providers:[nH,tH]})}return t})();function uQ(t,...e){return{ngModule:rH,providers:[{provide:AI,useFactory:eH(t),multi:!0,deps:[Z,Me,Ps,ui,[new Ve,Na],[new Ve,Ms],...e]}]}}var lQ=yt(bR,!0);var Ch=yt(IR,!0);var Sh=yt(cR,!0);var dQ=yt(lR,!0);var hQ=yt(wR,!0);var gQ=(()=>{let e=class e{getUser(){return this.user}setUser(r,i){this.user.email=r,this.user.acceptedTerms=i}constructor(r){this.auth=r,this.user={email:"",acceptedTerms:!1}}obtenerUserRegistrado(){let r=this.auth.currentUser;return r?Promise.resolve(r):Promise.resolve(null)}registerUser(r,i){return fC(this.auth,r,i)}loginUser(r,i){return gC(this.auth,r,i)}resetPassword(r){return pC(this.auth,r)}logout(){return this.auth.signOut()}getUserLogged(){return this.auth.currentUser}getUserEmail(){let r=this.auth.currentUser;return r?r.email:null}};e.\u0275fac=function(i){return new(i||e)(D(fi))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vQ=(()=>{let e=class e{constructor(r){this.firestore=r}logRegisterUser(r){let i=Sh(this.firestore,"logRegister");return Ch(i,r)}registerResultado(r,i){let s=Sh(this.firestore,r);return Ch(s,i)}registrarEncuesta(r){let i=Sh(this.firestore,"encuestas");return Ch(i,r)}};e.\u0275fac=function(i){return new(i||e)(D(xi))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var IQ=(()=>{let e=class e{constructor(r){this.toastr=r}showSuccess(r,i,s){s?this.toastr.success(r,i,s):this.toastr.success(r,i,{timeOut:2e3})}showError(r,i,s){s?this.toastr.error(r,i,s):this.toastr.error(r,i,{timeOut:2e3,positionClass:"toast-top-center"})}showInfo(r,i,s){s?this.toastr.info(r,i,s):this.toastr.info(r,i,{timeOut:2e3,positionClass:"toast-bottom-right"})}showWarning(r,i,s){s?this.toastr.warning(r,i,s):this.toastr.warning(r,i,{timeOut:2e3,positionClass:"toast-bottom-left"})}};e.\u0275fac=function(i){return new(i||e)(D(yl))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{T as a,oe as b,sH as c,PR as d,oH as e,aH as f,p as g,he as h,V as i,sN as j,S as k,Zw as l,b as m,et as n,A as o,D as p,I as q,wt as r,Mo as s,tt as t,Sn as u,HN as v,Po as w,xp as x,Mp as y,M9 as z,P9 as A,Lp as B,pr as C,Ot as D,O9 as E,wM as F,Ce as G,ce as H,_u as I,Co as J,ds as K,hs as L,Z as M,vO as N,ur as O,He as P,jO as Q,V9 as R,U9 as S,j9 as T,B9 as U,ht as V,Bt as W,mr as X,ug as Y,yr as Z,ft as _,ak as $,Mn as aa,uk as ba,Pn as ca,lk as da,$9 as ea,dk as fa,q9 as ga,Lo as ha,H9 as ia,z9 as ja,Vo as ka,jo as la,Bo as ma,ps as na,Te as oa,ms as pa,g6 as qa,m6 as ra,Eg as sa,y6 as ta,Bk as ua,Zk as va,p1 as wa,R6 as xa,BD as ya,W6 as za,AF as Aa,Fn as Ba,M5 as Ca,P5 as Da,O5 as Ea,w8 as Fa,E8 as Ga,gK as Ha,mK as Ia,wR as Ja,xi as Ka,uQ as La,lQ as Ma,Ch as Na,Sh as Oa,dQ as Pa,hQ as Qa,gQ as Ra,ti as Sa,Q6 as Ta,Y6 as Ua,gl as Va,YD as Wa,JD as Xa,J6 as Ya,yl as Za,Z1 as _a,l5 as $a,vQ as ab,IQ as bb};
