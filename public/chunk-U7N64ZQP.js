var PS=Object.defineProperty,OS=Object.defineProperties;var kS=Object.getOwnPropertyDescriptors;var Xa=Object.getOwnPropertySymbols,FS=Object.getPrototypeOf,f_=Object.prototype.hasOwnProperty,p_=Object.prototype.propertyIsEnumerable,LS=Reflect.get;var h_=(t,e,n)=>e in t?PS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})f_.call(e,n)&&h_(t,n,e[n]);if(Xa)for(var n of Xa(e))p_.call(e,n)&&h_(t,n,e[n]);return t},te=(t,e)=>OS(t,kS(e));var VS=(t,e)=>{var n={};for(var r in t)f_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xa)for(var r of Xa(t))e.indexOf(r)<0&&p_.call(t,r)&&(n[r]=t[r]);return n};var jn=(t,e,n)=>LS(FS(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var g_=null;var Ud=1,m_=Symbol("SIGNAL");function G(t){let e=g_;return g_=t,e}var y_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function US(t){if(!($d(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ud)){if(!t.producerMustRecompute(t)&&!jd(t)){t.dirty=!1,t.lastCleanEpoch=Ud;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ud}}function v_(t){return t&&(t.nextProducerIndex=0),G(t)}function __(t,e){if(G(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($d(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jd(t){ec(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(US(n),r!==n.version))return!0}return!1}function I_(t){if(ec(t),$d(t))for(let e=0;e<t.producerNode.length;e++)Bd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bd(t,e){if(jS(t),ec(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Bd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ec(i),i.producerIndexOfThis[r]=e}}function $d(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ec(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function jS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function BS(){throw new Error}var $S=BS;function w_(t){$S=t}function O(t){return typeof t=="function"}function Ei(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tc=Ei(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var de=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof tc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{E_(s)}catch(o){e=e??[],o instanceof tc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new tc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)E_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xr(n,e)}remove(e){let{_finalizers:n}=this;n&&xr(n,e),e instanceof t&&e._removeParent(this)}};de.EMPTY=(()=>{let t=new de;return t.closed=!0,t})();var qd=de.EMPTY;function nc(t){return t instanceof de||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function E_(t){O(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ti={setTimeout(t,e,...n){let{delegate:r}=Ti;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ti;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rc(t){Ti.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function Ks(){}var T_=Hd("C",void 0,void 0);function D_(t){return Hd("E",void 0,t)}function b_(t){return Hd("N",t,void 0)}function Hd(t,e,n){return{kind:t,value:e,error:n}}var Mr=null;function Di(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!Mr;if(e&&(Mr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Mr;if(Mr=null,n)throw r}}else t()}function C_(t){At.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=t)}var Pr=class extends de{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nc(e)&&e.add(this)):this.destination=zS}static create(e,n,r){return new bi(e,n,r)}next(e){this.isStopped?Gd(b_(e),this):this._next(e)}error(e){this.isStopped?Gd(D_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gd(T_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qS=Function.prototype.bind;function zd(t,e){return qS.call(t,e)}var Wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ic(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ic(r)}else ic(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ic(n)}}},bi=class extends Pr{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&At.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zd(e.next,s),error:e.error&&zd(e.error,s),complete:e.complete&&zd(e.complete,s)}):i=e}this.destination=new Wd(i)}};function ic(t){At.useDeprecatedSynchronousErrorHandling?C_(t):rc(t)}function HS(t){throw t}function Gd(t,e){let{onStoppedNotification:n}=At;n&&Ti.setTimeout(()=>n(t,e))}var zS={closed:!0,next:Ks,error:HS,complete:Ks};var Ci=typeof Symbol=="function"&&Symbol.observable||"@@observable";function at(t){return t}function Kd(...t){return Qd(t)}function Qd(t){return t.length===0?at:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var B=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=WS(n)?n:new bi(n,r,i);return Di(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=S_(r),new r((i,s)=>{let o=new bi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ci](){return this}pipe(...n){return Qd(n)(this)}toPromise(n){return n=S_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function S_(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function GS(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function WS(t){return t&&t instanceof Pr||GS(t)&&nc(t)}function Yd(t){return O(t?.lift)}function K(t){return e=>{if(Yd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(t,e,n,r,i){return new Jd(t,e,n,r,i)}var Jd=class extends Pr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Si(){return K((t,e)=>{let n=null;t._refCount++;let r=$(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ai=class extends B{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new de;let n=this.getSubject();e.add(this.source.subscribe($(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=de.EMPTY)}return e}refCount(){return Si()(this)}};var A_=Ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class t extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A_}next(n){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qd:(this.currentObservers=null,s.push(n),new de(()=>{this.currentObservers=null,xr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return t.create=(e,n)=>new sc(e,n),t})(),sc=class extends oe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qd}};var Me=class extends oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zd={now(){return(Zd.delegate||Date).now()},delegate:void 0};var oc=class extends de{constructor(e,n){super()}schedule(e,n=0){return this}};var Qs={setInterval(t,e,...n){let{delegate:r}=Qs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ri=class extends oc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ni=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ni.now=Zd.now;var xi=class extends Ni{constructor(e,n=Ni.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xd=new xi(Ri);var ac=class extends Ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var cc=class extends xi{};var eh=new cc(ac);var ct=new B(t=>t.complete());function R_(t){return t&&O(t.schedule)}function N_(t){return t[t.length-1]}function uc(t){return O(N_(t))?t.pop():void 0}function Bn(t){return R_(N_(t))?t.pop():void 0}function th(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function M_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function x_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(t){return this instanceof Or?(this.v=t,this):new Or(t)}function P_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(g,I){s.push([h,p,g,I])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Or?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function O_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof x_=="function"?x_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var lc=t=>t&&typeof t.length=="number"&&typeof t!="function";function dc(t){return O(t?.then)}function hc(t){return O(t[Ci])}function fc(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function pc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gc=KS();function mc(t){return O(t?.[gc])}function yc(t){return P_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function vc(t){return O(t?.getReader)}function pe(t){if(t instanceof B)return t;if(t!=null){if(hc(t))return QS(t);if(lc(t))return YS(t);if(dc(t))return JS(t);if(fc(t))return k_(t);if(mc(t))return ZS(t);if(vc(t))return XS(t)}throw pc(t)}function QS(t){return new B(e=>{let n=t[Ci]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YS(t){return new B(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function JS(t){return new B(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rc)})}function ZS(t){return new B(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function k_(t){return new B(e=>{eA(t,e).catch(n=>e.error(n))})}function XS(t){return k_(yc(t))}function eA(t,e){var n,r,i,s;return M_(this,void 0,void 0,function*(){try{for(n=O_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function $n(t,e=0){return K((n,r)=>{n.subscribe($(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function qn(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function F_(t,e){return pe(t).pipe(qn(e),$n(e))}function L_(t,e){return pe(t).pipe(qn(e),$n(e))}function V_(t,e){return new B(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function U_(t,e){return new B(n=>{let r;return tt(n,e,()=>{r=t[gc](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function _c(t,e){if(!t)throw new Error("Iterable cannot be null");return new B(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function j_(t,e){return _c(yc(t),e)}function B_(t,e){if(t!=null){if(hc(t))return F_(t,e);if(lc(t))return V_(t,e);if(dc(t))return L_(t,e);if(fc(t))return _c(t,e);if(mc(t))return U_(t,e);if(vc(t))return j_(t,e)}throw pc(t)}function ce(t,e){return e?B_(t,e):pe(t)}function N(...t){let e=Bn(t);return ce(t,e)}function Mi(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new B(e?i=>e.schedule(r,0,i):r)}function nh(t){return!!t&&(t instanceof B||O(t.lift)&&O(t.subscribe))}var fn=Ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F(t,e){return K((n,r)=>{let i=0;n.subscribe($(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:tA}=Array;function nA(t,e){return tA(e)?t(...e):t(e)}function Ic(t){return F(e=>nA(t,e))}var{isArray:rA}=Array,{getPrototypeOf:iA,prototype:sA,keys:oA}=Object;function wc(t){if(t.length===1){let e=t[0];if(rA(e))return{args:e,keys:null};if(aA(e)){let n=oA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aA(t){return t&&typeof t=="object"&&iA(t)===sA}function Ec(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ys(...t){let e=Bn(t),n=uc(t),{args:r,keys:i}=wc(t);if(r.length===0)return ce([],e);let s=new B(cA(r,e,i?o=>Ec(i,o):at));return n?s.pipe(Ic(n)):s}function cA(t,e,n=at){return r=>{$_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)$_(e,()=>{let u=ce(t[c],e),l=!1;u.subscribe($(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function $_(t,e,n){t?tt(n,t,e):e()}function q_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=I=>u<r?g(I):c.push(I),g=I=>{s&&e.next(I),u++;let y=!1;pe(n(I,l++)).subscribe($(e,E=>{i?.(E),s?p(E):e.next(E)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let E=c.shift();o?tt(e,o,()=>g(E)):g(E)}h()}catch(E){e.error(E)}}))};return t.subscribe($(e,p,()=>{d=!0,h()})),()=>{a?.()}}function ge(t,e,n=1/0){return O(e)?ge((r,i)=>F((s,o)=>e(r,s,i,o))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>q_(r,i,t,n)))}function Pi(t=1/0){return ge(at,t)}function H_(){return Pi(1)}function Oi(...t){return H_()(ce(t,Bn(t)))}function Tc(t){return new B(e=>{pe(t()).subscribe(e)})}function uA(...t){let e=uc(t),{args:n,keys:r}=wc(t),i=new B(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;pe(n[l]).subscribe($(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Ec(r,a):a),s.complete())}))}});return e?i.pipe(Ic(e)):i}function nt(t,e){return K((n,r)=>{let i=0;n.subscribe($(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hn(t){return K((e,n)=>{let r=null,i=!1,s;r=e.subscribe($(n,void 0,void 0,o=>{s=pe(t(o,Hn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function z_(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe($(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function pn(t,e){return O(e)?ge(t,e,1):ge(t,1)}function zn(t){return K((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gn(t){return t<=0?()=>ct:K((e,n)=>{let r=0;e.subscribe($(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rh(t){return F(()=>t)}function Dc(t=lA){return K((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lA(){return new fn}function Gn(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $t(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nt((i,s)=>t(i,s,r)):at,gn(1),n?zn(e):Dc(()=>new fn))}function ki(t){return t<=0?()=>ct:K((e,n)=>{let r=[];e.subscribe($(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ih(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nt((i,s)=>t(i,s,r)):at,ki(1),n?zn(e):Dc(()=>new fn))}function sh(t,e){return K(z_(t,e,arguments.length>=2,!0))}function oh(...t){let e=Bn(t);return K((n,r)=>{(e?Oi(t,n,e):Oi(t,n)).subscribe(r)})}function rt(t,e){return K((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe($(r,c=>{i?.unsubscribe();let u=0,l=s++;pe(t(c,l)).subscribe(i=$(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ah(t){return K((e,n)=>{pe(t).subscribe($(n,()=>n.complete(),Ks)),!n.closed&&e.subscribe(n)})}function me(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe($(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):at}var MI="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(tu(e,n)),this.code=e}};function tu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function fo(t){return{toString:t}.toString()}var bc="__parameters__";function dA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function PI(t,e,n){return fo(()=>{let r=dA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(bc)?c[bc]:Object.defineProperty(c,bc,{value:[]})[bc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mn=globalThis;function ne(t){for(let e in t)if(t[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function hA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function We(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Dh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var fA=ne({__forward_ref__:ne});function OI(t){return t.__forward_ref__=OI,t.toString=function(){return We(this())},t}function Ge(t){return kI(t)?t():t}function kI(t){return typeof t=="function"&&t.hasOwnProperty(fA)&&t.__forward_ref__===OI}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ye(t){return{providers:t.providers||[],imports:t.imports||[]}}function nu(t){return G_(t,LI)||G_(t,VI)}function FI(t){return nu(t)!==null}function G_(t,e){return t.hasOwnProperty(e)?t[e]:null}function pA(t){let e=t&&(t[LI]||t[VI]);return e||null}function W_(t){return t&&(t.hasOwnProperty(K_)||t.hasOwnProperty(gA))?t[K_]:null}var LI=ne({\u0275prov:ne}),K_=ne({\u0275inj:ne}),VI=ne({ngInjectableDef:ne}),gA=ne({ngInjectorDef:ne}),C=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UI(t){return t&&!!t.\u0275providers}var mA=ne({\u0275cmp:ne}),yA=ne({\u0275dir:ne}),vA=ne({\u0275pipe:ne}),_A=ne({\u0275mod:ne}),Fc=ne({\u0275fac:ne}),Js=ne({__NG_ELEMENT_ID__:ne}),Q_=ne({__NG_ENV_ID__:ne});function po(t){return typeof t=="string"?t:t==null?"":String(t)}function IA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():po(t)}function wA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Cf(t,e){throw new A(-201,!1)}var U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{}),bh;function jI(){return bh}function vt(t){let e=bh;return bh=t,e}function BI(t,e,n){let r=nu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&U.Optional)return null;if(e!==void 0)return e;Cf(t,"Injector")}var EA={},Zs=EA,Ch="__NG_DI_FLAG__",Lc="ngTempTokenPath",TA="ngTokenPath",DA=/\n/gm,bA="\u0275",Y_="__source",ji;function CA(){return ji}function Wn(t){let e=ji;return ji=t,e}function SA(t,e=U.Default){if(ji===void 0)throw new A(-203,!1);return ji===null?BI(t,void 0,e):ji.get(t,e&U.Optional?null:void 0,e)}function D(t,e=U.Default){return(jI()||SA)(Ge(t),e)}function v(t,e=U.Default){return D(t,ru(e))}function ru(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ge(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=U.Default;for(let o=0;o<r.length;o++){let a=r[o],c=AA(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(D(i,s))}else e.push(D(r))}return e}function $I(t,e){return t[Ch]=e,t.prototype[Ch]=e,t}function AA(t){return t[Ch]}function RA(t,e,n,r){let i=t[Lc];throw e[Y_]&&i.unshift(e[Y_]),t.message=NA(`
`+t.message,i,n,r),t[TA]=i,t[Lc]=null,t}function NA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==bA?t.slice(2):t;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):We(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(DA,`
  `)}`}var Ve=$I(PI("Optional"),8);var Sf=$I(PI("SkipSelf"),4);function $i(t,e){let n=t.hasOwnProperty(Fc);return n?t[Fc]:null}function Af(t,e){t.forEach(n=>Array.isArray(n)?Af(n,e):e(n))}function qI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Rf(t,e,n){let r=go(t,e);return r>=0?t[r|1]=n:(r=~r,xA(t,r,e,n)),r}function ch(t,e){let n=go(t,e);if(n>=0)return t[n|1]}function go(t,e){return MA(t,e,1)}function MA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var qi={},it=[],Hi=new C(""),HI=new C("",-1),zI=new C(""),Uc=class{get(e,n=Zs){if(n===Zs){let r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return n}},GI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(GI||{}),zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zt||{}),_t=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_t||{});function PA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ah(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];OA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function WI(t){return t===3||t===4||t===6}function OA(t){return t.charCodeAt(0)===64}function Xs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?J_(t,n,i,null,e[++r]):J_(t,n,i,null,null))}}return t}function J_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var KI="ng-template";function kA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Nf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Nf(t){return t.type===4&&t.value!==KI}function FA(t,e,n){let r=t.type===4&&!n?KI:t.value;return e===r}function LA(t,e,n){let r=4,i=t.attrs,s=i!==null?jA(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Rt(r)&&!Rt(c))return!1;if(o&&Rt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!FA(t,c,n)||c===""&&e.length===1){if(Rt(r))return!1;o=!0}}else if(r&8){if(i===null||!kA(t,i,c,n)){if(Rt(r))return!1;o=!0}}else{let u=e[++a],l=VA(c,i,Nf(t),n);if(l===-1){if(Rt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Rt(r))return!1;o=!0}}}}return Rt(r)||o}function Rt(t){return(t&1)===0}function VA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return BA(e,t)}function UA(t,e,n=!1){for(let r=0;r<e.length;r++)if(LA(t,e[r],n))return!0;return!1}function jA(t){for(let e=0;e<t.length;e++){let n=t[e];if(WI(n))return e}return t.length}function BA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Z_(t,e){return t?":not("+e.trim()+")":e}function $A(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Rt(o)&&(e+=Z_(s,i),i=""),r=o,s=s||!Rt(r);n++}return i!==""&&(e+=Z_(s,i)),e}function qA(t){return t.map($A).join(",")}function HA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Rt(i))break;i=s}r++}return{attrs:e,classes:n}}function mo(t){return fo(()=>{let e=XI(t),n=te(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===GI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zt.Emulated,styles:t.styles||it,_:null,schemas:t.schemas||null,tView:null,id:""});ew(n);let r=t.dependencies;return n.directiveDefs=eI(r,!1),n.pipeDefs=eI(r,!0),n.id=WA(n),n})}function zA(t){return Qn(t)||QI(t)}function GA(t){return t!==null}function Je(t){return fo(()=>({type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function X_(t,e){if(t==null)return qi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=_t.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==_t.None?[r,a]:r,e[s]=o):n[s]=r}return n}function er(t){return fo(()=>{let e=XI(t);return ew(e),e})}function Qn(t){return t[mA]||null}function QI(t){return t[yA]||null}function YI(t){return t[vA]||null}function JI(t){let e=Qn(t)||QI(t)||YI(t);return e!==null?e.standalone:!1}function ZI(t,e){let n=t[_A]||null;if(!n&&e===!0)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return n}function XI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X_(t.inputs,e),outputs:X_(t.outputs),debugInfo:null}}function ew(t){t.features?.forEach(e=>e(t))}function eI(t,e){if(!t)return null;let n=e?YI:zA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(GA)}function WA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tr(t){return{\u0275providers:t}}function KA(...t){return{\u0275providers:tw(!0,t),\u0275fromNgModule:!0}}function tw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Af(e,o=>{let a=o;Rh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nw(i,s),n}function nw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xf(i,s=>{e(s,r)})}}function Rh(t,e,n,r){if(t=Ge(t),!t)return!1;let i=null,s=W_(t),o=!s&&Qn(t);if(!s&&!o){let c=t.ngModule;if(s=W_(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Rh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Af(s.imports,l=>{Rh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&nw(u,e)}if(!a){let u=$i(i)||(()=>new i);e({provide:i,useFactory:u,deps:it},i),e({provide:zI,useValue:i,multi:!0},i),e({provide:Hi,useValue:()=>D(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;xf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function xf(t,e){for(let n of t)UI(n)&&(n=n.\u0275providers),Array.isArray(n)?xf(n,e):e(n)}var QA=ne({provide:String,useValue:ne});function rw(t){return t!==null&&typeof t=="object"&&QA in t}function YA(t){return!!(t&&t.useExisting)}function JA(t){return!!(t&&t.useFactory)}function zi(t){return typeof t=="function"}function ZA(t){return!!t.useClass}var iu=new C(""),xc={},XA={},uh;function Mf(){return uh===void 0&&(uh=new Uc),uh}var Qe=class{},eo=class extends Qe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xh(e,o=>this.processProvider(o)),this.records.set(HI,Fi(void 0,this)),i.has("environment")&&this.records.set(Qe,Fi(void 0,this));let s=this.records.get(iu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zI,it,U.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Wn(this),r=vt(void 0),i;try{return e()}finally{Wn(n),vt(r)}}get(e,n=Zs,r=U.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Q_))return e[Q_](this);r=ru(r);let i,s=Wn(this),o=vt(void 0);try{if(!(r&U.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=iR(e)&&nu(e);u&&this.injectableDefInScope(u)?c=Fi(Nh(e),xc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&U.Self?Mf():this.parent;return n=r&U.Optional&&n===Zs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Lc]=a[Lc]||[]).unshift(We(e)),s)throw a;return RA(a,e,"R3InjectorError",this.source)}else throw a}finally{vt(o),Wn(s)}}resolveInjectorInitializers(){let e=G(null),n=Wn(this),r=vt(void 0),i;try{let s=this.get(Hi,it,U.Self);for(let o of s)o()}finally{Wn(n),vt(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=Ge(e);let n=zi(e)?e:Ge(e&&e.provide),r=tR(e);if(!zi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fi(void 0,xc,!0),i.factory=()=>Sh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=G(null);try{return n.value===xc&&(n.value=XA,n.value=n.factory()),typeof n.value=="object"&&n.value&&rR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ge(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Nh(t){let e=nu(t),n=e!==null?e.factory:$i(t);if(n!==null)return n;if(t instanceof C)throw new A(204,!1);if(t instanceof Function)return eR(t);throw new A(204,!1)}function eR(t){if(t.length>0)throw new A(204,!1);let n=pA(t);return n!==null?()=>n.factory(t):()=>new t}function tR(t){if(rw(t))return Fi(void 0,t.useValue);{let e=iw(t);return Fi(e,xc)}}function iw(t,e,n){let r;if(zi(t)){let i=Ge(t);return $i(i)||Nh(i)}else if(rw(t))r=()=>Ge(t.useValue);else if(JA(t))r=()=>t.useFactory(...Sh(t.deps||[]));else if(YA(t))r=()=>D(Ge(t.useExisting));else{let i=Ge(t&&(t.useClass||t.provide));if(nR(t))r=()=>new i(...Sh(t.deps));else return $i(i)||Nh(i)}return r}function Fi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function nR(t){return!!t.deps}function rR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function iR(t){return typeof t=="function"||typeof t=="object"&&t instanceof C}function xh(t,e){for(let n of t)Array.isArray(n)?xh(n,e):n&&UI(n)?xh(n.\u0275providers,e):e(n)}function kt(t,e){t instanceof eo&&t.assertNotDestroyed();let n,r=Wn(t),i=vt(void 0);try{return e()}finally{Wn(r),vt(i)}}function sw(){return jI()!==void 0||CA()!=null}function sR(t){if(!sw())throw new A(-203,!1)}function oR(t){return typeof t=="function"}var Qt=0,L=1,M=2,Le=3,Mt=4,Ft=5,to=6,no=7,Fe=8,Gi=9,Pt=10,he=11,ro=12,tI=13,Zi=14,Ot=15,su=16,Li=17,Wi=18,ou=19,ow=20,Kn=21,lh=22,Lr=23,It=25,Pf=1;var Vr=7,jc=8,Bc=9,Ke=10,Of=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Of||{});function kr(t){return Array.isArray(t)&&typeof t[Pf]=="object"}function _n(t){return Array.isArray(t)&&t[Pf]===!0}function kf(t){return(t.flags&4)!==0}function au(t){return t.componentOffset>-1}function cu(t){return(t.flags&1)===1}function yn(t){return!!t.template}function aR(t){return(t[M]&512)!==0}var Mh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function aw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function yo(){return cw}function cw(t){return t.type.prototype.ngOnChanges&&(t.setInput=uR),cR}yo.ngInherit=!0;function cR(){let t=lw(this),e=t?.current;if(e){let n=t.previous;if(n===qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function uR(t,e,n,r,i){let s=this.declaredInputs[r],o=lw(t)||lR(t,{previous:qi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Mh(u&&u.currentValue,n,c===qi),aw(t,e,i,n)}var uw="__ngSimpleChanges__";function lw(t){return t[uw]||null}function lR(t,e){return t[uw]=e}var nI=null;var qt=function(t,e,n){nI?.(t,e,n)},dw="svg",dR="math",hR=!1;function fR(){return hR}function Gt(t){for(;Array.isArray(t);)t=t[Qt];return t}function pR(t){for(;Array.isArray(t);){if(typeof t[Pf]=="object")return t;t=t[Qt]}return null}function hw(t,e){return Gt(e[t])}function wt(t,e){return Gt(e[t.index])}function Ff(t,e){return t.data[e]}function nr(t,e){let n=e[t];return kr(n)?n:n[Qt]}function Lf(t){return(t[M]&128)===128}function gR(t){return _n(t[Le])}function Ki(t,e){return e==null?null:t[e]}function fw(t){t[Li]=0}function mR(t){t[M]&1024||(t[M]|=1024,Lf(t)&&io(t))}function yR(t,e){for(;t>0;)e=e[Zi],t--;return e}function Vf(t){return!!(t[M]&9216||t[Lr]?.dirty)}function Ph(t){t[Pt].changeDetectionScheduler?.notify(1),Vf(t)?io(t):t[M]&64&&(fR()?(t[M]|=1024,io(t)):t[Pt].changeDetectionScheduler?.notify())}function io(t){t[Pt].changeDetectionScheduler?.notify();let e=so(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Lf(e)));)e=so(e)}function pw(t,e){if((t[M]&256)===256)throw new A(911,!1);t[Kn]===null&&(t[Kn]=[]),t[Kn].push(e)}function vR(t,e){if(t[Kn]===null)return;let n=t[Kn].indexOf(e);n!==-1&&t[Kn].splice(n,1)}function so(t){let e=t[Le];return _n(e)?e[Le]:e}var V={lFrame:Dw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _R(){return V.lFrame.elementDepthCount}function IR(){V.lFrame.elementDepthCount++}function wR(){V.lFrame.elementDepthCount--}function gw(){return V.bindingsEnabled}function ER(){return V.skipHydrationRootTNode!==null}function TR(t){return V.skipHydrationRootTNode===t}function DR(){V.skipHydrationRootTNode=null}function J(){return V.lFrame.lView}function Ue(){return V.lFrame.tView}function Uf(t){return V.lFrame.contextLView=t,t[Fe]}function jf(t){return V.lFrame.contextLView=null,t}function st(){let t=mw();for(;t!==null&&t.type===64;)t=t.parent;return t}function mw(){return V.lFrame.currentTNode}function bR(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function qr(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Bf(){return V.lFrame.isParent}function yw(){V.lFrame.isParent=!1}function vw(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CR(t){return V.lFrame.bindingIndex=t}function Xi(){return V.lFrame.bindingIndex++}function _w(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function SR(){return V.lFrame.inI18n}function AR(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Oh(e)}function RR(){return V.lFrame.currentDirectiveIndex}function Oh(t){V.lFrame.currentDirectiveIndex=t}function Iw(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ww(t){V.lFrame.currentQueryIndex=t}function NR(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[Ft]:null}function Ew(t,e,n){if(n&U.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&U.Host);)if(i=NR(s),i===null||(s=s[Zi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=V.lFrame=Tw();return r.currentTNode=e,r.lView=t,!0}function $f(t){let e=Tw(),n=t[L];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Tw(){let t=V.lFrame,e=t===null?null:t.child;return e===null?Dw(t):e}function Dw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bw(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Cw=bw;function qf(){let t=bw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xR(t){return(V.lFrame.contextLView=yR(t,V.lFrame.contextLView))[Fe]}function rr(){return V.lFrame.selectedIndex}function Ur(t){V.lFrame.selectedIndex=t}function uu(){let t=V.lFrame;return Ff(t.tView,t.selectedIndex)}function nW(){V.lFrame.currentNamespace=dw}function rW(){MR()}function MR(){V.lFrame.currentNamespace=null}function PR(){return V.lFrame.currentNamespace}var Sw=!0;function lu(){return Sw}function du(t){Sw=t}function OR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=cw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function hu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Mc(t,e,n){Aw(t,e,3,n)}function Pc(t,e,n,r){(t[M]&3)===n&&Aw(t,e,n,r)}function dh(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function Aw(t,e,n,r){let i=r!==void 0?t[Li]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Li]+=65536),(a<s||s==-1)&&(kR(t,n,e,c),t[Li]=(t[Li]&4294901760)+c+2),c++}function rI(t,e){qt(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),qt(5,t,e)}}function kR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[M]>>14<t[Li]>>16&&(t[M]&3)===e&&(t[M]+=16384,rI(a,s)):rI(a,s)}var Bi=-1,jr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function FR(t){return t instanceof jr}function LR(t){return(t.flags&8)!==0}function VR(t){return(t.flags&16)!==0}function Rw(t){return t!==Bi}function $c(t){return t&32767}function UR(t){return t>>16}function qc(t,e){let n=UR(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var kh=!0;function iI(t){let e=kh;return kh=t,e}var jR=256,Nw=jR-1,xw=5,BR=0,Ht={};function $R(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),r==null&&(r=n[Js]=BR++);let i=r&Nw,s=1<<i;e.data[t+(i>>xw)]|=s}function Hc(t,e){let n=Mw(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,hh(r.data,t),hh(e,null),hh(r.blueprint,null));let i=Hf(t,e),s=t.injectorIndex;if(Rw(i)){let o=$c(i),a=qc(i,e),c=a[L].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function hh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Mw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Lw(i),r===null)return Bi;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Bi}function Fh(t,e,n){$R(t,e,n)}function qR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(WI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Pw(t,e,n){if(n&U.Optional||t!==void 0)return t;Cf(e,"NodeInjector")}function Ow(t,e,n,r){if(n&U.Optional&&r===void 0&&(r=null),!(n&(U.Self|U.Host))){let i=t[Gi],s=vt(void 0);try{return i?i.get(e,r,n&U.Optional):BI(e,r,n&U.Optional)}finally{vt(s)}}return Pw(r,e,n)}function kw(t,e,n,r=U.Default,i){if(t!==null){if(e[M]&2048&&!(r&U.Self)){let o=KR(t,e,n,r,Ht);if(o!==Ht)return o}let s=Fw(t,e,n,r,Ht);if(s!==Ht)return s}return Ow(e,n,r,i)}function Fw(t,e,n,r,i){let s=GR(n);if(typeof s=="function"){if(!Ew(e,t,r))return r&U.Host?Pw(i,n,r):Ow(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&U.Optional))Cf(n);else return o}finally{Cw()}}else if(typeof s=="number"){let o=null,a=Mw(t,e),c=Bi,u=r&U.Host?e[Ot][Ft]:null;for((a===-1||r&U.SkipSelf)&&(c=a===-1?Hf(t,e):e[a+8],c===Bi||!oI(r,!1)?a=-1:(o=e[L],a=$c(c),e=qc(c,e)));a!==-1;){let l=e[L];if(sI(s,a,l.data)){let d=HR(a,e,n,o,r,u);if(d!==Ht)return d}c=e[a+8],c!==Bi&&oI(r,e[L].data[a+8]===u)&&sI(s,a,e)?(o=l,a=$c(c),e=qc(c,e)):a=-1}}return i}function HR(t,e,n,r,i,s){let o=e[L],a=o.data[t+8],c=r==null?au(a)&&kh:r!=o&&(a.type&3)!==0,u=i&U.Host&&s===a,l=zR(a,o,n,c,u);return l!==null?Qi(e,o,l,a):Ht}function zR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let g=o[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(i){let p=o[c];if(p&&yn(p)&&p.type===n)return c}return null}function Qi(t,e,n,r){let i=t[n],s=e.data;if(FR(i)){let o=i;o.resolving&&wA(IA(s[n]));let a=iI(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?vt(o.injectImpl):null,l=Ew(t,r,U.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&OR(n,s[n],e)}finally{u!==null&&vt(u),iI(a),o.resolving=!1,Cw()}}return i}function GR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Js)?t[Js]:void 0;return typeof e=="number"?e>=0?e&Nw:WR:e}function sI(t,e,n){let r=1<<t;return!!(n[e+(t>>xw)]&r)}function oI(t,e){return!(t&U.Self)&&!(t&U.Host&&e)}var Fr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return kw(this._tNode,this._lView,e,ru(r),n)}};function WR(){return new Fr(st(),J())}function zf(t){return fo(()=>{let e=t.prototype.constructor,n=e[Fc]||Lh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fc]||Lh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Lh(t){return kI(t)?()=>{let e=Lh(Ge(t));return e&&e()}:$i(t)}function KR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[M]&2048&&!(o[M]&512);){let a=Fw(s,o,n,r|U.Self,Ht);if(a!==Ht)return a;let c=s.parent;if(!c){let u=o[ow];if(u){let l=u.get(n,Ht,r);if(l!==Ht)return l}c=Lw(o),o=o[Zi]}s=c}return i}function Lw(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[Ft]:null}function Gf(t){return qR(st(),t)}function aI(t,e=null,n=null,r){let i=Vw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Vw(t,e=null,n=null,r,i=new Set){let s=[n||it,KA(t)];return r=r||(typeof t=="object"?void 0:We(t)),new eo(s,e||Mf(),r||null,i)}var be=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return aI({name:""},i,r,"");{let s=r.name??"";return aI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Zs,e.NULL=new Uc,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>D(HI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var QR="ngOriginalError";function fh(t){return t[QR]}var Wt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&fh(e);for(;n&&fh(n);)n=fh(n);return n||null}},Uw=new C("",{providedIn:"root",factory:()=>v(Wt).handleError.bind(void 0)}),Wf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Vh=class extends Wf{constructor(e){super(),this._lView=e}onDestroy(e){return pw(this._lView,e),()=>vR(this._lView,e)}};function YR(){return new Vh(J())}function JR(){return fu(st(),J())}function fu(t,e){return new ir(wt(t,e))}var ir=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=JR;let t=e;return t})();var Uh=class extends oe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,sw()&&(this.destroyRef=v(Wf,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=ph(s),i&&(i=ph(i)),o&&(o=ph(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof de&&e.add(a),a}};function ph(t){return e=>{setTimeout(t,void 0,e)}}var xt=Uh;function jw(t){return(t.flags&128)===128}var Bw=new Map,ZR=0;function XR(){return ZR++}function eN(t){Bw.set(t[ou],t)}function tN(t){Bw.delete(t[ou])}var cI="__ngContext__";function Yn(t,e){kr(e)?(t[cI]=e[ou],eN(e)):t[cI]=e}function $w(t){return Hw(t[ro])}function qw(t){return Hw(t[Mt])}function Hw(t){for(;t!==null&&!_n(t);)t=t[Mt];return t}var jh;function zw(t){jh=t}function Gw(){if(jh!==void 0)return jh;if(typeof document<"u")return document;throw new A(210,!1)}var Kf=new C("",{providedIn:"root",factory:()=>nN}),nN="ng",Qf=new C(""),Et=new C("",{providedIn:"platform",factory:()=>"unknown"});var iW=new C(""),Yf=new C("",{providedIn:"root",factory:()=>Gw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rN="h",iN="b";var sN=()=>null;function Jf(t,e,n=!1){return sN(t,e,n)}var Ww=!1,oN=new C("",{providedIn:"root",factory:()=>Ww});var Cc;function aN(){if(Cc===void 0&&(Cc=null,mn.trustedTypes))try{Cc=mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cc}function pu(t){return aN()?.createHTML(t)||t}var Sc;function Kw(){if(Sc===void 0&&(Sc=null,mn.trustedTypes))try{Sc=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sc}function uI(t){return Kw()?.createHTML(t)||t}function lI(t){return Kw()?.createScriptURL(t)||t}var vn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MI})`}},Bh=class extends vn{getTypeName(){return"HTML"}},$h=class extends vn{getTypeName(){return"Style"}},qh=class extends vn{getTypeName(){return"Script"}},Hh=class extends vn{getTypeName(){return"URL"}},zh=class extends vn{getTypeName(){return"ResourceURL"}};function Tt(t){return t instanceof vn?t.changingThisBreaksApplicationSecurity:t}function In(t,e){let n=cN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MI})`)}return n===e}function cN(t){return t instanceof vn&&t.getTypeName()||null}function Qw(t){return new Bh(t)}function Yw(t){return new $h(t)}function Jw(t){return new qh(t)}function Zw(t){return new Hh(t)}function Xw(t){return new zh(t)}function uN(t){let e=new Wh(t);return lN()?new Gh(e):e}var Gh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(pu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Wh=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=pu(e),n}};function lN(){try{return!!new window.DOMParser().parseFromString(pu(""),"text/html")}catch{return!1}}var dN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gu(t){return t=String(t),t.match(dN)?t:"unsafe:"+t}function wn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function vo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var eE=wn("area,br,col,hr,img,wbr"),tE=wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nE=wn("rp,rt"),hN=vo(nE,tE),fN=vo(tE,wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pN=vo(nE,wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dI=vo(eE,fN,pN,hN),rE=wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gN=wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mN=wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),yN=vo(rE,gN,mN),vN=wn("script,style,template"),Kh=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=wN(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=IN(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=hI(e).toLowerCase();if(!dI.hasOwnProperty(n))return this.sanitizedSomething=!0,!vN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!yN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;rE[a]&&(c=gu(c)),this.buf.push(" ",o,'="',fI(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=hI(e).toLowerCase();dI.hasOwnProperty(n)&&!eE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(fI(e))}};function _N(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function IN(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw iE(e);return e}function wN(t){let e=t.firstChild;if(e&&_N(t,e))throw iE(e);return e}function hI(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function iE(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var EN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TN=/([^\#-~ |!])/g;function fI(t){return t.replace(/&/g,"&amp;").replace(EN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(TN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ac;function Zf(t,e){let n=null;try{Ac=Ac||uN(t);let r=e?String(e):"";n=Ac.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ac.getInertBodyElement(r)}while(r!==s);let a=new Kh().sanitizeChildren(pI(n)||n);return pu(a)}finally{if(n){let r=pI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pI(t){return"content"in t&&DN(t)?t.content:null}function DN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ut=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ut||{});function Xf(t){let e=ep();return e?uI(e.sanitize(ut.HTML,t)||""):In(t,"HTML")?uI(Tt(t)):Zf(Gw(),po(t))}function bN(t){let e=ep();return e?e.sanitize(ut.URL,t)||"":In(t,"URL")?Tt(t):gu(po(t))}function CN(t){let e=ep();if(e)return lI(e.sanitize(ut.RESOURCE_URL,t)||"");if(In(t,"ResourceURL"))return lI(Tt(t));throw new A(904,!1)}function SN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CN:bN}function sE(t,e,n){return SN(e,n)(t)}function ep(){let t=J();return t&&t[Pt].sanitizer}var AN=/^>|^->|<!--|-->|--!>|<!-$/g,RN=/(<|>)/g,NN="\u200B$1\u200B";function xN(t){return t.replace(AN,e=>e.replace(RN,NN))}function oE(t){return t instanceof Function?t():t}function MN(t){return(t??v(be)).get(Et)==="browser"}var Kt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kt||{}),PN;function tp(t,e){return PN(t,e)}function Vi(t,e,n,r,i){if(r!=null){let s,o=!1;_n(r)?s=r:kr(r)&&(o=!0,r=r[Qt]);let a=Gt(r);t===0&&n!==null?i==null?lE(e,n,a):zc(e,n,a,i||null,!0):t===1&&n!==null?zc(e,n,a,i||null,!0):t===2?JN(e,a,o):t===3&&e.destroyNode(a),s!=null&&XN(e,t,s,n,i)}}function ON(t,e){return t.createText(e)}function kN(t,e,n){t.setValue(e,n)}function FN(t,e){return t.createComment(xN(e))}function aE(t,e,n){return t.createElement(e,n)}function LN(t,e){cE(t,e),e[Qt]=null,e[Ft]=null}function VN(t,e,n,r,i,s){r[Qt]=i,r[Ft]=e,vu(t,r,n,1,i,s)}function cE(t,e){e[Pt].changeDetectionScheduler?.notify(1),vu(t,e,e[he],2,null,null)}function UN(t){let e=t[ro];if(!e)return gh(t[L],t);for(;e;){let n=null;if(kr(e))n=e[ro];else{let r=e[Ke];r&&(n=r)}if(!n){for(;e&&!e[Mt]&&e!==t;)kr(e)&&gh(e[L],e),e=e[Le];e===null&&(e=t),kr(e)&&gh(e[L],e),n=e&&e[Mt]}e=n}}function jN(t,e,n,r){let i=Ke+r,s=n.length;r>0&&(n[i-1][Mt]=e),r<s-Ke?(e[Mt]=n[i],qI(n,Ke+r,e)):(n.push(e),e[Mt]=null),e[Le]=n;let o=e[su];o!==null&&n!==o&&BN(o,e);let a=e[Wi];a!==null&&a.insertView(t),Ph(e),e[M]|=128}function BN(t,e){let n=t[Bc],i=e[Le][Le][Ot];e[Ot]!==i&&(t[M]|=Of.HasTransplantedViews),n===null?t[Bc]=[e]:n.push(e)}function uE(t,e){let n=t[Bc],r=n.indexOf(e);n.splice(r,1)}function oo(t,e){if(t.length<=Ke)return;let n=Ke+e,r=t[n];if(r){let i=r[su];i!==null&&i!==t&&uE(i,r),e>0&&(t[n-1][Mt]=r[Mt]);let s=Vc(t,Ke+e);LN(r[L],r);let o=s[Wi];o!==null&&o.detachView(s[L]),r[Le]=null,r[Mt]=null,r[M]&=-129}return r}function mu(t,e){if(!(e[M]&256)){let n=e[he];n.destroyNode&&vu(t,e,n,3,null,null),UN(e)}}function gh(t,e){if(e[M]&256)return;let n=G(null);try{e[M]&=-129,e[M]|=256,e[Lr]&&I_(e[Lr]),qN(t,e),$N(t,e),e[L].type===1&&e[he].destroy();let r=e[su];if(r!==null&&_n(e[Le])){r!==e[Le]&&uE(r,e);let i=e[Wi];i!==null&&i.detachView(t)}tN(e)}finally{G(n)}}function $N(t,e){let n=t.cleanup,r=e[no];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[no]=null);let i=e[Kn];if(i!==null){e[Kn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function qN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof jr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];qt(4,a,c);try{c.call(a)}finally{qt(5,a,c)}}else{qt(4,i,s);try{s.call(i)}finally{qt(5,i,s)}}}}}function HN(t,e,n){return zN(t,e.parent,n)}function zN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Qt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===zt.None||s===zt.Emulated)return null}return wt(r,n)}}function zc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lE(t,e,n){t.appendChild(e,n)}function gI(t,e,n,r,i){r!==null?zc(t,e,n,r,i):lE(t,e,n)}function GN(t,e,n,r){t.removeChild(e,n,r)}function np(t,e){return t.parentNode(e)}function WN(t,e){return t.nextSibling(e)}function KN(t,e,n){return YN(t,e,n)}function QN(t,e,n){return t.type&40?wt(t,n):null}var YN=QN,mI;function yu(t,e,n,r){let i=HN(t,r,e),s=e[he],o=r.parent||e[Ft],a=KN(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)gI(s,i,n[c],a,!1);else gI(s,i,n,a,!1);mI!==void 0&&mI(s,r,e,n,i)}function Oc(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return Qh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Oc(t,r);{let i=t[e.index];return _n(i)?Qh(-1,i):Gt(i)}}else{if(n&32)return tp(e,t)()||Gt(t[e.index]);{let r=dE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=so(t[Ot]);return Oc(i,r)}else return Oc(t,e.next)}}}return null}function dE(t,e){if(e!==null){let r=t[Ot][Ft],i=e.projection;return r.projection[i]}return null}function Qh(t,e){let n=Ke+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return Oc(r,i)}return e[Vr]}function JN(t,e,n){let r=np(t,e);r&&GN(t,r,e,n)}function rp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Yn(Gt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)rp(t,e,n.child,r,i,s,!1),Vi(e,t,i,a,s);else if(c&32){let u=tp(n,r),l;for(;l=u();)Vi(e,t,i,l,s);Vi(e,t,i,a,s)}else c&16?ZN(t,e,r,n,i,s):Vi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function vu(t,e,n,r,i,s){rp(n,r,t.firstChild,e,i,s,!1)}function ZN(t,e,n,r,i,s){let o=n[Ot],c=o[Ft].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Vi(e,t,i,l,s)}else{let u=c,l=o[Le];jw(r)&&(u.flags|=128),rp(t,e,u,l,i,s,!0)}}function XN(t,e,n,r,i){let s=n[Vr],o=Gt(n);s!==o&&Vi(e,t,r,s,i);for(let a=Ke;a<n.length;a++){let c=n[a];vu(c[L],c,t,e,r,s)}}function ex(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Kt.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Kt.Important),t.setStyle(n,r,i,s))}}function tx(t,e,n){t.setAttribute(e,"style",n)}function hE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ah(t,e,r),i!==null&&hE(t,e,i),s!==null&&tx(t,e,s)}var Lt={};function we(t=1){pE(Ue(),J(),rr()+t,!1)}function pE(t,e,n,r){if(!r)if((e[M]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Mc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Pc(e,s,0,n)}Ur(n)}function ae(t,e=U.Default){let n=J();if(n===null)return D(t,e);let r=st();return kw(r,n,Ge(t),e)}function gE(){let t="invalid";throw new Error(t)}function mE(t,e,n,r,i,s){let o=G(null);try{let a=null;i&_t.SignalBased&&(a=e[r][m_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&_t.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):aw(e,a,r,s)}finally{G(o)}}function nx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ur(~i);else{let s=i,o=n[++r],a=n[++r];AR(o,s);let c=e[s];a(2,c)}}}finally{Ur(-1)}}function _u(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Qt]=i,d[M]=r|4|128|8|64,(u!==null||t&&t[M]&2048)&&(d[M]|=2048),fw(d),d[Le]=d[Zi]=t,d[Fe]=n,d[Pt]=o||t&&t[Pt],d[he]=a||t&&t[he],d[Gi]=c||t&&t[Gi]||null,d[Ft]=s,d[ou]=XR(),d[to]=l,d[ow]=u,d[Ot]=e.type==2?t[Ot]:d,d}function _o(t,e,n,r,i){let s=t.data[e];if(s===null)s=rx(t,e,n,r,i),SR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=bR();s.injectorIndex=o===null?-1:o.injectorIndex}return qr(s,!0),s}function rx(t,e,n,r,i){let s=mw(),o=Bf(),a=o?s:s&&s.parent,c=t.data[e]=cx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function yE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vE(t,e,n,r,i){let s=rr(),o=r&2;try{Ur(-1),o&&e.length>It&&pE(t,e,It,!1),qt(o?2:0,i),n(r,i)}finally{Ur(s),qt(o?3:1,i)}}function ip(t,e,n){if(kf(e)){let r=G(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{G(r)}}}function sp(t,e,n){gw()&&(px(t,e,n,wt(n,e)),(n.flags&64)===64&&wE(t,e,n))}function op(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function _E(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ap(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ap(t,e,n,r,i,s,o,a,c,u,l){let d=It+r,h=d+i,p=ix(d,h),g=typeof u=="function"?u():u;return p[L]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function ix(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Lt);return n}function sx(t,e,n,r){let s=r.get(oN,Ww)||n===zt.ShadowDom,o=t.selectRootElement(e,s);return ox(o),o}function ox(t){ax(t)}var ax=()=>null;function cx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ER()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=_t.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?vI(r,n,u,a,c):vI(r,n,u,a)}return r}function vI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ux(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,g=h?h.outputs:null;c=yI(0,d.inputs,l,c,p),u=yI(1,d.outputs,l,u,g);let I=c!==null&&o!==null&&!Nf(e)?bx(c,l,o):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function lx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function cp(t,e,n,r,i,s,o,a){let c=wt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(lp(t,n,l,r,i),au(e)&&dx(n,e.index)):e.type&3?(r=lx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function dx(t,e){let n=nr(e,t);n[M]&16||(n[M]|=64)}function up(t,e,n,r){if(gw()){let i=r===null?null:{"":-1},s=mx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&IE(t,e,n,o,i,a),i&&yx(n,r,i)}n.mergedAttrs=Xs(n.mergedAttrs,n.attrs)}function IE(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Fh(Hc(n,e),t,r[u].type);_x(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=yE(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Xs(n.mergedAttrs,l.hostAttrs),Ix(t,n,e,c,l),vx(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ux(t,n,s)}function hx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fx(o)!=a&&o.push(a),o.push(n,r,s)}}function fx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function px(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;au(n)&&wx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hc(n,e),Yn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Qi(e,t,a,n);if(Yn(u,e),o!==null&&Dx(e,a-i,u,c,n,o),yn(c)){let l=nr(n.index,e);l[Fe]=Qi(e,t,a,n)}}}function wE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=RR();try{Ur(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Oh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gx(c,u)}}finally{Ur(-1),Oh(o)}}function gx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(UA(e,o.selectors,!1))if(r||(r=[]),yn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Yh(t,e,c)}else r.unshift(o),Yh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Yh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function vx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yn(e)&&(n[""]=t)}}function _x(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ix(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=$i(i.type,!0)),o=new jr(s,yn(i),ae);t.blueprint[r]=o,n[r]=o,hx(t,e,r,yE(t,n,i.hostVars,Lt),i)}function wx(t,e,n){let r=wt(e,t),i=_E(n),s=t[Pt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Iu(t,_u(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Ex(t,e,n,r,i,s){let o=wt(t,e);Tx(e[he],o,s,t.value,n,r,i)}function Tx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?po(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Dx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];mE(r,n,c,u,l,d)}}function bx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function EE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function TE(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ww(s),a.contentQueries(2,e[o],o)}}}finally{G(r)}}}function Iu(t,e){return t[ro]?t[tI][Mt]=e:t[ro]=e,t[tI]=e,e}function Jh(t,e,n){ww(0);let r=G(null);try{e(t,n)}finally{G(r)}}function Cx(t){return t[no]||(t[no]=[])}function Sx(t){return t.cleanup||(t.cleanup=[])}function Ax(t,e,n){return(t===null||yn(t))&&(n=pR(n[e.index])),n[he]}function DE(t,e){let n=t[Gi],r=n?n.get(Wt,null):null;r&&r.handleError(e)}function lp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];mE(l,u,r,a,c,i)}}function Rx(t,e,n){let r=hw(e,t);kN(t[he],r,n)}function Nx(t,e){let n=nr(e,t),r=n[L];xx(r,n);let i=n[Qt];i!==null&&n[to]===null&&(n[to]=Jf(i,n[Gi])),dp(r,n,n[Fe])}function xx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dp(t,e,n){$f(e);try{let r=t.viewQuery;r!==null&&Jh(1,r,n);let i=t.template;i!==null&&vE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wi]?.finishViewCreation(t),t.staticContentQueries&&TE(t,e),t.staticViewQueries&&Jh(2,t.viewQuery,n);let s=t.components;s!==null&&Mx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,qf()}}function Mx(t,e){for(let n=0;n<e.length;n++)Nx(t,e[n])}function wu(t,e,n,r){let i=G(null);try{let s=e.tView,a=t[M]&4096?4096:16,c=_u(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[su]=u;let l=t[Wi];return l!==null&&(c[Wi]=l.createEmbeddedView(s)),dp(s,c,n),c}finally{G(i)}}function bE(t,e){let n=Ke+e;if(n<t.length)return t[n]}function ao(t,e){return!e||e.firstChild===null||jw(t)}function Eu(t,e,n,r=!0){let i=e[L];if(jN(i,e,t,n),r){let o=Qh(n,t),a=e[he],c=np(a,t[Vr]);c!==null&&VN(i,t[Ft],a,e,c,o)}let s=e[to];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function CE(t,e){let n=oo(t,e);return n!==void 0&&mu(n[L],n),n}function Gc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Gt(s)),_n(s)&&Px(s,r);let o=n.type;if(o&8)Gc(t,e,n.child,r);else if(o&32){let a=tp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=dE(e,n);if(Array.isArray(a))r.push(...a);else{let c=so(e[Ot]);Gc(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Px(t,e){for(let n=Ke;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&Gc(r[L],r,i,e)}t[Vr]!==t[Qt]&&e.push(t[Vr])}var SE=[];function Ox(t){return t[Lr]??kx(t)}function kx(t){let e=SE.pop()??Object.create(Lx);return e.lView=t,e}function Fx(t){t.lView[Lr]!==t&&(t.lView=null,SE.push(t))}var Lx=te(T({},y_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{io(t.lView)},consumerOnSignalRead(){this.lView[Lr]=this}}),AE=100;function RE(t,e=!0,n=0){let r=t[Pt],i=r.rendererFactory,s=!1;s||i.begin?.();try{Vx(t,n)}catch(o){throw e&&DE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Vx(t,e){Zh(t,e);let n=0;for(;Vf(t);){if(n===AE)throw new A(103,!1);n++,Zh(t,1)}}function Ux(t,e,n,r){let i=e[M];if((i&256)===256)return;let s=!1;!s&&e[Pt].inlineEffectRunner?.flush(),$f(e);let o=null,a=null;!s&&jx(t)&&(a=Ox(e),o=v_(a));try{fw(e),CR(t.bindingStartIndex),n!==null&&vE(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Mc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Pc(e,d,0,null),dh(e,0)}if(Bx(e),NE(e,0),t.contentQueries!==null&&TE(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Mc(e,d)}else{let d=t.contentHooks;d!==null&&Pc(e,d,1),dh(e,1)}nx(t,e);let u=t.components;u!==null&&ME(e,u,0);let l=t.viewQuery;if(l!==null&&Jh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Mc(e,d)}else{let d=t.viewHooks;d!==null&&Pc(e,d,2),dh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[lh]){for(let d of e[lh])d();e[lh]=null}s||(e[M]&=-73)}catch(c){throw io(e),c}finally{a!==null&&(__(a,o),Fx(a)),qf()}}function jx(t){return t.type!==2}function NE(t,e){for(let n=$w(t);n!==null;n=qw(n))for(let r=Ke;r<n.length;r++){let i=n[r];xE(i,e)}}function Bx(t){for(let e=$w(t);e!==null;e=qw(e)){if(!(e[M]&Of.HasTransplantedViews))continue;let n=e[Bc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Le];mR(i)}}}function $x(t,e,n){let r=nr(e,t);xE(r,n)}function xE(t,e){Lf(t)&&Zh(t,e)}function Zh(t,e){let r=t[L],i=t[M],s=t[Lr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&jd(s)),s&&(s.dirty=!1),t[M]&=-9217,o)Ux(r,t,r.template,t[Fe]);else if(i&8192){NE(t,1);let a=r.components;a!==null&&ME(t,a,1)}}function ME(t,e,n){for(let r=0;r<e.length;r++)$x(t,e[r],n)}function hp(t){for(t[Pt].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=so(t);if(aR(t)&&!e)return t;t=e}return null}var Br=class{get rootNodes(){let e=this._lView,n=e[L];return Gc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fe]}set context(e){this._lView[Fe]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(_n(e)){let n=e[jc],r=n?n.indexOf(this):-1;r>-1&&(oo(e,r),Vc(n,r))}this._attachedToViewContainer=!1}mu(this._lView[L],this._lView)}onDestroy(e){pw(this._lView,e)}markForCheck(){hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){Ph(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,RE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,cE(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,Ph(this._lView)}},fp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zx;let t=e;return t})(),qx=fp,Hx=class extends qx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=wu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Br(i)}};function zx(){return Gx(st(),J())}function Gx(t,e){return t.type&4?new Hx(e,t,fu(t,e)):null}var oW=new RegExp(`^(\\d+)*(${iN}|${rN})*(.*)`);var Wx=()=>null;function co(t,e){return Wx(t,e)}var Wc=class{},Xh=class{},Kc=class{};function Kx(t){let e=Error(`No component factory found for ${We(t)}.`);return e[Qx]=t,e}var Qx="ngComponent";var ef=class{resolveComponentFactory(e){throw Kx(e)}},es=(()=>{let e=class e{};e.NULL=new ef;let t=e;return t})(),uo=class{},ts=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Yx();let t=e;return t})();function Yx(){let t=J(),e=st(),n=nr(e.index,t);return(kr(n)?n:t)[he]}var Jx=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),mh={};var _I=new Set;function ns(t){_I.has(t)||(_I.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function II(...t){}function Zx(){let t=typeof mn.requestAnimationFrame=="function",e=mn[t?"requestAnimationFrame":"setTimeout"],n=mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var W=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Zx().nativeRequestAnimationFrame,tM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Xx,II,II);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Xx={};function pp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tf(t),t.isCheckStableRunning=!0,pp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tf(t))}function tM(t){let e=()=>{eM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(nM(a))return n.invokeTask(i,s,o,a);try{return wI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),EI(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return wI(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),EI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tf(t),pp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function wI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function EI(t){t._nesting--,pp(t)}function nM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ui=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ui||{}),rM={destroy(){}};function gp(t,e){!e&&sR(gp);let n=e?.injector??v(be);if(!MN(n))return rM;ns("NgAfterNextRender");let r=n.get(mp),i=r.handler??=new rf,s=e?.phase??Ui.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Wf).onDestroy(o),c=kt(n,()=>new nf(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var nf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=v(W),this.errorHandler=v(Wt,{optional:!0}),v(Wc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},rf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ui.EarlyRead]:new Set,[Ui.Write]:new Set,[Ui.MixedReadWrite]:new Set,[Ui.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},mp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Qc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Dh(i,a);else if(s==2){let c=a,u=e[++o];r=Dh(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yc=class extends es{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Qn(e);return new Yi(n,this.ngModule)}};function TI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function iM(t){let e=t.toLowerCase();return e==="svg"?dw:e==="math"?dR:null}var sf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ru(r);let i=this.injector.get(e,mh,r);return i!==mh||n===mh?i:this.parentInjector.get(e,n,r)}},Yi=class extends Kc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=TI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return TI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=G(null);try{i=i||this.ngModule;let o=i instanceof Qe?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new sf(e,o):e,c=a.get(uo,null);if(c===null)throw new A(407,!1);let u=a.get(Jx,null),l=a.get(mp,null),d=a.get(Wc,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",I=r?sx(p,r,this.componentDef.encapsulation,a):aE(p,g,iM(g)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let E=null;I!==null&&(E=Jf(I,a,!0));let Y=ap(0,null,null,1,0,null,null,null,null,null,null),Z=_u(null,Y,null,y,null,null,h,p,a,null,E);$f(Z);let z,ke;try{let le=this.componentDef,et,Ii=null;le.findHostDirectiveDefs?(et=[],Ii=new Map,le.findHostDirectiveDefs(le,et,Ii),et.push(le)):et=[le];let Nr=sM(Z,I),wi=oM(Nr,I,le,et,Z,h,p);ke=Ff(Y,It),I&&uM(p,le,I,r),n!==void 0&&lM(ke,this.ngContentSelectors,n),z=cM(wi,le,et,Ii,Z,[dM]),dp(Y,Z,null)}finally{qf()}return new of(this.componentType,z,fu(ke,Z),Z,ke)}finally{G(s)}}},of=class extends Xh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Br(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;lp(s[L],s,i,e,n),this.previousInputValues.set(e,n);let o=nr(this._tNode.index,s);hp(o)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sM(t,e){let n=t[L],r=It;return t[r]=e,_o(n,r,2,"#host",null)}function oM(t,e,n,r,i,s,o){let a=i[L];aM(r,t,e,o);let c=null;e!==null&&(c=Jf(e,i[Gi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=_u(i,_E(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Yh(a,t,r.length-1),Iu(i,d),i[t.index]=d}function aM(t,e,n,r){for(let i of t)e.mergedAttrs=Xs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qc(e,e.mergedAttrs,!0),n!==null&&fE(r,n,e))}function cM(t,e,n,r,i,s){let o=st(),a=i[L],c=wt(o,i);IE(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Qi(i,a,d,o);Yn(h,i)}wE(a,i,o),c&&Yn(c,i);let u=Qi(i,a,o.directiveStart+o.componentOffset,o);if(t[Fe]=i[Fe]=u,s!==null)for(let l of s)l(u,e);return ip(a,o,i),u}function uM(t,e,n,r){if(r)Ah(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=HA(e.selectors[0]);i&&Ah(t,n,i),s&&s.length>0&&hE(t,n,s.join(" "))}}function lM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function dM(){let t=st();hu(J()[L],t)}var Io=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hM;let t=e;return t})();function hM(){let t=st();return pM(t,J())}var fM=Io,PE=class extends fM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hf(this._hostTNode,this._hostLView);if(Rw(e)){let n=qc(e,this._hostLView),r=$c(e),i=n[L].data[r+8];return new Fr(i,n)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=DI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ke}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=co(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ao(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!oR(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Yi(Qn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let I=(o?u:this.parentInjector).get(Qe,null);I&&(s=I)}let l=Qn(c.componentType??{}),d=co(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,ao(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Le],u=new PE(c,c[Ft],c[Le]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Eu(o,i,s,r),e.attachToViewContainerRef(),qI(yh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=DI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=oo(this._lContainer,n);r&&(Vc(yh(this._lContainer),n),mu(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=oo(this._lContainer,n);return r&&Vc(yh(this._lContainer),n)!=null?new Br(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DI(t){return t[jc]}function yh(t){return t[jc]||(t[jc]=[])}function pM(t,e){let n,r=e[t.index];return _n(r)?n=r:(n=EE(r,e,null,t),e[t.index]=n,Iu(e,n)),mM(n,e,t,r),new PE(n,t,e)}function gM(t,e){let n=t[he],r=n.createComment(""),i=wt(e,t),s=np(n,i);return zc(n,s,r,WN(n,i),!1),r}var mM=_M,yM=()=>!1;function vM(t,e,n){return yM(t,e,n)}function _M(t,e,n,r){if(t[Vr])return;let i;n.type&8?i=Gt(r):i=gM(e,n),t[Vr]=i}function IM(t){return Object.getPrototypeOf(t.prototype).constructor}function wM(t){let e=IM(t.type),n=!0,r=[t];for(;e;){let i;if(yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Rc(t.inputs),o.inputTransforms=Rc(t.inputTransforms),o.declaredInputs=Rc(t.declaredInputs),o.outputs=Rc(t.outputs);let a=i.hostBindings;a&&CM(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&DM(t,c),u&&bM(t,u),EM(t,i),hA(t.outputs,i.outputs),yn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===wM&&(n=!1)}}e=Object.getPrototypeOf(e)}TM(r)}function EM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function TM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xs(i.hostAttrs,n=Xs(n,i.hostAttrs))}}function Rc(t){return t===qi?{}:t===it?[]:t}function DM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function bM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function CM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function yp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Jn=class{},lo=class{};var af=class extends Jn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);let i=ZI(e);this._bootstrapComponents=oE(i.bootstrap),this._r3Injector=Vw(e,n,[{provide:Jn,useValue:this},{provide:es,useValue:this.componentFactoryResolver},...r],We(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cf=class extends lo{constructor(e){super(),this.moduleType=e}create(e){return new af(this.moduleType,e,[])}};var Jc=class extends Jn{constructor(e){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;let n=new eo([...e.providers,{provide:Jn,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],e.parent||Mf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tu(t,e,n=null){return new Jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Hr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function kE(t,e,n){return t[e]=n}function SM(t,e){return t[e]}function En(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AM(t){return(t.flags&32)===32}function RM(t,e,n,r,i,s,o,a,c){let u=e.consts,l=_o(e,t,4,o||null,Ki(u,a));up(e,n,l,Ki(u,c)),hu(e,l);let d=l.tView=ap(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Zn(t,e,n,r,i,s,o,a){let c=J(),u=Ue(),l=t+It,d=u.firstCreatePass?RM(l,u,c,e,n,r,i,s,o):u.data[l];qr(d,!1);let h=NM(u,c,d,t);lu()&&yu(u,c,h,d),Yn(h,c);let p=EE(h,c,h,d);return c[l]=p,Iu(c,p),vM(p,d,c),cu(d)&&sp(u,c,d),o!=null&&op(c,d,a),Zn}var NM=xM;function xM(t,e,n,r){return du(!0),e[he].createComment("")}function sr(t,e,n,r){let i=J(),s=Xi();if(En(i,s,e)){let o=Ue(),a=uu();Ex(a,i,t,e,n,r)}return sr}function FE(t,e,n,r){return En(t,Xi(),n)?e+po(n)+r:Lt}function Nc(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function MM(t){return(t&2)==2}function PM(t,e){return t&131071|e<<17}function uf(t){return t|2}function Ji(t){return(t&131068)>>2}function vh(t,e){return t&-131069|e<<2}function OM(t){return(t&1)===1}function lf(t){return t|1}function kM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),c=Ji(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||go(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=$r(t[a+1]);t[r+1]=Nc(h,a),h!==0&&(t[h+1]=vh(t[h+1],r)),t[a+1]=PM(t[a+1],r)}else t[r+1]=Nc(a,0),a!==0&&(t[a+1]=vh(t[a+1],r)),a=r;else t[r+1]=Nc(c,0),a===0?a=r:t[c+1]=vh(t[c+1],r),c=r;u&&(t[r+1]=uf(t[r+1])),bI(t,l,r,!0),bI(t,l,r,!1),FM(e,l,t,r,s),o=Nc(a,c),s?e.classBindings=o:e.styleBindings=o}function FM(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&go(s,e)>=0&&(n[r+1]=lf(n[r+1]))}function bI(t,e,n,r){let i=t[n+1],s=e===null,o=r?$r(i):Ji(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];LM(c,e)&&(a=!0,t[o+1]=r?lf(u):uf(u)),o=r?$r(u):Ji(u)}a&&(t[n+1]=r?uf(i):lf(i))}function LM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?go(t,e)>=0:!1}var Nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VM(t){return t.substring(Nt.key,Nt.keyEnd)}function UM(t){return jM(t),LE(t,VE(t,0,Nt.textEnd))}function LE(t,e){let n=Nt.textEnd;return n===e?-1:(e=Nt.keyEnd=BM(t,Nt.key=e,n),VE(t,e,n))}function jM(t){Nt.key=0,Nt.keyEnd=0,Nt.value=0,Nt.valueEnd=0,Nt.textEnd=t.length}function VE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function BM(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function je(t,e,n){let r=J(),i=Xi();if(En(r,i,e)){let s=Ue(),o=uu();cp(s,o,r,t,e,r[he],n,!1)}return je}function df(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";lp(t,n,s[o],o,r)}function zr(t,e,n){return UE(t,e,n,!1),zr}function $M(t,e){return UE(t,e,null,!0),$M}function Tn(t){HM(YM,qM,t,!0)}function qM(t,e){for(let n=UM(e);n>=0;n=LE(e,n))Rf(t,VM(e),!0)}function UE(t,e,n,r){let i=J(),s=Ue(),o=_w(2);if(s.firstUpdatePass&&BE(s,t,o,r),e!==Lt&&En(i,o,e)){let a=s.data[rr()];$E(s,a,i,i[he],t,i[o+1]=ZM(e,n),r,o)}}function HM(t,e,n,r){let i=Ue(),s=_w(2);i.firstUpdatePass&&BE(i,null,s,r);let o=J();if(n!==Lt&&En(o,s,n)){let a=i.data[rr()];if(qE(a,r)&&!jE(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Dh(c,n||"")),df(i,a,o,n,r)}else JM(i,a,o,o[he],o[s+1],o[s+1]=QM(t,e,n),r,s)}}function jE(t,e){return e>=t.expandoStartIndex}function BE(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[rr()],o=jE(t,n);qE(s,r)&&e===null&&!o&&(e=!1),e=zM(i,s,e,r),kM(i,s,e,n,o,r)}}function zM(t,e,n,r){let i=Iw(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=_h(null,t,e,n,r),n=ho(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=_h(i,t,e,n,r),s===null){let c=GM(t,e,r);c!==void 0&&Array.isArray(c)&&(c=_h(null,t,e,c[1],r),c=ho(c,e.attrs,r),WM(t,e,r,c))}else s=KM(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function GM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ji(r)!==0)return t[$r(r)]}function WM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[$r(i)]=r}function KM(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ho(r,o,n)}return ho(r,e.attrs,n)}function _h(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ho(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ho(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Rf(t,o,n?!0:e[++s]))}return t===void 0?null:t}function QM(t,e,n){if(n==null||n==="")return it;let r=[],i=Tt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function YM(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Rf(t,r,n)}function JM(t,e,n,r,i,s,o,a){i===Lt&&(i=it);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,p=u<s.length?s[u+1]:void 0,g=null,I;l===d?(c+=2,u+=2,h!==p&&(g=d,I=p)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,I=p),g!==null&&$E(t,e,n,r,g,I,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function $E(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=OM(u)?CI(c,e,n,i,Ji(u),o):void 0;if(!Zc(l)){Zc(s)||MM(u)&&(s=CI(c,null,n,i,a,o));let d=hw(rr(),n);ex(r,o,d,i,s)}}function CI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Lt&&(h=d?it:void 0);let p=d?ch(h,r):l===r?h:void 0;if(u&&!Zc(p)&&(p=ch(c,r)),Zc(p)&&(a=p,o))return a;let g=t[i+1];i=o?$r(g):Ji(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ch(c,r))}return a}function Zc(t){return t!==void 0}function ZM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=We(Tt(t)))),t}function qE(t,e){return(t.flags&(e?8:16))!==0}var hf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Ih(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function XM(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=Ih(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],p=Ih(o,d,a,h,n);if(p!==0){p<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),I=n(o,d),y=n(s,u);if(Object.is(y,I)){let E=n(a,h);Object.is(E,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Xc,i??=AI(t,s,o,n),ff(t,r,s,y))t.updateValue(s,u),s++,o++;else if(i.has(y))r.set(g,t.detach(s)),o--;else{let E=t.create(s,e[s]);t.attach(s,E),s++,o++}}for(;s<=a;)SI(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=Ih(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Xc,i??=AI(t,s,o,n);let h=n(s,l);if(ff(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let p=n(s,u);r.set(p,t.detach(s)),o--}}}for(;!c.done;)SI(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function ff(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function SI(t,e,n,r,i){if(ff(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function AI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Xc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function cW(t,e,n){ns("NgControlFlow");let r=J(),i=Xi(),s=yf(r,It+t),o=0;if(En(r,i,e)){let a=G(null);try{if(CE(s,o),e!==-1){let c=vf(r[L],It+e),u=co(s,c.tView.ssrId),l=wu(r,c,n,{dehydratedView:u});Eu(s,l,o,ao(c,u))}}finally{G(a)}}else{let a=bE(s,o);a!==void 0&&(a[Fe]=n)}}var pf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ke}};function uW(t,e){return e}var gf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function lW(t,e,n,r,i,s,o,a,c,u,l,d,h){ns("NgControlFlow");let p=c!==void 0,g=J(),I=a?o.bind(g[Ot][Fe]):o,y=new gf(p,I);g[It+t]=y,Zn(t+1,e,n,r,i,s),p&&Zn(t+2,c,u,l,d,h)}var mf=class extends hf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ke}at(e){return this.getLView(e)[Fe].$implicit}attach(e,n){let r=n[to];this.needsIndexUpdate||=e!==this.length,Eu(this.lContainer,n,e,ao(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,eP(this.lContainer,e)}create(e,n){let r=co(this.lContainer,this.templateTNode.tView.ssrId);return wu(this.hostLView,this.templateTNode,new pf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){mu(e[L],e)}updateValue(e,n){this.getLView(e)[Fe].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Fe].$index=e}getLView(e){return tP(this.lContainer,e)}};function dW(t){let e=G(null),n=rr();try{let r=J(),i=r[L],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=yf(r,a),u=vf(i,a);s.liveCollection=new mf(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(XM(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Xi(),c=o.length===0;if(En(r,a,c)){let u=n+2,l=yf(r,u);if(c){let d=vf(i,u),h=co(l,d.tView.ssrId),p=wu(r,d,void 0,{dehydratedView:h});Eu(l,p,0,ao(d,h))}else CE(l,0)}}}finally{G(e)}}function yf(t,e){return t[e]}function eP(t,e){return oo(t,e)}function tP(t,e){return bE(t,e)}function vf(t,e){return Ff(t,e)}function nP(t,e,n,r,i,s){let o=e.consts,a=Ki(o,i),c=_o(e,t,2,r,a);return up(e,n,c,Ki(o,s)),c.attrs!==null&&Qc(c,c.attrs,!1),c.mergedAttrs!==null&&Qc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function lt(t,e,n,r){let i=J(),s=Ue(),o=It+t,a=i[he],c=s.firstCreatePass?nP(o,s,i,e,n,r):s.data[o],u=rP(s,i,c,a,e,t);i[o]=u;let l=cu(c);return qr(c,!0),fE(a,u,c),!AM(c)&&lu()&&yu(s,i,u,c),_R()===0&&Yn(u,i),IR(),l&&(sp(s,i,c),ip(s,c,i)),r!==null&&op(i,c),lt}function Vt(){let t=st();Bf()?yw():(t=t.parent,qr(t,!1));let e=t;TR(e)&&DR(),wR();let n=Ue();return n.firstCreatePass&&(hu(n,t),kf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LR(e)&&df(n,e,J(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VR(e)&&df(n,e,J(),e.stylesWithoutHost,!1),Vt}function or(t,e,n,r){return lt(t,e,n,r),Vt(),or}var rP=(t,e,n,r,i,s)=>(du(!0),aE(r,i,PR()));function iP(t,e,n,r,i){let s=e.consts,o=Ki(s,r),a=_o(e,t,8,"ng-container",o);o!==null&&Qc(a,o,!0);let c=Ki(s,i);return up(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Du(t,e,n){let r=J(),i=Ue(),s=t+It,o=i.firstCreatePass?iP(s,i,r,e,n):i.data[s];qr(o,!0);let a=sP(i,r,o,t);return r[s]=a,lu()&&yu(i,r,a,o),Yn(a,r),cu(o)&&(sp(i,r,o),ip(i,o,r)),n!=null&&op(r,o),Du}function bu(){let t=st(),e=Ue();return Bf()?yw():(t=t.parent,qr(t,!1)),e.firstCreatePass&&(hu(e,t),kf(t)&&e.queries.elementEnd(t)),bu}var sP=(t,e,n,r)=>(du(!0),FN(e[he],""));function vp(){return J()}function _p(t,e,n){let r=J(),i=Xi();if(En(r,i,e)){let s=Ue(),o=uu(),a=Iw(s.data),c=Ax(a,o,r);cp(s,o,r,t,e,c,n,!0)}return _p}var eu="en-US";var oP=eu;function aP(t){typeof t=="string"&&(oP=t.toLowerCase().replace(/_/g,"-"))}function ar(t,e,n,r){let i=J(),s=Ue(),o=st();return uP(s,i,i[he],o,t,e,r),ar}function cP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[no],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function uP(t,e,n,r,i,s,o){let a=cu(r),u=t.firstCreatePass&&Sx(t),l=e[Fe],d=Cx(e),h=!0;if(r.type&3||o){let I=wt(r,e),y=o?o(I):I,E=d.length,Y=o?z=>o(Gt(z[r.index])):r.index,Z=null;if(!o&&a&&(Z=cP(t,e,i,r.index)),Z!==null){let z=Z.__ngLastListenerFn__||Z;z.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,h=!1}else{s=NI(r,e,l,s,!1);let z=n.listen(y,i,s);d.push(s,z),u&&u.push(i,Y,E,E+1)}}else s=NI(r,e,l,s,!1);let p=r.outputs,g;if(h&&p!==null&&(g=p[i])){let I=g.length;if(I)for(let y=0;y<I;y+=2){let E=g[y],Y=g[y+1],ke=e[E][Y].subscribe(s),le=d.length;d.push(s,ke),u&&u.push(i,r.index,le,-(le+1))}}}function RI(t,e,n,r){let i=G(null);try{return qt(6,e,n),n(r)!==!1}catch(s){return DE(t,s),!1}finally{qt(7,e,n),G(i)}}function NI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?nr(t.index,e):e;hp(a);let c=RI(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=RI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function dt(t=1){return xR(t)}function lP(t,e,n){return HE(t,"",e,"",n),lP}function HE(t,e,n,r,i){let s=J(),o=FE(s,e,n,r);if(o!==Lt){let a=Ue(),c=uu();cp(a,c,s,t,o,s[he],i,!1)}return HE}function Dn(t,e=""){let n=J(),r=Ue(),i=t+It,s=r.firstCreatePass?_o(r,i,1,e,null):r.data[i],o=dP(r,n,s,e,t);n[i]=o,lu()&&yu(r,n,o,s),qr(s,!1)}var dP=(t,e,n,r,i)=>(du(!0),ON(e[he],r));function cr(t,e,n){let r=J(),i=FE(r,t,e,n);return i!==Lt&&Rx(r,rr(),i),cr}function hP(t,e,n){let r=Ue();if(r.firstCreatePass){let i=yn(t);_f(n,r.data,r.blueprint,i,!0),_f(e,r.data,r.blueprint,i,!1)}}function _f(t,e,n,r,i){if(t=Ge(t),Array.isArray(t))for(let s=0;s<t.length;s++)_f(t[s],e,n,r,i);else{let s=Ue(),o=J(),a=st(),c=zi(t)?t:Ge(t.provide),u=iw(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(zi(t)||!t.multi){let p=new jr(u,i,ae),g=Eh(c,e,i?l:l+h,d);g===-1?(Fh(Hc(a,o),s,c),wh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[g]=p,o[g]=p)}else{let p=Eh(c,e,l+h,d),g=Eh(c,e,l,l+h),I=p>=0&&n[p],y=g>=0&&n[g];if(i&&!y||!i&&!I){Fh(Hc(a,o),s,c);let E=gP(i?pP:fP,n.length,i,r,u);!i&&y&&(n[g].providerFactory=E),wh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else{let E=zE(n[i?g:p],u,!i&&r);wh(s,t,p>-1?p:g,E)}!i&&r&&y&&n[g].componentProviders++}}}function wh(t,e,n,r){let i=zi(e),s=ZA(e);if(i||s){let c=(s?Ge(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function zE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Eh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fP(t,e,n,r){return If(this.multi,[])}function pP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Qi(n,n[L],this.providerFactory.index,r);s=a.slice(0,o),If(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],If(i,s);return s}function If(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gP(t,e,n,r,i){let s=new jr(t,n,ae);return s.multi=[],s.index=e,s.componentProviders=0,zE(s,i,r&&!n),s}function hW(t,e=[]){return n=>{n.providersResolver=(r,i)=>hP(r,i?i(t):t,e)}}var mP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=tw(!1,r.type),s=i.length>0?Tu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(D(Qe))});let t=e;return t})();function wo(t){ns("NgStandalone"),t.getStandaloneInjector=e=>e.get(mP).getOrCreateStandaloneInjector(t)}function fW(t,e,n){let r=vw()+t,i=J();return i[r]===Lt?kE(i,r,n?e.call(n):e()):SM(i,r)}function pW(t,e,n,r){return vP(J(),vw(),t,e,n,r)}function yP(t,e){let n=t[e];return n===Lt?void 0:n}function vP(t,e,n,r,i,s){let o=e+n;return En(t,o,i)?kE(t,o+1,s?r.call(s,i):r(i)):yP(t,o+1)}var Xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GE=new Xn("17.3.5"),Cu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var WE=new C("");function Eo(t){return!!t&&typeof t.then=="function"}function KE(t){return!!t&&typeof t.subscribe=="function"}var Su=new C(""),QE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(Su,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Eo(o))r.push(o);else if(KE(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),To=new C("");function _P(){w_(()=>{throw new A(600,!1)})}function IP(t){return t.isBoundToModule}function wP(t,e,n){try{let r=n();return Eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Yt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Uw),this.afterRenderEffectManager=v(mp),this.externalTestViews=new Set,this.beforeRender=new oe,this.afterTick=new oe,this.componentTypes=[],this.components=[],this.isStable=v(Hr).hasPendingTasks.pipe(F(r=>!r)),this._injector=v(Qe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Kc;if(!this._injector.get(QE).done){let p=!s&&JI(r),g=!1;throw new A(405,g)}let a;s?a=r:a=this._injector.get(es).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=IP(a)?void 0:this._injector.get(Jn),u=i||a.selector,l=a.create(be.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(WE,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Th(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new A(101,!1);let i=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,G(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===AE)throw new A(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)EP(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wf(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wf(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Th(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(To,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Th(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Th(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function EP(t,e,n){!e&&!wf(t)||TP(t,n,e)}function wf(t){return Vf(t)}function TP(t,e,n){let r;n?(r=0,t[M]|=1024):t[M]&64?r=0:r=1,RE(t,e,r)}var Ef=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Au=(()=>{let e=class e{compileModuleSync(r){return new cf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=ZI(r),o=oE(s.declarations).reduce((a,c)=>{let u=Qn(c);return u&&a.push(new Yi(u)),a},[]);return new Ef(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DP=(()=>{let e=class e{constructor(){this.zone=v(W),this.applicationRef=v(Yt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bP(t){return[{provide:W,useFactory:t},{provide:Hi,multi:!0,useFactory:()=>{let e=v(DP,{optional:!0});return()=>e.initialize()}},{provide:Hi,multi:!0,useFactory:()=>{let e=v(RP);return()=>{e.initialize()}}},{provide:Uw,useFactory:CP}]}function CP(){let t=v(W),e=v(Wt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function SP(t){let e=bP(()=>new W(AP(t)));return tr([[],e])}function AP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RP=(()=>{let e=class e{constructor(){this.subscription=new de,this.initialized=!1,this.zone=v(W),this.pendingTasks=v(Hr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NP(){return typeof $localize<"u"&&$localize.locale||eu}var Ip=new C("",{providedIn:"root",factory:()=>v(Ip,U.Optional|U.SkipSelf)||NP()});var YE=new C("");var kc=null;function xP(t=[],e){return be.create({name:e,providers:[{provide:iu,useValue:"platform"},{provide:YE,useValue:new Set([()=>kc=null])},...t]})}function MP(t=[]){if(kc)return kc;let e=xP(t);return kc=e,_P(),PP(e),e}function PP(t){t.get(Qf,null)?.forEach(n=>n())}var Do=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OP;let t=e;return t})();function OP(t){return kP(st(),J(),(t&16)===16)}function kP(t,e,n){if(au(t)&&!n){let r=nr(t.index,e);return new Br(r,r)}else if(t.type&47){let r=e[Ot];return new Br(r,e)}return null}var Tf=class{constructor(){}supports(e){return e instanceof Map||OE(e)}create(){return new Df}},Df=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||OE(e)))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new bf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},bf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function xI(){return new wp([new Tf])}var wp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||xI()),deps:[[e,new Sf,new Ve]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new A(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:xI});let t=e;return t})();function JE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=MP(r),s=[SP(),...n||[]],a=new Jc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(W);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Wt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(YE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),wP(u,c,()=>{let p=a.get(QE);return p.runInitializers(),p.donePromise.then(()=>{let g=a.get(Ip,eu);aP(g||eu);let I=a.get(Yt);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function bo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ZE(t){let e=Qn(t);if(!e)return null;let n=new Yi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var rT=null;function rs(){return rT}function iT(t){rT??=t}var Ru=class{};var ye=new C(""),Cp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(FP),providedIn:"platform"});let t=e;return t})(),sT=new C(""),FP=(()=>{let e=class e extends Cp{constructor(){super(),this._doc=v(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rs().getBaseHref(this._doc)}onPopState(r){let i=rs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Sp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function XE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function bn(t){return t&&t[0]!=="?"?"?"+t:t}var Cn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(Ap),providedIn:"root"});let t=e;return t})(),oT=new C(""),Ap=(()=>{let e=class e extends Cn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Sp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+bn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+bn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+bn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(Cp),D(oT,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aT=(()=>{let e=class e extends Cn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Sp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+bn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+bn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(Cp),D(oT,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ss=(()=>{let e=class e{constructor(r){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UP(XE(eT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+bn(i))}normalize(r){return e.stripTrailingSlash(VP(this._basePath,eT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+bn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+bn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=bn,e.joinWithSlash=Sp,e.stripTrailingSlash=XE,e.\u0275fac=function(i){return new(i||e)(D(Cn))},e.\u0275prov=b({token:e,factory:()=>LP(),providedIn:"root"});let t=e;return t})();function LP(){return new ss(D(Cn))}function VP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function eT(t){return t.replace(/\/index.html$/,"")}function UP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Nu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ep=/\s+/,tT=[],UW=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=tT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Ep):tT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Ep):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Ep).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(ae(ir),ae(ts))},e.\u0275dir=er({type:e,selectors:[["","ngClass",""]],inputs:{klass:[_t.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Rp=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Tp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){nT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){nT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ae(Io),ae(fp))},e.\u0275dir=er({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Tp=class{constructor(){this.$implicit=null,this.ngIf=null}};function nT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${We(e)}'.`)}var jW=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Kt.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(ae(ir),ae(wp),ae(ts))},e.\u0275dir=er({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var jP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({});let t=e;return t})(),Np="browser",BP="server";function $P(t){return t===Np}function xu(t){return t===BP}var cT=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>$P(v(Et))?new Dp(v(ye),window):new bp});let t=e;return t})(),Dp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=qP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function qP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var bp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},is=class{};var So=class{},Pu=class{},Gr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Mp=class{encodeKey(e){return lT(e)}encodeValue(e){return lT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function GP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var WP=/%(\d[a-f0-9])/gi,KP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lT(t){return encodeURIComponent(t).replace(WP,(e,n)=>KP[n]??e)}function Mu(t){return`${t}`}var ur=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=GP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Mu):[Mu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Mu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Mu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function QP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hT(t){return typeof Blob<"u"&&t instanceof Blob}function fT(t){return typeof FormData<"u"&&t instanceof FormData}function YP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Co=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(QP(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Gr,this.context??=new Pp,!this.params)this.params=new ur,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dT(this.body)||hT(this.body)||fT(this.body)||YP(this.body)?this.body:this.body instanceof ur?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fT(this.body)?null:hT(this.body)?this.body.type||null:dT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ur?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),l)),new t(n,r,o,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},os=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(os||{}),Ao=class{constructor(e,n=Fu.Ok,r="OK"){this.headers=e.headers||new Gr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Op=class t extends Ao{constructor(e={}){super(e),this.type=os.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ou=class t extends Ao{constructor(e={}){super(e),this.type=os.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ku=class extends Ao{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Fu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Fu||{});function xp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var JP=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Co)o=r;else{let u;s.headers instanceof Gr?u=s.headers:u=new Gr(s.headers);let l;s.params&&(s.params instanceof ur?l=s.params:l=new ur({fromObject:s.params})),o=new Co(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=N(o).pipe(pn(u=>this.handler.handle(u)));if(r instanceof Co||s.observe==="events")return a;let c=a.pipe(nt(u=>u instanceof Ou));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(F(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(F(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(F(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(F(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ur().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,xp(s,i))}post(r,i,s={}){return this.request("POST",r,xp(s,i))}put(r,i,s={}){return this.request("PUT",r,xp(s,i))}};e.\u0275fac=function(i){return new(i||e)(D(So))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function yT(t,e){return e(t)}function ZP(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function XP(t,e,n){return(r,i)=>kt(n,()=>e(r,s=>t(s,i)))}var eO=new C(""),kp=new C(""),tO=new C(""),nO=new C("");function rO(){let t=null;return(e,n)=>{t===null&&(t=(v(eO,{optional:!0})??[]).reduceRight(ZP,yT));let r=v(Hr),i=r.add();return t(e,n).pipe(Gn(()=>r.remove(i)))}}var pT=(()=>{let e=class e extends So{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=v(Hr);let s=v(nO,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(kp),...this.injector.get(tO,[])]));this.chain=s.reduceRight((o,a)=>XP(o,a,this.injector),yT)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Gn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(D(Pu),D(Qe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();var iO=/^\)\]\}',?\n/;function sO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var gT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ce(i.\u0275loadImpl()):N(null)).pipe(rt(()=>new B(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,E)=>a.setRequestHeader(y,E.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let y=r.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(r.responseType){let y=r.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let y=a.statusText||"OK",E=new Gr(a.getAllResponseHeaders()),Y=sO(a)||r.url;return u=new Op({headers:E,status:a.status,statusText:y,url:Y}),u},d=()=>{let{headers:y,status:E,statusText:Y,url:Z}=l(),z=null;E!==Fu.NoContent&&(z=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=z?Fu.Ok:0);let ke=E>=200&&E<300;if(r.responseType==="json"&&typeof z=="string"){let le=z;z=z.replace(iO,"");try{z=z!==""?JSON.parse(z):null}catch(et){z=le,ke&&(ke=!1,z={error:et,text:z})}}ke?(o.next(new Ou({body:z,headers:y,status:E,statusText:Y,url:Z||void 0})),o.complete()):o.error(new ku({error:z,headers:y,status:E,statusText:Y,url:Z||void 0}))},h=y=>{let{url:E}=l(),Y=new ku({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});o.error(Y)},p=!1,g=y=>{p||(o.next(l()),p=!0);let E={type:os.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),r.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),o.next(E)},I=y=>{let E={type:os.UploadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),o.next(E)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),o.next({type:os.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(D(is))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),vT=new C(""),oO="XSRF-TOKEN",aO=new C("",{providedIn:"root",factory:()=>oO}),cO="X-XSRF-TOKEN",uO=new C("",{providedIn:"root",factory:()=>cO}),Lu=class{},lO=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nu(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(D(ye),D(Et),D(aO))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function dO(t,e){let n=t.url.toLowerCase();if(!v(vT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=v(Lu).getToken(),i=v(uO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var _T=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(_T||{});function hO(t,e){return{\u0275kind:t,\u0275providers:e}}function fO(...t){let e=[JP,gT,pT,{provide:So,useExisting:pT},{provide:Pu,useExisting:gT},{provide:kp,useValue:dO,multi:!0},{provide:vT,useValue:!0},{provide:Lu,useClass:lO}];for(let n of t)e.push(...n.\u0275providers);return tr(e)}var mT=new C("");function pO(){return hO(_T.LegacyInterceptors,[{provide:mT,useFactory:rO},{provide:kp,useExisting:mT,multi:!0}])}var ZW=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({providers:[fO(pO())]});let t=e;return t})();var Vp=class extends Ru{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Up=class t extends Vp{static makeCurrent(){iT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gO();return n==null?null:mO(n)}resetBaseElement(){Ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nu(document.cookie,e)}},Ro=null;function gO(){return Ro=Ro||document.querySelector("base"),Ro?Ro.getAttribute("href"):null}function mO(t){return new URL(t,document.baseURI).pathname}var yO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),jp=new C(""),TT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(D(jp),D(W))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Vu=class{constructor(e){this._doc=e}},Fp="ng-app-id",DT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xu(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Fp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Fp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Fp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(D(ye),D(Kf),D(Yf,8),D(Et))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Lp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$p=/%COMP%/g,bT="%COMP%",vO=`_nghost-${bT}`,_O=`_ngcontent-${bT}`,IO=!0,wO=new C("",{providedIn:"root",factory:()=>IO});function EO(t){return _O.replace($p,t)}function TO(t){return vO.replace($p,t)}function CT(t,e){return e.map(n=>n.replace($p,t))}var IT=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=xu(c),this.defaultRenderer=new No(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zt.ShadowDom&&(i=te(T({},i),{encapsulation:zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Uu?s.applyToHost(r):s instanceof xo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case zt.Emulated:o=new Uu(u,l,i,this.appId,d,a,c,h);break;case zt.ShadowDom:return new Bp(u,l,r,i,a,c,this.nonce,h);default:o=new xo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(D(TT),D(DT),D(Kf),D(wO),D(ye),D(Et),D(W),D(Yf))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),No=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Lp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Lp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kt.DashCase|Kt.Important)?e.style.setProperty(n,r,i&Kt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bp=class extends No{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=CT(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xo=class extends No{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?CT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uu=class extends xo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=EO(u),this.hostAttr=TO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DO=(()=>{let e=class e extends Vu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(D(ye))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ET=["alt","control","meta","shift"],bO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SO=(()=>{let e=class e extends Vu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rs().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ET.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=bO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ET.forEach(a=>{if(a!==s){let c=CO[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(D(ye))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function m3(t,e){return JE(T({rootComponent:t},AO(e)))}function AO(t){return{appProviders:[...PO,...t?.providers??[]],platformProviders:MO}}function RO(){Up.makeCurrent()}function NO(){return new Wt}function xO(){return zw(document),document}var MO=[{provide:Et,useValue:Np},{provide:Qf,useValue:RO,multi:!0},{provide:ye,useFactory:xO,deps:[]}];var PO=[{provide:iu,useValue:"root"},{provide:Wt,useFactory:NO,deps:[]},{provide:jp,useClass:DO,multi:!0,deps:[ye,W,Et]},{provide:jp,useClass:SO,multi:!0,deps:[ye]},IT,DT,TT,{provide:uo,useExisting:IT},{provide:is,useClass:yO,deps:[]},[]];var ST=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(D(ye))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=D(OO),s},providedIn:"root"});let t=e;return t})(),OO=(()=>{let e=class e extends qp{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case ut.NONE:return i;case ut.HTML:return In(i,"HTML")?Tt(i):Zf(this._doc,String(i)).toString();case ut.STYLE:return In(i,"Style")?Tt(i):i;case ut.SCRIPT:if(In(i,"Script"))return Tt(i);throw new A(5200,!1);case ut.URL:return In(i,"URL")?Tt(i):gu(String(i));case ut.RESOURCE_URL:if(In(i,"ResourceURL"))return Tt(i);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(r){return Qw(r)}bypassSecurityTrustStyle(r){return Yw(r)}bypassSecurityTrustScript(r){return Jw(r)}bypassSecurityTrustUrl(r){return Zw(r)}bypassSecurityTrustResourceUrl(r){return Xw(r)}};e.\u0275fac=function(i){return new(i||e)(D(ye))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wr=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Wr||{}),v3="*";function xT(t,e){return{type:Wr.Trigger,name:t,definitions:e,options:{}}}function Hp(t,e=null){return{type:Wr.Animate,styles:e,timings:t}}function _3(t,e=null){return{type:Wr.Sequence,steps:t,options:e}}function ju(t){return{type:Wr.Style,styles:t,offset:null}}function Bu(t,e,n){return{type:Wr.State,name:t,styles:e,options:n}}function zp(t,e,n=null){return{type:Wr.Transition,expr:t,animation:e,options:n}}var RT=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},NT=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},I3="!";var MT=["toast-component",""];function kO(t,e){if(t&1){let n=vp();lt(0,"button",5),ar("click",function(){Uf(n);let i=dt();return jf(i.remove())}),lt(1,"span",6),Dn(2,"\xD7"),Vt()()}}function FO(t,e){if(t&1&&(Du(0),Dn(1),bu()),t&2){let n=dt(2);we(),cr("[",n.duplicatesCount+1,"]")}}function LO(t,e){if(t&1&&(lt(0,"div"),Dn(1),Zn(2,FO,2,1,"ng-container",4),Vt()),t&2){let n=dt();Tn(n.options.titleClass),sr("aria-label",n.title),we(),cr(" ",n.title," "),we(),je("ngIf",n.duplicatesCount)}}function VO(t,e){if(t&1&&or(0,"div",7),t&2){let n=dt();Tn(n.options.messageClass),je("innerHTML",n.message,Xf)}}function UO(t,e){if(t&1&&(lt(0,"div",8),Dn(1),Vt()),t&2){let n=dt();Tn(n.options.messageClass),sr("aria-label",n.message),we(),cr(" ",n.message," ")}}function jO(t,e){if(t&1&&(lt(0,"div"),or(1,"div",9),Vt()),t&2){let n=dt();we(),zr("width",n.width+"%")}}function BO(t,e){if(t&1){let n=vp();lt(0,"button",5),ar("click",function(){Uf(n);let i=dt();return jf(i.remove())}),lt(1,"span",6),Dn(2,"\xD7"),Vt()()}}function $O(t,e){if(t&1&&(Du(0),Dn(1),bu()),t&2){let n=dt(2);we(),cr("[",n.duplicatesCount+1,"]")}}function qO(t,e){if(t&1&&(lt(0,"div"),Dn(1),Zn(2,$O,2,1,"ng-container",4),Vt()),t&2){let n=dt();Tn(n.options.titleClass),sr("aria-label",n.title),we(),cr(" ",n.title," "),we(),je("ngIf",n.duplicatesCount)}}function HO(t,e){if(t&1&&or(0,"div",7),t&2){let n=dt();Tn(n.options.messageClass),je("innerHTML",n.message,Xf)}}function zO(t,e){if(t&1&&(lt(0,"div",8),Dn(1),Vt()),t&2){let n=dt();Tn(n.options.messageClass),sr("aria-label",n.message),we(),cr(" ",n.message," ")}}function GO(t,e){if(t&1&&(lt(0,"div"),or(1,"div",9),Vt()),t&2){let n=dt();we(),zr("width",n.width+"%")}}var Gp=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Wp=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Kp=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new oe;_activate=new oe;_manualClose=new oe;_resetTimeout=new oe;_countDuplicate=new oe;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},as=class{toastId;config;message;title;toastType;toastRef;_onTap=new oe;_onAction=new oe;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},PT={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},OT=new C("ToastConfig"),Qp=class extends Wp{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},WO=(()=>{class t{_document=v(ye);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yp=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},KO=(()=>{class t{_overlayContainer=v(WO);_componentFactoryResolver=v(es);_appRef=v(Yt);_document=v(ye);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new Qp(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Yp(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kT=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=T(T({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=T(T({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return T(T({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(ut.HTML,r));let l=new Kp(c),d=new as(this.index,s,u,i,n,l),h=[{provide:as,useValue:d}],p=be.create({providers:h,parent:this._injector}),g=new Gp(s.toastComponent,p),I=c.attach(g,s.newestOnTop);l.componentInstance=I.instance;let y={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:I};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}static \u0275fac=function(r){return new(r||t)(D(OT),D(KO),D(be),D(qp),D(W))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QO=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=te(T({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=te(T({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=te(T({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(ae(kT),ae(as),ae(W))};static \u0275cmp=mo({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&ar("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(_p("@flyInOut",i.state),Tn(i.toastClasses),zr("display",i.displayStyle))},standalone:!0,features:[wo],attrs:MT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Zn(0,kO,3,0,"button",0)(1,LO,3,5,"div",1)(2,VO,1,3,"div",2)(3,UO,2,4,"div",3)(4,jO,2,2,"div",4),r&2&&(je("ngIf",i.options.closeButton),we(),je("ngIf",i.title),we(),je("ngIf",i.message&&i.options.enableHtml),we(),je("ngIf",i.message&&!i.options.enableHtml),we(),je("ngIf",i.options.progressBar))},dependencies:[Rp],encapsulation:2,data:{animation:[xT("flyInOut",[Bu("inactive",ju({opacity:0})),Bu("active",ju({opacity:1})),Bu("removed",ju({opacity:0})),zp("inactive => active",Hp("{{ easeTime }}ms {{ easing }}")),zp("active => removed",Hp("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),YO=te(T({},PT),{toastComponent:QO}),JO=(t={})=>tr([{provide:OT,useValue:{default:YO,config:t}}]),P3=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[JO(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Je({type:t});static \u0275inj=Ye({})}return t})();var ZO=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(ae(kT),ae(as),ae(Yt))};static \u0275cmp=mo({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&ar("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Tn(i.toastClasses),zr("display",i.displayStyle))},standalone:!0,features:[wo],attrs:MT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Zn(0,BO,3,0,"button",0)(1,qO,3,5,"div",1)(2,HO,1,3,"div",2)(3,zO,2,4,"div",3)(4,GO,2,2,"div",4),r&2&&(je("ngIf",i.options.closeButton),we(),je("ngIf",i.title),we(),je("ngIf",i.message&&i.options.enableHtml),we(),je("ngIf",i.message&&!i.options.enableHtml),we(),je("ngIf",i.options.progressBar))},dependencies:[Rp],encapsulation:2})}return t})(),O3=te(T({},PT),{toastComponent:ZO});var k="primary",Wo=Symbol("RouteTitle"),tg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function hs(t){return new tg(t)}function XO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ek(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zt(t[n],e[n]))return!1;return!0}function Zt(t,e){let n=t?ng(t):void 0,r=e?ng(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!HT(t[i],e[i]))return!1;return!0}function ng(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function HT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function zT(t){return t.length>0?t[t.length-1]:null}function pr(t){return nh(t)?t:Eo(t)?ce(Promise.resolve(t)):N(t)}var tk={exact:WT,subset:KT},GT={exact:nk,subset:rk,ignored:()=>!0};function FT(t,e,n){return tk[n.paths](t.root,e.root,n.matrixParams)&&GT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function nk(t,e){return Zt(t,e)}function WT(t,e,n){if(!Qr(t.segments,e.segments)||!Hu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!WT(t.children[r],e.children[r],n))return!1;return!0}function rk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>HT(t[n],e[n]))}function KT(t,e,n){return QT(t,e,e.segments,n)}function QT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qr(i,n)||e.hasChildren()||!Hu(i,n,r))}else if(t.segments.length===n.length){if(!Qr(t.segments,n)||!Hu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!KT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Qr(t.segments,i)||!Hu(t.segments,i,r)||!t.children[k]?!1:QT(t.children[k],e,s,r)}}function Hu(t,e,n){return e.every((r,i)=>GT[n](t[i].parameters,r.parameters))}var lr=class{constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){return ok.serialize(this)}},X=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}},Kr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=hs(this.parameters),this._parameterMap}toString(){return JT(this)}};function ik(t,e){return Qr(t,e)&&t.every((n,r)=>Zt(n.parameters,e[r].parameters))}function Qr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function sk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var Ko=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new Vo,providedIn:"root"});let t=e;return t})(),Vo=class{parse(e){let n=new ig(e);return new lr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Mo(e.root,!0)}`,r=uk(e.queryParams),i=typeof e.fragment=="string"?`#${ak(e.fragment)}`:"";return`${n}${r}${i}`}},ok=new Vo;function zu(t){return t.segments.map(e=>JT(e)).join("/")}function Mo(t,e){if(!t.hasChildren())return zu(t);if(e){let n=t.children[k]?Mo(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==k&&r.push(`${i}:${Mo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sk(t,(r,i)=>i===k?[Mo(t.children[k],!1)]:[`${i}:${Mo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${zu(t)}/${n[0]}`:`${zu(t)}/(${n.join("//")})`}}function YT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(t){return YT(t).replace(/%3B/gi,";")}function ak(t){return encodeURI(t)}function rg(t){return YT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(t){return decodeURIComponent(t)}function LT(t){return Gu(t.replace(/\+/g,"%20"))}function JT(t){return`${rg(t.path)}${ck(t.parameters)}`}function ck(t){return Object.entries(t).map(([e,n])=>`;${rg(e)}=${rg(n)}`).join("")}function uk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$u(n)}=${$u(i)}`).join("&"):`${$u(n)}=${$u(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var lk=/^[^\/()?;#]+/;function Jp(t){let e=t.match(lk);return e?e[0]:""}var dk=/^[^\/()?;=#]+/;function hk(t){let e=t.match(dk);return e?e[0]:""}var fk=/^[^=?&#]+/;function pk(t){let e=t.match(fk);return e?e[0]:""}var gk=/^[^&#]+/;function mk(t){let e=t.match(gk);return e?e[0]:""}var ig=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new X(e,n)),r}parseSegment(){let e=Jp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Kr(Gu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=hk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Jp(this.remaining);i&&(r=i,this.capture(r))}e[Gu(n)]=Gu(r)}parseQueryParam(e){let n=pk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=mk(this.remaining);o&&(r=o,this.capture(r))}let i=LT(n),s=LT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=k);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[k]:new X([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function ZT(t){return t.segments.length>0?new X([],{[k]:t}):t}function XT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=XT(i);if(r===k&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new X(t.segments,e);return yk(n)}function yk(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new X(t.segments.concat(e.segments),e.children)}return t}function fs(t){return t instanceof lr}function vk(t,e,n=null,r=null){let i=eD(t);return tD(i,e,n,r)}function eD(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new X(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ZT(r);return e??i}function tD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Zp(i,i,i,n,r);let s=_k(e);if(s.toRoot())return Zp(i,i,new X([],{}),n,r);let o=Ik(s,i,t),a=o.processChildren?ko(o.segmentGroup,o.index,s.commands):rD(o.segmentGroup,o.index,s.commands);return Zp(i,o.segmentGroup,a,n,r)}function Wu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Uo(t){return typeof t=="object"&&t!=null&&t.outlets}function Zp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=nD(t,e,n);let a=ZT(XT(o));return new lr(a,s,i)}function nD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=nD(s,e,n)}),new X(t.segments,r)}var Ku=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wu(r[0]))throw new A(4003,!1);let i=r.find(Uo);if(i&&i!==zT(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _k(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ku(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ku(n,e,r)}var ls=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Ik(t,e,n){if(t.isAbsolute)return new ls(e,!0,0);if(!n)return new ls(e,!1,NaN);if(n.parent===null)return new ls(n,!0,0);let r=Wu(t.commands[0])?0:1,i=n.segments.length-1+r;return wk(n,i,t.numberOfDoubleDots)}function wk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new ls(r,!1,i-s)}function Ek(t){return Uo(t[0])?t[0].outlets:{[k]:t}}function rD(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return ko(t,e,n);let r=Tk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new X(t.segments.slice(0,r.pathIndex),{});return s.children[k]=new X(t.segments.slice(r.pathIndex),t.children),ko(s,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?sg(t,e,n):r.match?ko(t,0,i):sg(t,e,n)}function ko(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=Ek(n),i={};if(Object.keys(r).some(s=>s!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let s=ko(t.children[k],e,n);return new X(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=rD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new X(t.segments,i)}}function Tk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Uo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!UT(c,u,o))return s;r+=2}else{if(!UT(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Uo(s)){let c=Dk(s.outlets);return new X(r,c)}if(i===0&&Wu(n[0])){let c=t.segments[e];r.push(new Kr(c.path,VT(n[0]))),i++;continue}let o=Uo(s)?s.outlets[k]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Wu(a)?(r.push(new Kr(o,VT(a))),i+=2):(r.push(new Kr(o,{})),i++)}return new X(r,{})}function Dk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=sg(new X([],{}),0,r))}),e}function VT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UT(t,e,n){return t==n.path&&Zt(e,n.parameters)}var Fo="imperative",Ce=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ce||{}),Dt=class{constructor(e,n){this.id=e,this.url=n}},ps=class extends Dt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ce.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xt=class extends Dt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ce.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),Qu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qu||{}),dr=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ce.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hr=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ce.NavigationSkipped}},jo=class extends Dt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ce.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yu=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class extends Dt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ce.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cg=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class{constructor(e){this.route=e,this.type=Ce.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dg=class{constructor(e){this.route=e,this.type=Ce.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{constructor(e){this.snapshot=e,this.type=Ce.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=Ce.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=Ce.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=Ce.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ju=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ce.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Bo=class{},$o=class{constructor(e){this.url=e}};var mg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qo,this.attachRef=null}},Qo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new mg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=yg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=yg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=vg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vg(e,this._root).map(n=>n.value)}};function yg(t,e){if(t===e.value)return e;for(let n of e.children){let r=yg(t,n);if(r)return r}return null}function vg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=vg(t,n);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function us(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xu=class extends Zu{constructor(e,n){super(e),this.snapshot=n,Ag(this,e)}toString(){return this.snapshot.toString()}};function iD(t){let e=bk(t),n=new Me([new Kr("",{})]),r=new Me({}),i=new Me({}),s=new Me({}),o=new Me(""),a=new fr(n,r,s,o,i,k,t,e.root);return a.snapshot=e.root,new Xu(new ht(a,[]),e)}function bk(t){let e={},n={},r={},i="",s=new qo([],e,r,i,n,k,t,null,{});return new el("",new ht(s,[]))}var fr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(u=>u[Wo]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&oD(i)&&(r.resolve[Wo]=i.title),r}var qo=class{get title(){return this.data?.[Wo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},el=class extends Zu{constructor(e,n){super(n),this.url=e,Ag(this,n)}toString(){return sD(this._root)}};function Ag(t,e){e.value._routerState=t,e.children.forEach(n=>Ag(t,n))}function sD(t){let e=t.children.length>0?` { ${t.children.map(sD).join(", ")} } `:"";return`${t.value}${e}`}function Xp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zt(e.params,n.params)||t.paramsSubject.next(n.params),ek(e.url,n.url)||t.urlSubject.next(n.url),Zt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _g(t,e){let n=Zt(t.params,e.params)&&ik(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||_g(t.parent,e.parent))}function oD(t){return typeof t.title=="string"||t.title===null}var Ck=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=v(Qo),this.location=v(Io),this.changeDetector=v(Do),this.environmentInjector=v(Qe),this.inputBinder=v(il,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ig(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=er({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yo]});let t=e;return t})(),Ig=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===fr?this.route:e===Qo?this.childContexts:this.parent.get(e,n)}},il=new C(""),jT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Ys([i.queryParams,i.params,i.data]).pipe(rt(([o,a,c],u)=>(c=T(T(T({},o),a),c),u===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=ZE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function Sk(t,e,n){let r=Ho(t,e._root,n?n._root:void 0);return new Xu(r,e)}function Ho(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ak(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ho(t,a)),o}}let r=Rk(e.value),i=e.children.map(s=>Ho(t,s));return new ht(r,i)}}function Ak(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ho(t,r,i);return Ho(t,r)})}function Rk(t){return new fr(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var aD="ngNavigationCancelingError";function cD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uD(!1,ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function uD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[aD]=!0,n.cancellationCode=e,n}function Nk(t){return lD(t)&&fs(t.url)}function lD(t){return!!t&&t[aD]}var xk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=mo({type:e,selectors:[["ng-component"]],standalone:!0,features:[wo],decls:1,vars:0,template:function(i,s){i&1&&or(0,"router-outlet")},dependencies:[Ck],encapsulation:2});let t=e;return t})();function Mk(t,e){return t.providers&&!t._injector&&(t._injector=Tu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rg(t){let e=t.children&&t.children.map(Rg),n=e?te(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=xk),n}function en(t){return t.outlet||k}function Pk(t,e){let n=t.filter(r=>en(r)===e);return n.push(...t.filter(r=>en(r)!==e)),n}function Yo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ok=(t,e,n,r)=>F(i=>(new wg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=us(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=us(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Xp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Yo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},tl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{constructor(e,n){this.component=e,this.route=n}};function kk(t,e,n){let r=t._root,i=e?e._root:null;return Po(r,i,n,[r.value])}function Fk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ms(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!FI(t)?t:e.get(t):r}function Po(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=us(e);return t.children.forEach(o=>{Lk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Lo(a,n.getContext(o),i)),i}function Lk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Vk(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new tl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Po(t,e,a?a.children:null,r,i):Po(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,o))}else o&&Lo(e,a,i),i.canActivateChecks.push(new tl(r)),s.component?Po(t,null,a?a.children:null,r,i):Po(t,null,n,r,i);return i}function Vk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!Zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_g(t,e)||!Zt(t.queryParams,e.queryParams);case"paramsChange":default:return!_g(t,e)}}function Lo(t,e,n){let r=us(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Lo(o,e.children.getContext(s),n):Lo(o,null,n):Lo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ds(e.outlet.component,i)):n.canDeactivateChecks.push(new ds(null,i)):n.canDeactivateChecks.push(new ds(null,i))}function Jo(t){return typeof t=="function"}function Uk(t){return typeof t=="boolean"}function jk(t){return t&&Jo(t.canLoad)}function Bk(t){return t&&Jo(t.canActivate)}function $k(t){return t&&Jo(t.canActivateChild)}function qk(t){return t&&Jo(t.canDeactivate)}function Hk(t){return t&&Jo(t.canMatch)}function dD(t){return t instanceof fn||t?.name==="EmptyError"}var qu=Symbol("INITIAL_VALUE");function gs(){return rt(t=>Ys(t.map(e=>e.pipe(gn(1),oh(qu)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===qu)return qu;if(n===!1||n instanceof lr)return n}return!0}),nt(e=>e!==qu),gn(1)))}function zk(t,e){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(te(T({},n),{guardsResult:!0})):Gk(o,r,i,t).pipe(ge(a=>a&&Uk(a)?Wk(r,s,t,e):N(a)),F(a=>te(T({},n),{guardsResult:a})))})}function Gk(t,e,n,r){return ce(t).pipe(ge(i=>Zk(i.component,i.route,n,e,r)),$t(i=>i!==!0,!0))}function Wk(t,e,n,r){return ce(e).pipe(pn(i=>Oi(Qk(i.route.parent,r),Kk(i.route,r),Jk(t,i.path,n),Yk(t,i.route,n))),$t(i=>i!==!0,!0))}function Kk(t,e){return t!==null&&e&&e(new pg(t)),N(!0)}function Qk(t,e){return t!==null&&e&&e(new hg(t)),N(!0)}function Yk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Tc(()=>{let o=Yo(e)??n,a=ms(s,o),c=Bk(a)?a.canActivate(e,t):kt(o,()=>a(e,t));return pr(c).pipe($t())}));return N(i).pipe(gs())}function Jk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Fk(o)).filter(o=>o!==null).map(o=>Tc(()=>{let a=o.guards.map(c=>{let u=Yo(o.node)??n,l=ms(c,u),d=$k(l)?l.canActivateChild(r,t):kt(u,()=>l(r,t));return pr(d).pipe($t())});return N(a).pipe(gs())}));return N(s).pipe(gs())}function Zk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=Yo(e)??i,u=ms(a,c),l=qk(u)?u.canDeactivate(t,e,n,r):kt(c,()=>u(t,e,n,r));return pr(l).pipe($t())});return N(o).pipe(gs())}function Xk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=ms(o,t),c=jk(a)?a.canLoad(e,n):kt(t,()=>a(e,n));return pr(c)});return N(s).pipe(gs(),hD(r))}function hD(t){return Kd(me(e=>{if(fs(e))throw cD(t,e)}),F(e=>e===!0))}function e1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=ms(o,t),c=Hk(a)?a.canMatch(e,n):kt(t,()=>a(e,n));return pr(c)});return N(s).pipe(gs(),hD(r))}var zo=class{constructor(e){this.segmentGroup=e||null}},nl=class extends Error{constructor(e){super(),this.urlTree=e}};function cs(t){return Mi(new zo(t))}function t1(t){return Mi(new A(4e3,!1))}function n1(t){return Mi(uD(!1,ft.GuardRejected))}var Eg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[k])return t1(e.redirectTo);i=i.children[k]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new nl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new lr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new X(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function r1(t,e,n,r,i){let s=Ng(t,e,n);return s.matched?(r=Mk(e,r),e1(r,e,n,i).pipe(F(o=>o===!0?s:T({},Tg)))):N(s)}function Ng(t,e,n){if(e.path==="**")return i1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},Tg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||XO)(n,t,e);if(!i)return T({},Tg);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function i1(t){return{matched:!0,parameters:t.length>0?zT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BT(t,e,n,r){return n.length>0&&a1(t,n,r)?{segmentGroup:new X(e,o1(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&c1(t,n,r)?{segmentGroup:new X(t.segments,s1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function s1(t,e,n,r){let i={};for(let s of n)if(sl(t,e,s)&&!r[en(s)]){let o=new X([],{});i[en(s)]=o}return T(T({},r),i)}function o1(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&en(r)!==k){let i=new X([],{});n[en(r)]=i}return n}function a1(t,e,n){return n.some(r=>sl(t,e,r)&&en(r)!==k)}function c1(t,e,n){return n.some(r=>sl(t,e,r))}function sl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function u1(t,e,n,r){return en(t)!==r&&(r===k||!sl(e,n,t))?!1:Ng(e,t,n).matched}function l1(t,e,n){return e.length===0&&!t.children[n]}var Dg=class{};function d1(t,e,n,r,i,s,o="emptyOnly"){return new bg(t,e,n,r,i,o,s).recognize()}var h1=31,bg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=BT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(n=>{let r=new qo([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},k,this.rootComponentType,null,{}),i=new ht(r,n),s=new el("",i),o=vk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,k).pipe(Hn(r=>{if(r instanceof nl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Sg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(F(s=>s instanceof ht?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ce(i).pipe(pn(s=>{let o=r.children[s],a=Pk(n,s);return this.processSegmentGroup(e,a,o,s)}),sh((s,o)=>(s.push(...o),s)),zn(null),ih(),ge(s=>{if(s===null)return cs(r);let o=fD(s);return f1(o),N(o)}))}processSegment(e,n,r,i,s,o){return ce(n).pipe(pn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Hn(c=>{if(c instanceof zo)return N(null);throw c}))),$t(a=>!!a),Hn(a=>{if(dD(a))return l1(r,i,s)?N(new Dg):cs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return u1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):cs(i):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Ng(n,i,s);if(!a)return cs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>h1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(ge(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=r1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(rt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new qo(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,g1(r),en(r),r.component??r._loadedComponent??null,r,m1(r)),{segmentGroup:g,slicedSegments:I}=BT(n,l,d,c);if(I.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(F(E=>E===null?null:new ht(p,E)));if(c.length===0&&I.length===0)return N(new ht(p,[]));let y=en(r)===s;return this.processSegment(u,c,g,I,y?k:s,!0).pipe(F(E=>new ht(p,E instanceof ht?[E]:[])))}))):cs(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):Xk(e,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(e,n).pipe(me(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):n1(n))):N({routes:[],injector:e})}};function f1(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function p1(t){let e=t.value.routeConfig;return e&&e.path===""}function fD(t){let e=[],n=new Set;for(let r of t){if(!p1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=fD(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function g1(t){return t.data||{}}function m1(t){return t.resolve||{}}function y1(t,e,n,r,i,s){return ge(o=>d1(t,e,n,r,o.extractedUrl,i,s).pipe(F(({state:a,tree:c})=>te(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function v1(t,e){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of pD(c))o.add(u);let a=0;return ce(o).pipe(pn(c=>s.has(c)?_1(c,r,t,e):(c.data=Sg(c,c.parent,t).resolve,N(void 0))),me(()=>a++),ki(1),ge(c=>a===o.size?N(n):ct))})}function pD(t){let e=t.children.map(n=>pD(n)).flat();return[t,...e]}function _1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!oD(i)&&(s[Wo]=i.title),I1(s,t,e,r).pipe(F(o=>(t._resolvedData=o,t.data=Sg(t,t.parent,n).resolve,null)))}function I1(t,e,n,r){let i=ng(t);if(i.length===0)return N({});let s={};return ce(i).pipe(ge(o=>w1(t[o],e,n,r).pipe($t(),me(a=>{s[o]=a}))),ki(1),rh(s),Hn(o=>dD(o)?ct:Mi(o)))}function w1(t,e,n,r){let i=Yo(e)??r,s=ms(t,i),o=s.resolve?s.resolve(e,n):kt(i,()=>s(e,n));return pr(o)}function eg(t){return rt(e=>{let n=t(e);return n?ce(n).pipe(F(()=>e)):N(e)})}var gD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[Wo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(E1),providedIn:"root"});let t=e;return t})(),E1=(()=>{let e=class e extends gD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(D(ST))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zo=new C("",{providedIn:"root",factory:()=>({})}),Go=new C(""),xg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Au)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=pr(r.loadComponent()).pipe(F(mD),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Gn(()=>{this.componentLoaders.delete(r)})),s=new Ai(i,()=>new oe).pipe(Si());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=T1(i,this.compiler,r,this.onLoadEndListener).pipe(Gn(()=>{this.childrenLoaders.delete(i)})),a=new Ai(o,()=>new oe).pipe(Si());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T1(t,e,n,r){return pr(t.loadChildren()).pipe(F(mD),ge(i=>i instanceof lo||Array.isArray(i)?N(i):ce(e.compileModuleAsync(i))),F(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Go,[],{optional:!0,self:!0}).flat()),{routes:o.map(Rg),injector:s}}))}function D1(t){return t&&typeof t=="object"&&"default"in t}function mD(t){return D1(t)?t.default:t}var Mg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(b1),providedIn:"root"});let t=e;return t})(),b1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yD=new C(""),vD=new C("");function C1(t,e,n){let r=t.get(vD),i=t.get(ye);return t.get(W).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),S1(t))),{onViewTransitionCreated:c}=r;return c&&kt(t,()=>c({transition:a,from:e,to:n})),o})}function S1(t){return new Promise(e=>{gp(e,{injector:t})})}var Pg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new oe,this.transitionAbortSubject=new oe,this.configLoader=v(xg),this.environmentInjector=v(Qe),this.urlSerializer=v(Ko),this.rootContexts=v(Qo),this.location=v(ss),this.inputBindingEnabled=v(il,{optional:!0})!==null,this.titleStrategy=v(gD),this.options=v(Zo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Mg),this.createViewTransition=v(yD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new lg(s)),i=s=>this.events.next(new dg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nt(o=>o.id!==0),F(o=>te(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rt(o=>{let a=!1,c=!1;return N(o).pipe(rt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),ct;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?te(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new hr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Qu.IgnoredSameUrlNavigation)),u.resolve(null),ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(rt(h=>{let p=this.transitions?.getValue();return this.events.next(new ps(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?ct:Promise.resolve(h)}),y1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),me(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=te(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Yu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:I,extras:y}=u,E=new ps(h,this.urlSerializer.serialize(p),g,I);this.events.next(E);let Y=iD(this.rootComponentType).snapshot;return this.currentTransition=o=te(T({},u),{targetSnapshot:Y,urlAfterRedirects:p,extras:te(T({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(o)}else{let h="";return this.events.next(new hr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Qu.IgnoredByUrlHandlingStrategy)),u.resolve(null),ct}}),me(u=>{let l=new og(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),F(u=>(this.currentTransition=o=te(T({},u),{guards:kk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),zk(this.environmentInjector,u=>this.events.next(u)),me(u=>{if(o.guardsResult=u.guardsResult,fs(u.guardsResult))throw cD(this.urlSerializer,u.guardsResult);let l=new ag(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),nt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ft.GuardRejected),!1)),eg(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(me(l=>{let d=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),rt(l=>{let d=!1;return N(l).pipe(v1(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ft.NoDataFromResolver)}}))}),me(l=>{let d=new ug(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),eg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(me(p=>{d.component=p}),F(()=>{})));for(let p of d.children)h.push(...l(p));return h};return Ys(l(u.targetSnapshot.root)).pipe(zn(null),gn(1))}),eg(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ce(d).pipe(F(()=>o)):N(o)}),F(u=>{let l=Sk(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=te(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),me(()=>{this.events.next(new Bo)}),Ok(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),gn(1),me({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ah(this.transitionAbortSubject.pipe(me(u=>{throw u}))),Gn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(u=>{if(c=!0,lD(u))this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Nk(u)?this.events.next(new $o(u.url)):o.resolve(!1);else{this.events.next(new jo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ct}))}))}cancelNavigationTransition(r,i,s){let o=new dr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A1(t){return t!==Fo}var R1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(N1),providedIn:"root"});let t=e;return t})(),Cg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},N1=(()=>{let e=class e extends Cg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=zf(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_D=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(x1),providedIn:"root"});let t=e;return t})(),x1=(()=>{let e=class e extends _D{constructor(){super(...arguments),this.location=v(ss),this.urlSerializer=v(Ko),this.options=v(Zo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Mg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new lr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ps)this.stateMemento=this.createStateMemento();else if(r instanceof hr)this.rawUrlTree=i.initialUrl;else if(r instanceof Yu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Bo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof dr&&(r.code===ft.GuardRejected||r.code===ft.NoDataFromResolver)?this.restoreHistory(i):r instanceof jo?this.restoreHistory(i,!0):r instanceof Xt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=zf(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Oo||{});function ID(t,e){t.events.pipe(nt(n=>n instanceof Xt||n instanceof dr||n instanceof jo||n instanceof hr),F(n=>n instanceof Xt||n instanceof hr?Oo.COMPLETE:(n instanceof dr?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?Oo.REDIRECTING:Oo.FAILED),nt(n=>n!==Oo.REDIRECTING),gn(1)).subscribe(()=>{e()})}function M1(t){throw t}var P1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(Cu),this.stateManager=v(_D),this.options=v(Zo,{optional:!0})||{},this.pendingTasks=v(Hr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Pg),this.urlSerializer=v(Ko),this.location=v(ss),this.urlHandlingStrategy=v(Mg),this._events=new oe,this.errorHandler=this.options.errorHandler||M1,this.navigated=!1,this.routeReuseStrategy=v(R1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Go,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(il,{optional:!0}),this.eventsSubscription=new de,this.isNgZoneEnabled=v(W)instanceof W&&W.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof dr&&i.code!==ft.Redirect&&i.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xt)this.navigated=!0;else if(i instanceof $o){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||A1(s.source)};this.scheduleNavigation(a,Fo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}F1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=T({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Rg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=eD(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return tD(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=fs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Fo,null,i)}navigate(r,i={skipLocationChange:!1}){return k1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},P1):i===!1?s=T({},O1):s=i,fs(r))return FT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return FT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return ID(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function k1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function F1(t){return!(t instanceof Bo)&&!(t instanceof $o)}var n9=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:sE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ae(Sn),ae(fr),Gf("tabindex"),ae(ts),ae(ir),ae(Cn))},e.\u0275dir=er({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ar("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&sr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[_t.HasDecoratorInputTransform,"preserveFragment","preserveFragment",bo],skipLocationChange:[_t.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",bo],replaceUrl:[_t.HasDecoratorInputTransform,"replaceUrl","replaceUrl",bo],routerLink:"routerLink"},standalone:!0,features:[yp,yo]});let t=e;return t})();var rl=class{};var L1=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(nt(r=>r instanceof Xt),pn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Tu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ce(s).pipe(Pi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let o=s.pipe(ge(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ce([o,a]).pipe(Pi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(D(Sn),D(Au),D(Qe),D(rl),D(xg))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wD=new C(""),V1=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Xt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof hr&&r.code===Qu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ju&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ju(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){gE()},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function r9(t,...e){return tr([{provide:Go,multi:!0,useValue:t},[],{provide:fr,useFactory:ED,deps:[Sn]},{provide:To,multi:!0,useFactory:TD},e.map(n=>n.\u0275providers)])}function ED(t){return t.routerState.root}function Xo(t,e){return{\u0275kind:t,\u0275providers:e}}function TD(){let t=v(be);return e=>{let n=t.get(Yt);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(DD);t.get(Og)===1&&r.initialNavigation(),t.get(bD,null,U.Optional)?.setUpPreloading(),t.get(wD,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DD=new C("",{factory:()=>new oe}),Og=new C("",{providedIn:"root",factory:()=>1});function U1(){return Xo(2,[{provide:Og,useValue:0},{provide:Su,multi:!0,deps:[be],useFactory:e=>{let n=e.get(sT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Sn),s=e.get(DD);ID(i,()=>{r(!0)}),e.get(Pg).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function j1(){return Xo(3,[{provide:Su,multi:!0,useFactory:()=>{let e=v(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Og,useValue:2}])}var bD=new C("");function B1(t){return Xo(0,[{provide:bD,useExisting:L1},{provide:rl,useExisting:t}])}function $1(){return Xo(8,[jT,{provide:il,useExisting:jT}])}function q1(t){let e=[{provide:yD,useValue:C1},{provide:vD,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return Xo(9,e)}var $T=new C("ROUTER_FORROOT_GUARD"),H1=[ss,{provide:Ko,useClass:Vo},Sn,Qo,{provide:fr,useFactory:ED,deps:[Sn]},xg,[]],i9=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[H1,[],{provide:Go,multi:!0,useValue:r},{provide:$T,useFactory:K1,deps:[[Sn,new Ve,new Sf]]},{provide:Zo,useValue:i||{}},i?.useHash?G1():W1(),z1(),i?.preloadingStrategy?B1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Q1(i):[],i?.bindToComponentInputs?$1().\u0275providers:[],i?.enableViewTransitions?q1().\u0275providers:[],Y1()]}}static forChild(r){return{ngModule:e,providers:[{provide:Go,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(D($T,8))},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({});let t=e;return t})();function z1(){return{provide:wD,useFactory:()=>{let t=v(cT),e=v(W),n=v(Zo),r=v(Pg),i=v(Ko);return n.scrollOffset&&t.setOffset(n.scrollOffset),new V1(i,r,t,e,n)}}}function G1(){return{provide:Cn,useClass:aT}}function W1(){return{provide:Cn,useClass:Ap}}function K1(t){return"guarded"}function Q1(t){return[t.initialNavigation==="disabled"?j1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?U1().\u0275providers:[]]}var qT=new C("");function Y1(){return[{provide:qT,useFactory:TD},{provide:To,multi:!0,useExisting:qT}]}var SD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Fg;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Z1=function(t){let e=SD(t);return AD.encodeByteArray(e,!0)},ea=function(t){return Z1(t).replace(/\./g,"")},Vg=function(t){try{return AD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eF=()=>X1().__FIREBASE_DEFAULTS__,tF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vg(t[1]);return e&&JSON.parse(e)},al=()=>{try{return eF()||tF()||nF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ug=t=>{var e,n;return(n=(e=al())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RD=t=>{let e=Ug(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jg=()=>{var t;return(t=al())===null||t===void 0?void 0:t.config},Bg=t=>{var e;return(e=al())===null||e===void 0?void 0:e[`_${t}`]};var ol=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ND(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ea(JSON.stringify(n)),ea(JSON.stringify(o)),""].join(".")}function Ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function rF(){var t;let e=(t=al())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OD(){let t=Ee();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kD(){return!rF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $g(){try{return typeof indexedDB=="object"}catch{return!1}}function FD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var iF="FirebaseError",pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}},An=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pt(i,a,r)}};function sF(t,e){return t.replace(oF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oF=/\{\$([^}]+)}/g;function LD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(CD(s)&&CD(o)){if(!Yr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CD(t){return t!==null&&typeof t=="object"}function ta(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ys(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VD(t,e){let n=new Lg(t,e);return n.subscribe.bind(n)}var Lg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kg),i.error===void 0&&(i.error=kg),i.complete===void 0&&(i.complete=kg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kg(){}var a9=4*60*60*1e3;function ot(t){return t&&t._delegate?t._delegate:t}var bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Jr="[DEFAULT]";var qg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uF(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cF(t){return t===Jr?void 0:t}function uF(t){return t.instantiationMode==="EAGER"}var cl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var lF=[],q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(q||{}),dF={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},hF=q.INFO,fF={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},pF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=fF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gr=class{constructor(e){this.name=e,this._logLevel=hF,this._logHandler=pF,this._userLogHandler=null,lF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}};var gF=(t,e)=>e.some(n=>t instanceof n),UD,jD;function mF(){return UD||(UD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yF(){return jD||(jD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BD=new WeakMap,zg=new WeakMap,$D=new WeakMap,Hg=new WeakMap,Wg=new WeakMap;function vF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BD.set(n,t)}).catch(()=>{}),Wg.set(e,t),e}function _F(t){if(zg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zg.set(t,e)}var Gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$D.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qD(t){Gg=t(Gg)}function IF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ul(this),e,...n);return $D.set(r,e.sort?e.sort():[e]),tn(r)}:yF().includes(t)?function(...e){return t.apply(ul(this),e),tn(BD.get(this))}:function(...e){return tn(t.apply(ul(this),e))}}function wF(t){return typeof t=="function"?IF(t):(t instanceof IDBTransaction&&_F(t),gF(t,mF())?new Proxy(t,Gg):t)}function tn(t){if(t instanceof IDBRequest)return vF(t);if(Hg.has(t))return Hg.get(t);let e=wF(t);return e!==t&&(Hg.set(t,e),Wg.set(e,t)),e}var ul=t=>Wg.get(t);function zD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=tn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(tn(o.result),c.oldVersion,c.newVersion,tn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var EF=["get","getKey","getAll","getAllKeys","count"],TF=["put","add","delete","clear"],Kg=new Map;function HD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kg.get(e))return Kg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=TF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EF.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Kg.set(e,s),s}qD(t=>te(T({},t),{get:(e,n,r)=>HD(e,n)||t.get(e,n,r),has:(e,n)=>!!HD(e,n)||t.has(e,n)}));var Yg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DF(t){let e=t.getComponent();return e?.type==="VERSION"}var Jg="@firebase/app",GD="0.10.2";var Zr=new gr("@firebase/app"),bF="@firebase/app-compat",CF="@firebase/analytics-compat",SF="@firebase/analytics",AF="@firebase/app-check-compat",RF="@firebase/app-check",NF="@firebase/auth",xF="@firebase/auth-compat",MF="@firebase/database",PF="@firebase/database-compat",OF="@firebase/functions",kF="@firebase/functions-compat",FF="@firebase/installations",LF="@firebase/installations-compat",VF="@firebase/messaging",UF="@firebase/messaging-compat",jF="@firebase/performance",BF="@firebase/performance-compat",$F="@firebase/remote-config",qF="@firebase/remote-config-compat",HF="@firebase/storage",zF="@firebase/storage-compat",GF="@firebase/firestore",WF="@firebase/firestore-compat",KF="firebase",QF="10.11.1";var Zg="[DEFAULT]",YF={[Jg]:"fire-core",[bF]:"fire-core-compat",[SF]:"fire-analytics",[CF]:"fire-analytics-compat",[RF]:"fire-app-check",[AF]:"fire-app-check-compat",[NF]:"fire-auth",[xF]:"fire-auth-compat",[MF]:"fire-rtdb",[PF]:"fire-rtdb-compat",[OF]:"fire-fn",[kF]:"fire-fn-compat",[FF]:"fire-iid",[LF]:"fire-iid-compat",[VF]:"fire-fcm",[UF]:"fire-fcm-compat",[jF]:"fire-perf",[BF]:"fire-perf-compat",[$F]:"fire-rc",[qF]:"fire-rc-compat",[HF]:"fire-gcs",[zF]:"fire-gcs-compat",[GF]:"fire-fst",[WF]:"fire-fst-compat","fire-js":"fire-js",[KF]:"fire-js-all"};var na=new Map,JF=new Map,Xg=new Map;function WD(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yr(t){let e=t.name;if(Xg.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(let n of na.values())WD(n,t);for(let n of JF.values())WD(n,t);return!0}function ia(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t.settings!==void 0}var ZF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new An("app","Firebase",ZF);var em=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}};var vr=QF;function rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mr.create("bad-app-name",{appName:String(i)});if(n||(n=jg()),!n)throw mr.create("no-options");let s=na.get(i);if(s){if(Yr(n,s.options)&&Yr(r,s.config))return s;throw mr.create("duplicate-app",{appName:i})}let o=new cl(i);for(let c of Xg.values())o.addComponent(c);let a=new em(n,r,o);return na.set(i,a),a}function _s(t=Zg){let e=na.get(t);if(!e&&t===Zg&&jg())return rm();if(!e)throw mr.create("no-app",{appName:t});return e}function ll(){return Array.from(na.values())}function Te(t,e,n){var r;let i=(r=YF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(a.join(" "));return}yr(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var XF="firebase-heartbeat-database",eL=1,ra="firebase-heartbeat-store",Qg=null;function JD(){return Qg||(Qg=zD(XF,eL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),Qg}function tL(t){return f(this,null,function*(){try{let n=(yield JD()).transaction(ra),r=yield n.objectStore(ra).get(ZD(t));return yield n.done,r}catch(e){if(e instanceof pt)Zr.warn(e.message);else{let n=mr.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(n.message)}}})}function KD(t,e){return f(this,null,function*(){try{let r=(yield JD()).transaction(ra,"readwrite");yield r.objectStore(ra).put(e,ZD(t)),yield r.done}catch(n){if(n instanceof pt)Zr.warn(n.message);else{let r=mr.create("idb-set",{originalErrorMessage:n?.message});Zr.warn(r.message)}}})}function ZD(t){return`${t.name}!${t.options.appId}`}var nL=1024,rL=30*24*60*60*1e3,tm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new nm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=rL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=QD(),{heartbeatsToSend:r,unsentEntries:i}=iL(this._heartbeatsCache.heartbeats),s=ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function QD(){return new Date().toISOString().substring(0,10)}function iL(t,e=nL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var nm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return $g()?FD().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield tL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YD(t){return ea(JSON.stringify({version:2,heartbeats:t})).length}function sL(t){yr(new bt("platform-logger",e=>new Yg(e),"PRIVATE")),yr(new bt("heartbeat",e=>new tm(e),"PRIVATE")),Te(Jg,GD,t),Te(Jg,GD,"esm2017"),Te("fire-js","")}sL("");var oL="firebase",aL="10.11.1";Te(oL,aL,"app");var ei=new Xn("ANGULARFIRE2_VERSION");function hl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var sa=(t,e)=>{let n=e?[e]:ll(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ws=class{constructor(){return sa(cL)}},cL="app-check";function Is(){}var dl=class{zone;delegate;constructor(e,n=eh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},im=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Is,{},Is,Is)),n.pipe(me({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Es=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dl(Zone.current)),this.insideAngular=n.run(()=>new dl(Zone.current,Xd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(D(W))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function uL(t){return fl().ngZone.runOutsideAngular(()=>t())}function Xr(t){return fl().ngZone.run(()=>t())}function lL(t){return dL(fl())(t)}function dL(t){return function(n){return n=n.lift(new im(t.ngZone)),n.pipe(qn(t.outsideAngular),$n(t.insideAngular))}}var hL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xr(()=>t.apply(void 0,r))},Ct=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Is,{},Is,Is))),r[s]=hL(r[s],n));let i=uL(()=>t.apply(this,r));if(!e)if(i instanceof B){let s=fl();return i.pipe(qn(s.outsideAngular),$n(s.insideAngular))}else return Xr(()=>i);return i instanceof B?i.pipe(lL):i instanceof Promise?Xr(()=>new Promise((s,o)=>i.then(a=>Xr(()=>s(a)),a=>Xr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Xr(()=>i)};var Rn=class{constructor(e){return e}},ti=class{constructor(){return ll()}};function fL(t){return t&&t.length===1?t[0]:new Rn(_s())}var sm=new C("angularfire2._apps"),pL={provide:Rn,useFactory:fL,deps:[[new Ve,sm]]},gL={provide:ti,deps:[[new Ve,sm]]};function mL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Rn(r)}}var yL=(()=>{class t{constructor(n){Te("angularfire",ei.full,"core"),Te("angularfire",ei.full,"app"),Te("angular",GE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(D(Et))};static \u0275mod=Je({type:t});static \u0275inj=Ye({providers:[pL,gL]})}return t})();function z9(t,...e){return{ngModule:yL,providers:[{provide:sm,useFactory:mL(t),multi:!0,deps:[W,be,Es,...e]}]}}var G9=Ct(rm,!0);function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mb=gb,yb=new An("auth","Firebase",gb());var _l=new gr("@firebase/auth");function vL(t,...e){_l.logLevel<=q.WARN&&_l.warn(`Auth (${vr}): ${t}`,...e)}function gl(t,...e){_l.logLevel<=q.ERROR&&_l.error(`Auth (${vr}): ${t}`,...e)}function rn(t,...e){throw Sm(t,...e)}function ni(t,...e){return Sm(t,...e)}function vb(t,e,n){let r=Object.assign(Object.assign({},mb()),{[e]:n});return new An("auth","Firebase",r).create(e,{appName:t.name})}function Mn(t){return vb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yb.create(t,...e)}function R(t,e,...n){if(!t)throw Sm(e,...n)}function Nn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gl(e),new Error(e)}function Ir(t,e){t||Nn(e)}function um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _L(){return XD()==="http:"||XD()==="https:"}function XD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function IL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||MD()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ri=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=xD()||PD()}get(){return IL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Am(t,e){Ir(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Il=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var EL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TL=new ri(3e4,6e4);function Pn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function On(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return _b(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=ta(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Il.fetch()(Ib(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function _b(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},EL),e);try{let i=new lm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw pl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw pl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vb(t,l,u);rn(t,l)}}catch(i){if(i instanceof pt)throw i;rn(t,"network-request-failed",{message:String(i)})}})}function fa(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield On(t,e,n,r,i);return"mfaPendingCredential"in u&&rn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Ib(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Am(t.config,i):`${t.config.apiScheme}://${i}`}function DL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var lm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),TL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ni(t,e,r);return i.customData._tokenResponse=n,i}function eb(t){return t!==void 0&&t.enterprise!==void 0}var dm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function bL(t,e){return f(this,null,function*(){return On(t,"GET","/v2/recaptchaConfig",Pn(t,e))})}function CL(t,e){return f(this,null,function*(){return On(t,"POST","/v1/accounts:delete",e)})}function wb(t,e){return f(this,null,function*(){return On(t,"POST","/v1/accounts:lookup",e)})}function oa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rm(t,e=!1){return f(this,null,function*(){let n=ot(t),r=yield n.getIdToken(e),i=Nm(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:oa(om(i.auth_time)),issuedAtTime:oa(om(i.iat)),expirationTime:oa(om(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function om(t){return Number(t)*1e3}function Nm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vg(n);return i?JSON.parse(i):(gl("Failed to decode base64 JWT payload"),null)}catch(i){return gl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tb(t){let e=Nm(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ca(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof pt&&SL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function SL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var hm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ua=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wl(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ca(t,wb(n,{idToken:r}));R(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Eb(s.providerUserInfo):[],a=AL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ua(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function xm(t){return f(this,null,function*(){let e=ot(t);yield wl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Eb(t){return t.map(e=>{var{providerId:n}=e,r=th(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RL(t,e){return f(this,null,function*(){let n=yield _b(t,{},()=>f(this,null,function*(){let r=ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ib(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Il.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function NL(t,e){return f(this,null,function*(){return On(t,"POST","/v2/accounts:revokeToken",Pn(t,e))})}var aa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=tb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield RL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(R(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Nn("not implemented")}};function _r(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ts=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=th(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ua(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield ca(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Rm(this,e)}reload(){return xm(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Ut(this.auth.app))return Promise.reject(Mn(this.auth));let e=yield this.getIdToken();return yield ca(this,CL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Y=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Z,emailVerified:z,isAnonymous:ke,providerData:le,stsTokenManager:et}=n;R(Z&&et,e,"internal-error");let Ii=aa.fromJSON(this.name,et);R(typeof Z=="string",e,"internal-error"),_r(d,e.name),_r(h,e.name),R(typeof z=="boolean",e,"internal-error"),R(typeof ke=="boolean",e,"internal-error"),_r(p,e.name),_r(g,e.name),_r(I,e.name),_r(y,e.name),_r(E,e.name),_r(Y,e.name);let Nr=new t({uid:Z,auth:e,email:h,emailVerified:z,displayName:d,isAnonymous:ke,photoURL:g,phoneNumber:p,tenantId:I,stsTokenManager:Ii,createdAt:E,lastLoginAt:Y});return le&&Array.isArray(le)&&(Nr.providerData=le.map(wi=>Object.assign({},wi))),y&&(Nr._redirectEventId=y),Nr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new aa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Eb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new aa;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ua(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var nb=new Map;function xn(t){Ir(t instanceof Function,"Expected a class definition");let e=nb.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nb.set(t,e),e)}var xL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),fm=xL;function ml(t,e,n){return`firebase:${t}:${e}:${n}`}var El=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ml(this.userKey,i.apiKey,s),this.fullPersistenceKey=ml("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(xn(fm),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||xn(fm),o=ml(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Ts._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function rb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(Ab(e))return"Webos";if(Mm(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Tb(t=Ee()){return/firefox\//i.test(t)}function Mm(t=Ee()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(t=Ee()){return/crios\//i.test(t)}function bb(t=Ee()){return/iemobile/i.test(t)}function Cb(t=Ee()){return/android/i.test(t)}function Sb(t=Ee()){return/blackberry/i.test(t)}function Ab(t=Ee()){return/webos/i.test(t)}function xl(t=Ee()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ML(t=Ee()){var e;return xl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PL(){return OD()&&document.documentMode===10}function Rb(t=Ee()){return xl(t)||Cb(t)||Ab(t)||Sb(t)||/windows phone/i.test(t)||bb(t)}function OL(){try{return!!(window&&window!==window.top)}catch{return!1}}function Nb(t,e=[]){let n;switch(t){case"Browser":n=rb(Ee());break;case"Worker":n=`${rb(Ee())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vr}/${r}`}var pm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function kL(n){return f(this,arguments,function*(t,e={}){return On(t,"GET","/v2/passwordPolicy",Pn(t,e))})}var FL=6,gm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var mm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tl(this),this.idTokenSubscription=new Tl(this),this.beforeStateQueue=new pm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield El.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield wb(this,{idToken:e}),r=yield Ts._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Ut(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield wl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wL()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Ut(this.app))return Promise.reject(Mn(this));let n=e?ot(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Ut(this.app)?Promise.reject(Mn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ut(this.app)?Promise.reject(Mn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(xn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield kL(this),n=new gm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&xn(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield El.create(this,[xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wr(t){return ot(t)}var Tl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VD(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ml={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(t){Ml=t}function xb(t){return Ml.loadJS(t)}function VL(){return Ml.recaptchaEnterpriseScript}function UL(){return Ml.gapiScript}function Mb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var jL="recaptcha-enterprise",BL="NO_RECAPTCHA",ym=class{constructor(e){this.type=jL,this.auth=wr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){bL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new dm(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;eb(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(BL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=VL();c.length!==0&&(c+=a),xb(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function ib(t,e,n,r=!1){return f(this,null,function*(){let i=new ym(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Dl(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield ib(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield ib(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Pm(t,e){let n=ia(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Yr(s,e??{}))return i;rn(i,"already-initialized")}return n.initialize({options:e})}function $L(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Om(t,e,n){let r=wr(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Pb(e),{host:o,port:a}=qL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||HL()}function Pb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qL(t){let e=Pb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:sb(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:sb(o)}}}function sb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function HL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var la=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}};function zL(t,e){return f(this,null,function*(){return On(t,"POST","/v1/accounts:signUp",e)})}function GL(t,e){return f(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithPassword",Pn(t,e))})}function WL(t,e){return f(this,null,function*(){return On(t,"POST","/v1/accounts:sendOobCode",Pn(t,e))})}function KL(t,e){return f(this,null,function*(){return WL(t,e)})}function QL(t,e){return f(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithEmailLink",Pn(t,e))})}function YL(t,e){return f(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithEmailLink",Pn(t,e))})}var da=class t extends la{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dl(e,n,"signInWithPassword",GL);case"emailLink":return QL(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dl(e,r,"signUpPassword",zL);case"emailLink":return YL(e,{idToken:n,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function am(t,e){return f(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithIdp",Pn(t,e))})}function JL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZL(t){let e=ys(vs(t)).link,n=e?ys(vs(e)).deep_link_id:null,r=ys(vs(t)).deep_link_id;return(r?ys(vs(r)).link:null)||r||n||e||t}var bl=class t{constructor(e){var n,r,i,s,o,a;let c=ys(vs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=JL((i=c.mode)!==null&&i!==void 0?i:null);R(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=ZL(e);try{return new t(n)}catch{return null}}};var Ob=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return da._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=bl.parseLink(r);return R(i,"argument-error"),da._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Cl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vm=class extends Cl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function XL(t,e){return f(this,null,function*(){return fa(t,"POST","/v1/accounts:signUp",Pn(t,e))})}var Ds=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield Ts._fromIdTokenResponse(e,r,i),o=ob(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ob(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ob(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var _m=class t extends pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function kb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,s,e,r):s})}function eV(t,e,n=!1){return f(this,null,function*(){let r=yield ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ds._forOperation(t,"link",r)})}function tV(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Ut(r.app))return Promise.reject(Mn(r));let i="reauthenticate";try{let s=yield ca(t,kb(r,i,e,t),n);R(s.idToken,r,"internal-error");let o=Nm(s.idToken);R(o,r,"internal-error");let{sub:a}=o;return R(t.uid===a,r,"user-mismatch"),Ds._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rn(r,"user-mismatch"),s}})}function Fb(t,e,n=!1){return f(this,null,function*(){if(Ut(t.app))return Promise.reject(Mn(t));let r="signIn",i=yield kb(t,r,e),s=yield Ds._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function km(t,e){return f(this,null,function*(){return Fb(wr(t),e)})}function nV(t,e,n){var r;R(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),R(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(R(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(R(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Lb(t){return f(this,null,function*(){let e=wr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Fm(t,e,n){return f(this,null,function*(){let r=wr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&nV(r,i,n),yield Dl(r,i,"getOobCode",KL)})}function Lm(t,e,n){return f(this,null,function*(){if(Ut(t.app))return Promise.reject(Mn(t));let r=wr(t),o=yield Dl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Lb(t),c}),a=yield Ds._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Vm(t,e,n){return Ut(t.app)?Promise.reject(Mn(t)):km(ot(t),Ob.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Lb(t),r}))}function Um(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function jm(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}var Sl="__sak";var Al=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function rV(){let t=Ee();return Mm(t)||xl(t)}var iV=1e3,sV=10,oV=(()=>{class t extends Al{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=rV()&&OL(),this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);PL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,sV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Vb=oV;var aV=(()=>{class t extends Al{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Bm=aV;function cV(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var uV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield cV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ub(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Im=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Ub("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function nn(){return window}function lV(t){nn().location.href=t}function jb(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}function dV(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function hV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fV(){return jb()?self:null}var Bb="firebaseLocalStorageDb",pV=1,Rl="firebaseLocalStorage",$b="fbase_key",ii=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pl(t,e){return t.transaction([Rl],e?"readwrite":"readonly").objectStore(Rl)}function gV(){let t=indexedDB.deleteDatabase(Bb);return new ii(t).toPromise()}function wm(){let t=indexedDB.open(Bb,pV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Rl,{keyPath:$b})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Rl)?e(r):(r.close(),yield gV(),e(yield wm()))}))})}function ab(t,e,n){return f(this,null,function*(){let r=Pl(t,!0).put({[$b]:e,value:n});return new ii(r).toPromise()})}function mV(t,e){return f(this,null,function*(){let n=Pl(t,!1).get(e),r=yield new ii(n).toPromise();return r===void 0?null:r.value})}function cb(t,e){let n=Pl(t,!0).delete(e);return new ii(n).toPromise()}var yV=800,vV=3,_V=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield wm(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>vV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return jb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=uV._getInstance(fV()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield dV(),!this.activeServiceWorker)return;this.sender=new Im(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||hV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield wm();return yield ab(n,Sl,"1"),yield cb(n,Sl),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>ab(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>mV(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>cb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=Pl(s,!1).getAll();return new ii(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),yV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),qb=_V;var e6=Mb("rcb"),t6=new ri(3e4,6e4);function IV(t,e){return e?xn(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ha=class extends la{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return am(e,this._buildIdpRequest())}_linkToIdToken(e,n){return am(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return am(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function wV(t){return Fb(t.auth,new ha(t),t.bypassAuthState)}function EV(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),tV(n,new ha(t),t.bypassAuthState)}function TV(t){return f(this,null,function*(){let{auth:e,user:n}=t;return R(n,e,"internal-error"),eV(n,new ha(t),t.bypassAuthState)})}var Em=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wV;case"linkViaPopup":case"linkViaRedirect":return TV;case"reauthViaPopup":case"reauthViaRedirect":return EV;default:rn(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var n6=new ri(2e3,1e4);var DV="pendingRedirect",yl=new Map,Tm=class t extends Em{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=yl.get(this.auth._key());if(!e){try{let r=(yield bV(this.resolver,this.auth))?yield jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yl.set(this.auth._key(),e)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function bV(t,e){return f(this,null,function*(){let n=AV(e),r=SV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function CV(t,e){yl.set(t._key(),e)}function SV(t){return xn(t._redirectPersistence)}function AV(t){return ml(DV,t.config.apiKey,t.name)}function RV(t,e,n=!1){return f(this,null,function*(){if(Ut(t.app))return Promise.reject(Mn(t));let r=wr(t),i=IV(r,e),o=yield new Tm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var NV=10*60*1e3,Dm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ub(e))}saveEventToCache(e){this.cachedEventUids.add(ub(e)),this.lastProcessedEventTime=Date.now()}};function ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(t);default:return!1}}function MV(n){return f(this,arguments,function*(t,e={}){return On(t,"GET","/v1/projects",e)})}var PV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OV=/^https?/;function kV(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield MV(t);for(let n of e)try{if(FV(n))return}catch{}rn(t,"unauthorized-domain")})}function FV(t){let e=um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!OV.test(n))return!1;if(PV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LV=new ri(3e4,6e4);function lb(){let t=nn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VV(t){return new Promise((e,n)=>{var r,i,s;function o(){lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lb(),n(ni(t,"network-request-failed"))},timeout:LV.get()})}if(!((i=(r=nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nn().gapi)===null||s===void 0)&&s.load)o();else{let a=Mb("iframefcb");return nn()[a]=()=>{gapi.load?o():n(ni(t,"network-request-failed"))},xb(`${UL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vl=null,e})}var vl=null;function UV(t){return vl=vl||VV(t),vl}var jV=new ri(5e3,15e3),BV="__/auth/iframe",$V="emulator/auth/iframe",qV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zV(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Am(e,$V):`https://${t.config.authDomain}/${BV}`,r={apiKey:e.apiKey,appName:t.name,v:vr},i=HV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ta(r).slice(1)}`}function GV(t){return f(this,null,function*(){let e=yield UV(t),n=nn().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:zV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qV,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ni(t,"network-request-failed"),a=nn().setTimeout(()=>{s(o)},jV.get());function c(){nn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var WV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KV=500,QV=600,YV="_blank",JV="http://localhost",Nl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZV(t,e,n,r=KV,i=QV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},WV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ee().toLowerCase();n&&(a=Db(u)?YV:n),Tb(u)&&(e=e||JV,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(ML(u)&&a!=="_self")return XV(e||"",a),new Nl(null);let d=window.open(e||"",a,l);R(d,t,"popup-blocked");try{d.focus()}catch{}return new Nl(d)}function XV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var eU="__/auth/handler",tU="emulator/auth/handler",nU=encodeURIComponent("fac");function db(t,e,n,r,i,s){return f(this,null,function*(){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vr,eventId:i};if(e instanceof Cl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof vm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${nU}=${encodeURIComponent(c)}`:"";return`${rU(t)}?${ta(a).slice(1)}${u}`})}function rU({config:t}){return t.emulator?Am(t,tU):`https://${t.authDomain}/${eU}`}var cm="webStorageSupport",bm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bm,this._completeRedirectFn=RV,this._overrideRedirectResult=CV}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield db(e,n,r,um(),i);return ZV(e,o,Ub())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield db(e,n,r,um(),i);return lV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield GV(e),r=new Dm(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[cm];o!==void 0&&n(!!o),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Mm()||xl()}},zb=bm;var hb="@firebase/auth",fb="1.7.2";var Cm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function iU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sU(t){yr(new bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(t)},u=new mm(r,i,s,c);return $L(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yr(new bt("auth-internal",e=>{let n=wr(e.getProvider("auth").getImmediate());return(r=>new Cm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(hb,fb,iU(t)),Te(hb,fb,"esm2017")}var oU=5*60,aU=Bg("authIdTokenMaxAge")||oU,pb=null,cU=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aU)return;let i=n?.token;pb!==i&&(pb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function $m(t=_s()){let e=ia(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Pm(t,{popupRedirectResolver:zb,persistence:[qb,Vb,Bm]}),r=Bg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=cU(s.toString());jm(n,o,()=>o(n.currentUser)),Um(n,a=>o(a))}}let i=Ug("auth");return i&&Om(n,`http://${i}`),n}function uU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ni("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sU("Browser");var Gb="auth",si=class{constructor(e){return e}},pa=class{constructor(){return sa(Gb)}};var qm=new C("angularfire2.auth-instances");function XU(t,e){let n=hl(Gb,t,e);return n&&new si(n)}function ej(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new si(r)}}var tj={provide:pa,deps:[[new Ve,qm]]},nj={provide:si,useFactory:XU,deps:[[new Ve,qm],Rn]},rj=(()=>{class t{constructor(){Te("angularfire",ei.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Je({type:t});static \u0275inj=Ye({providers:[nj,tj]})}return t})();function U6(t,...e){return{ngModule:rj,providers:[{provide:qm,useFactory:ej(t),multi:!0,deps:[W,be,Es,ti,[new Ve,ws],...e]}]}}var Wb=Ct(Lm,!0);var j6=Ct($m,!0);var Kb=Ct(Fm,!0);var Qb=Ct(Vm,!0);var sj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bt={},w,dy=dy||{},P=sj||self;function Wl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Aa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oj(t){return Object.prototype.hasOwnProperty.call(t,Hm)&&t[Hm]||(t[Hm]=++aj)}var Hm="closure_uid_"+(1e9*Math.random()>>>0),aj=0;function cj(t,e,n){return t.call.apply(t.bind,arguments)}function uj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Be(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Be=cj:Be=uj,Be.apply(null,arguments)}function Ol(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ae(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Er(){this.s=this.s,this.o=this.o}var lj=0;Er.prototype.s=!1;Er.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),lj!=0)&&oj(this)};Er.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var cC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Yb(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $e(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var dj=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};P.addEventListener("test",n,e),P.removeEventListener("test",n,e)}catch{}return t}();function Ia(t){return/^[\s\xa0]*$/.test(t)}function Kl(){var t=P.navigator;return t&&(t=t.userAgent)?t:""}function sn(t){return Kl().indexOf(t)!=-1}function fy(t){return fy[" "](t),t}fy[" "]=function(){};function hj(t,e){var n=e2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fj=sn("Opera"),As=sn("Trident")||sn("MSIE"),uC=sn("Edge"),Qm=uC||As,lC=sn("Gecko")&&!(Kl().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge"))&&!(sn("Trident")||sn("MSIE"))&&!sn("Edge"),pj=Kl().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge");function dC(){var t=P.document;return t?t.documentMode:void 0}var Ym;e:{if(kl="",Fl=function(){var t=Kl();if(lC)return/rv:([^\);]+)(\)|;)/.exec(t);if(uC)return/Edge\/([\d\.]+)/.exec(t);if(As)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pj)return/WebKit\/(\S+)/.exec(t);if(fj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fl&&(kl=Fl?Fl[1]:""),As&&(Ll=dC(),Ll!=null&&Ll>parseFloat(kl))){Ym=String(Ll);break e}Ym=kl}var kl,Fl,Ll,Jm;P.document&&As?(zm=dC(),Jm=zm||parseInt(Ym,10)||void 0):Jm=void 0;var zm,gj=Jm;function wa(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lC){e:{try{fy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wa.$.h.call(this)}}Ae(wa,$e);var mj={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ra="closure_listenable_"+(1e6*Math.random()|0),yj=0;function vj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++yj,this.fa=this.ia=!1}function Ql(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function py(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function _j(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function hC(t){let e={};for(let n in t)e[n]=t[n];return e}var Jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Jb.length;s++)n=Jb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yl(t){this.src=t,this.g={},this.h=0}Yl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Xm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new vj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Zm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=cC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ql(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Xm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var gy="closure_lm_"+(1e6*Math.random()|0),Gm={};function pC(t,e,n,r,i){if(r&&r.once)return mC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pC(t,e[s],n,r,i);return null}return n=vy(n),t&&t[Ra]?t.O(e,n,Aa(r)?!!r.capture:!!r,i):gC(t,e,n,!1,r,i)}function gC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Aa(i)?!!i.capture:!!i,a=yy(t);if(a||(t[gy]=a=new Yl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Ij(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ij(){function t(n){return e.call(t.src,t.listener,n)}let e=wj;return t}function mC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)mC(t,e[s],n,r,i);return null}return n=vy(n),t&&t[Ra]?t.P(e,n,Aa(r)?!!r.capture:!!r,i):gC(t,e,n,!0,r,i)}function yC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yC(t,e[s],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=vy(n),t&&t[Ra]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Xm(s,n,r,i),-1<n&&(Ql(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xm(e,n,r,i)),(n=-1<t?e[t]:null)&&my(n))}function my(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ra])Zm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yy(e))?(Zm(n,t),n.h==0&&(n.src=null,e[gy]=null)):Ql(t)}}}function vC(t){return t in Gm?Gm[t]:Gm[t]="on"+t}function wj(t,e){if(t.fa)t=!0;else{e=new wa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&my(t),t=n.call(r,e)}return t}function yy(t){return t=t[gy],t instanceof Yl?t:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function vy(t){return typeof t=="function"?t:(t[Wm]||(t[Wm]=function(e){return t.handleEvent(e)}),t[Wm])}function Se(){Er.call(this),this.i=new Yl(this),this.S=this,this.J=null}Ae(Se,Er);Se.prototype[Ra]=!0;Se.prototype.removeEventListener=function(t,e,n,r){yC(this,t,e,n,r)};function Oe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $e(e,t);else if(e instanceof $e)e.target=e.target||t;else{var i=e;e=new $e(r,t),fC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Vl(o,r,!0,e)&&i}if(o=e.g=t,i=Vl(o,r,!0,e)&&i,i=Vl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Vl(o,r,!1,e)&&i}Se.prototype.N=function(){if(Se.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ql(n[r]);delete t.g[e],t.h--}}this.J=null};Se.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Se.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Vl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Zm(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var _y=P.JSON.stringify,ey=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Ej(){var t=Iy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ty=class{constructor(){this.h=this.g=null}add(e,n){let r=_C.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_C=new ey(()=>new ny,t=>t.reset()),ny=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Tj(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Dj(t){P.setTimeout(()=>{throw t},0)}var Ea,Ta=!1,Iy=new ty,IC=()=>{let t=P.Promise.resolve(void 0);Ea=()=>{t.then(bj)}},bj=()=>{for(var t;t=Ej();){try{t.h.call(t.g)}catch(n){Dj(n)}var e=_C;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ta=!1};function Jl(t,e){Se.call(this),this.h=t||1,this.g=e||P,this.j=Be(this.qb,this),this.l=Date.now()}Ae(Jl,Se);w=Jl.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oe(this,"tick"),this.ga&&(wy(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){Jl.$.N.call(this),wy(this),delete this.g};function Ey(t,e,n){if(typeof t=="function")n&&(t=Be(t,n));else if(t&&typeof t.handleEvent=="function")t=Be(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}function wC(t){t.g=Ey(()=>{t.g=null,t.i&&(t.i=!1,wC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var ry=class extends Er{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wC(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Da(t){Er.call(this),this.h=t,this.g={}}Ae(Da,Er);var Zb=[];function EC(t,e,n,r){Array.isArray(n)||(n&&(Zb[0]=n.toString()),n=Zb);for(var i=0;i<n.length;i++){var s=pC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function TC(t){py(t.g,function(e,n){this.g.hasOwnProperty(n)&&my(e)},t),t.g={}}Da.prototype.N=function(){Da.$.N.call(this),TC(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zl(){this.g=!0}Zl.prototype.Ea=function(){this.g=!1};function Cj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Sj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Cs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Rj(t,n)+(r?" "+r:"")})}function Aj(t,e){t.info(function(){return"TIMEOUT: "+e})}Zl.prototype.info=function(){};function Rj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _y(n)}catch{return e}}var ui={},Xb=null;function Xl(){return Xb=Xb||new Se}ui.Ta="serverreachability";function DC(t){$e.call(this,ui.Ta,t)}Ae(DC,$e);function ba(t){let e=Xl();Oe(e,new DC(e))}ui.STAT_EVENT="statevent";function bC(t,e){$e.call(this,ui.STAT_EVENT,t),this.stat=e}Ae(bC,$e);function Ze(t){let e=Xl();Oe(e,new bC(e,t))}ui.Ua="timingevent";function CC(t,e){$e.call(this,ui.Ua,t),this.size=e}Ae(CC,$e);function Na(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){t()},e)}var ed={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ty(){}Ty.prototype.h=null;function eC(t){return t.h||(t.h=t.i())}function AC(){}var xa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dy(){$e.call(this,"d")}Ae(Dy,$e);function by(){$e.call(this,"c")}Ae(by,$e);var iy;function td(){}Ae(td,Ty);td.prototype.g=function(){return new XMLHttpRequest};td.prototype.i=function(){return{}};iy=new td;function Ma(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Da(this),this.P=Nj,t=Qm?125:void 0,this.V=new Jl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RC}function RC(){this.i=null,this.g="",this.h=!1}var Nj=45e3,NC={},sy={};w=Ma.prototype;w.setTimeout=function(t){this.P=t};function oy(t,e,n){t.L=1,t.A=rd(Fn(e)),t.u=n,t.S=!0,xC(t,null)}function xC(t,e){t.G=Date.now(),Pa(t),t.B=Fn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),UC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new RC,t.g=o0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new ry(Be(t.Pa,t,t.g),t.O)),EC(t.U,t.g,"readystatechange",t.nb),e=t.I?hC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ba(),Cj(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&on(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=on(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Qm||this.g&&(this.h.h||this.g.ja()||iC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ba(3):ba(2)),nd(this);var n=this.g.da();this.ca=n;t:if(MC(this)){var r=iC(this.g);t="";var i=r.length,s=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),_a(this);var o="";break t}this.h.i=new P.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Sj(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ia(a)){var u=a;break t}}u=null}if(n=u)Cs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ay(this,n);else{this.i=!1,this.s=3,Ze(12),oi(this),_a(this);break e}}this.S?(PC(this,l,o),Qm&&this.i&&l==3&&(EC(this.U,this.V,"tick",this.mb),this.V.start())):(Cs(this.j,this.m,o,null),ay(this,o)),l==4&&oi(this),this.i&&!this.J&&(l==4?n0(this.l,this):(this.i=!1,Pa(this)))}else Jj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),oi(this),_a(this)}}}catch{}finally{}};function MC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function PC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=xj(t,n),i==sy){e==4&&(t.s=4,Ze(14),r=!1),Cs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==NC){t.s=4,Ze(15),Cs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Cs(t.j,t.m,i,null),ay(t,i);MC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ze(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xy(e),e.M=!0,Ze(11))):(Cs(t.j,t.m,n,"[Invalid Chunked Response]"),oi(t),_a(t))}w.mb=function(){if(this.g){var t=on(this.g),e=this.g.ja();this.o<e.length&&(nd(this),PC(this,t,e),this.i&&t!=4&&Pa(this))}};function xj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?sy:(n=Number(e.substring(n,r)),isNaN(n)?NC:(r+=1,r+n>e.length?sy:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,oi(this)};function Pa(t){t.Y=Date.now()+t.P,OC(t,t.P)}function OC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Na(Be(t.lb,t),e)}function nd(t){t.C&&(P.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Aj(this.j,this.B),this.L!=2&&(ba(),Ze(17)),oi(this),this.s=2,_a(this)):OC(this,this.Y-t)};function _a(t){t.l.H==0||t.J||n0(t.l,t)}function oi(t){nd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,wy(t.V),TC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ay(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cy(n.i,t))){if(!t.K&&cy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ql(n),od(n);else break e;Ny(n),Ze(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Na(Be(n.ib,n),6e3));if(1>=$C(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ai(n,11)}else if((t.K||n.g==t)&&ql(n),!Ia(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cy(s,s.h),s.h=null))}if(r.F){let I=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,ie(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=s0(r,r.J?r.pa:null,r.Y),o.K){qC(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(nd(a),Pa(a)),r.g=o}else e0(r);0<n.j.length&&ad(n)}else u[0]!="stop"&&u[0]!="close"||ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ai(n,7):Ry(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ba(4)}catch{}}function Mj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Pj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function kC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Pj(t),r=Mj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var FC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ci){this.h=t.h,Bl(this,t.j),this.s=t.s,this.g=t.g,$l(this,t.m),this.l=t.l;var e=t.i,n=new Ca;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tC(this,n),this.o=t.o}else t&&(e=String(t).match(FC))?(this.h=!1,Bl(this,e[1]||"",!0),this.s=ya(e[2]||""),this.g=ya(e[3]||"",!0),$l(this,e[4]),this.l=ya(e[5]||"",!0),tC(this,e[6]||"",!0),this.o=ya(e[7]||"")):(this.h=!1,this.i=new Ca(null,this.h))}ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(va(e,nC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(va(e,nC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(va(n,n.charAt(0)=="/"?Lj:Fj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",va(n,Uj)),t.join("")};function Fn(t){return new ci(t)}function Bl(t,e,n){t.j=n?ya(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tC(t,e,n){e instanceof Ca?(t.i=e,jj(t.i,t.h)):(n||(e=va(e,Vj)),t.i=new Ca(e,t.h))}function ie(t,e,n){t.i.set(e,n)}function rd(t){return ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ya(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function va(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nC=/[#\/\?@]/g,Fj=/[#\?:]/g,Lj=/[#\?]/g,Vj=/[#\?@]/g,Uj=/#/g;function Ca(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tr(t){t.g||(t.g=new Map,t.h=0,t.i&&Oj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=Ca.prototype;w.add=function(t,e){Tr(this),this.i=null,t=Rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LC(t,e){Tr(t),e=Rs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VC(t,e){return Tr(t),e=Rs(t,e),t.g.has(e)}w.forEach=function(t,e){Tr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){Tr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){Tr(this);let e=[];if(typeof t=="string")VC(this,t)&&(e=e.concat(this.g.get(Rs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return Tr(this),this.i=null,t=Rs(this,t),VC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function UC(t,e,n){LC(t,e),0<n.length&&(t.i=null,t.g.set(Rs(t,e),hy(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jj(t,e){e&&!t.j&&(Tr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LC(this,r),UC(this,i,n))},t)),t.j=e}var Bj=class{constructor(t,e){this.g=t,this.map=e}};function jC(t){this.l=t||$j,P.PerformanceNavigationTiming?(t=P.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(P.g&&P.g.Ka&&P.g.Ka()&&P.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $j=10;function BC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $C(t){return t.h?1:t.g?t.g.size:0}function cy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cy(t,e){t.g?t.g.add(e):t.h=e}function qC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jC.prototype.cancel=function(){if(this.i=HC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function HC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return hy(t.i)}var qj=class{stringify(t){return P.JSON.stringify(t,void 0)}parse(t){return P.JSON.parse(t,void 0)}};function Hj(){this.g=new qj}function zj(t,e,n){let r=n||"";try{kC(t,function(i,s){let o=i;Aa(i)&&(o=_y(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gj(t,e){let n=new Zl;if(P.Image){let r=new Image;r.onload=Ol(Ul,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ol(Ul,n,r,"TestLoadImage: error",!1,e),r.onabort=Ol(Ul,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ol(Ul,n,r,"TestLoadImage: timeout",!1,e),P.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ul(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Oa(t){this.l=t.ec||null,this.j=t.ob||!1}Ae(Oa,Ty);Oa.prototype.g=function(){return new id(this.l,this.j)};Oa.prototype.i=function(t){return function(){return t}}({});function id(t,e){Se.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ae(id,Se);var Sy=0;w=id.prototype;w.open=function(t,e){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sa(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||P).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=Sy};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function zC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ka(this):Sa(this),this.readyState==3&&zC(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,ka(this))};w.Ya=function(t){this.g&&(this.response=t,ka(this))};w.ka=function(){this.g&&ka(this)};function ka(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sa(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Wj=P.JSON.parse;function ue(t){Se.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GC,this.L=this.M=!1}Ae(ue,Se);var GC="",Kj=/^https?$/i,Qj=["POST","PUT"];w=ue.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iy.g(),this.C=this.u?eC(this.u):eC(iy),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){rC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=P.FormData&&t instanceof P.FormData,!(0<=cC(Qj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QC(this),0<this.B&&((this.L=Yj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=Ey(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rC(this,s)}};function Yj(t){return As&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))};function rC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WC(t),sd(t)}function WC(t){t.F||(t.F=!0,Oe(t,"complete"),Oe(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oe(this,"complete"),Oe(this,"abort"),sd(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),ue.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?KC(this):this.kb())};w.kb=function(){KC(this)};function KC(t){if(t.h&&typeof dy<"u"&&(!t.C[1]||on(t)!=4||t.da()!=2)){if(t.v&&on(t)==4)Ey(t.La,0,t);else if(Oe(t,"readystatechange"),on(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(FC)[1]||null;!i&&P.self&&P.self.location&&(i=P.self.location.protocol.slice(0,-1)),r=!Kj.test(i?i.toLowerCase():"")}n=r}if(n)Oe(t,"complete"),Oe(t,"success");else{t.m=6;try{var s=2<on(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",WC(t)}}finally{sd(t)}}}}function sd(t,e){if(t.g){QC(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Oe(t,"ready");try{n.onreadystatechange=r}catch{}}}function QC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(P.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function on(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Wj(e)}};function iC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Jj(t){let e={};t=(t.g&&2<=on(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ia(t[r]))continue;var n=Tj(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}_j(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YC(t){let e="";return py(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ay(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ie(t,e,n))}function ga(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JC(t){this.Ga=0,this.j=[],this.l=new Zl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ga("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ga("baseRetryDelayMs",5e3,t),this.hb=ga("retryDelaySeedMs",1e4,t),this.eb=ga("forwardChannelMaxRetries",2,t),this.xa=ga("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jC(t&&t.concurrentRequestLimit),this.Ja=new Hj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=JC.prototype;w.ra=8;w.H=1;function Ry(t){if(ZC(t),t.H==3){var e=t.W++,n=Fn(t.I);if(ie(n,"SID",t.K),ie(n,"RID",e),ie(n,"TYPE","terminate"),Fa(t,n),e=new Ma(t,t.l,e),e.L=2,e.A=rd(Fn(n)),n=!1,P.navigator&&P.navigator.sendBeacon)try{n=P.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&P.Image&&(new Image().src=e.A,n=!0),n||(e.g=o0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Pa(e)}i0(t)}function od(t){t.g&&(xy(t),t.g.cancel(),t.g=null)}function ZC(t){od(t),t.u&&(P.clearTimeout(t.u),t.u=null),ql(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&P.clearTimeout(t.m),t.m=null)}function ad(t){if(!BC(t.i)&&!t.m){t.m=!0;var e=t.Na;Ea||IC(),Ta||(Ea(),Ta=!0),Iy.add(e,t),t.C=0}}function Zj(t,e){return $C(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Na(Be(t.Na,t,e),r0(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ma(this,this.l,t),s=this.s;if(this.U&&(s?(s=hC(s),fC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XC(this,i,e),n=Fn(this.I),ie(n,"RID",t),ie(n,"CVER",22),this.F&&ie(n,"X-HTTP-Session-Id",this.F),Fa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YC(s)))+"&"+e:this.o&&Ay(n,this.o,s)),Cy(this.i,i),this.bb&&ie(n,"TYPE","init"),this.P?(ie(n,"$req",e),ie(n,"SID","null"),i.aa=!0,oy(i,n,null)):oy(i,n,e),this.H=2}}else this.H==3&&(t?sC(this,t):this.j.length==0||BC(this.i)||sC(this))};function sC(t,e){var n;e?n=e.m:n=t.W++;let r=Fn(t.I);ie(r,"SID",t.K),ie(r,"RID",n),ie(r,"AID",t.V),Fa(t,r),t.o&&t.s&&Ay(r,t.o,t.s),n=new Ma(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cy(t.i,n),oy(n,r,e)}function Fa(t,e){t.na&&py(t.na,function(n,r){ie(e,r,n)}),t.h&&kC({},function(n,r){ie(e,r,n)})}function XC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Be(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{zj(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function e0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ea||IC(),Ta||(Ea(),Ta=!0),Iy.add(e,t),t.A=0}}function Ny(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Na(Be(t.Ma,t),r0(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,t0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Na(Be(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ze(10),od(this),t0(this))};function xy(t){t.B!=null&&(P.clearTimeout(t.B),t.B=null)}function t0(t){t.g=new Ma(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fn(t.wa);ie(e,"RID","rpc"),ie(e,"SID",t.K),ie(e,"AID",t.V),ie(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ie(e,"TO",t.qa),ie(e,"TYPE","xmlhttp"),Fa(t,e),t.o&&t.s&&Ay(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rd(Fn(e)),n.u=null,n.S=!0,xC(n,t)}w.ib=function(){this.v!=null&&(this.v=null,od(this),Ny(this),Ze(19))};function ql(t){t.v!=null&&(P.clearTimeout(t.v),t.v=null)}function n0(t,e){var n=null;if(t.g==e){ql(t),xy(t),t.g=null;var r=2}else if(cy(t.i,e))n=e.F,qC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Xl(),Oe(r,new CC(r,n)),ad(t)}else e0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Zj(t,e)||r==2&&Ny(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ai(t,5);break;case 4:ai(t,10);break;case 3:ai(t,6);break;default:ai(t,2)}}}function r0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Be(t.pb,t);n||(n=new ci("//www.google.com/images/cleardot.gif"),P.location&&P.location.protocol=="http"||Bl(n,"https"),rd(n)),Gj(n.toString(),r)}else Ze(2);t.H=0,t.h&&t.h.za(e),i0(t),ZC(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ze(2)):(this.l.info("Failed to ping google.com"),Ze(1))};function i0(t){if(t.H=0,t.ma=[],t.h){let e=HC(t.i);(e.length!=0||t.j.length!=0)&&(Yb(t.ma,e),Yb(t.ma,t.j),t.i.i.length=0,hy(t.j),t.j.length=0),t.h.ya()}}function s0(t,e,n){var r=n instanceof ci?Fn(n):new ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),$l(r,r.m);else{var i=P.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ci(null);r&&Bl(s,r),e&&(s.g=e),i&&$l(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ie(r,n,e),ie(r,"VER",t.ra),Fa(t,r),r}function o0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ue(new Oa({ob:n})):new ue(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function a0(){}w=a0.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function Hl(){if(As&&!(10<=Number(gj)))throw Error("Environmental error: no available transport.")}Hl.prototype.g=function(t,e){return new gt(t,e)};function gt(t,e){Se.call(this),this.g=new JC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ia(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ia(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ns(this)}Ae(gt,Se);gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ze(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=s0(t,null,t.Y),ad(t)};gt.prototype.close=function(){Ry(this.g)};gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_y(t),t=n);e.j.push(new Bj(e.fb++,t)),e.H==3&&ad(e)};gt.prototype.N=function(){this.g.h=null,delete this.j,Ry(this.g),delete this.g,gt.$.N.call(this)};function c0(t){Dy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ae(c0,Dy);function u0(){by.call(this),this.status=1}Ae(u0,by);function Ns(t){this.g=t}Ae(Ns,a0);Ns.prototype.Ba=function(){Oe(this.g,"a")};Ns.prototype.Aa=function(t){Oe(this.g,new c0(t))};Ns.prototype.za=function(t){Oe(this.g,new u0)};Ns.prototype.ya=function(){Oe(this.g,"b")};function Xj(){this.blockSize=-1}function jt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ae(jt,Xj);jt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Km(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}jt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Km(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Km(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Km(this,r),i=0;break}}this.h=i,this.i+=e};jt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var e2={};function My(t){return-128<=t&&128>t?hj(t,function(e){return new ee([e|0],0>e?-1:0)}):new ee([t|0],0>t?-1:0)}function an(t){if(isNaN(t)||!isFinite(t))return Ss;if(0>t)return Pe(an(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=uy;return new ee(e,0)}function l0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pe(l0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=an(Math.pow(e,8)),r=Ss,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=an(Math.pow(e,s)),r=r.R(s).add(an(o))):(r=r.R(n),r=r.add(an(o)))}return r}var uy=4294967296,Ss=My(0),ly=My(1),oC=My(16777216);w=ee.prototype;w.ea=function(){if(St(this))return-Pe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:uy+r)*e,e*=uy}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(kn(this))return"0";if(St(this))return"-"+Pe(this).toString(t);for(var e=an(Math.pow(t,6)),n=this,r="";;){var i=Gl(n,e).g;n=zl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,kn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function kn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function St(t){return t.h==-1}w.X=function(t){return t=zl(this,t),St(t)?-1:kn(t)?0:1};function Pe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ee(n,~t.h).add(ly)}w.abs=function(){return St(this)?Pe(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ee(n,n[n.length-1]&-2147483648?-1:0)};function zl(t,e){return t.add(Pe(e))}w.R=function(t){if(kn(this)||kn(t))return Ss;if(St(this))return St(t)?Pe(this).R(Pe(t)):Pe(Pe(this).R(t));if(St(t))return Pe(this.R(Pe(t)));if(0>this.X(oC)&&0>t.X(oC))return an(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,jl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,jl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,jl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,jl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ee(n,0)};function jl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ma(t,e){this.g=t,this.h=e}function Gl(t,e){if(kn(e))throw Error("division by zero");if(kn(t))return new ma(Ss,Ss);if(St(t))return e=Gl(Pe(t),e),new ma(Pe(e.g),Pe(e.h));if(St(e))return e=Gl(t,Pe(e)),new ma(Pe(e.g),e.h);if(30<t.g.length){if(St(t)||St(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ly,r=e;0>=r.X(t);)n=aC(n),r=aC(r);var i=bs(n,1),s=bs(r,1);for(r=bs(r,2),n=bs(n,2);!kn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=bs(r,1),n=bs(n,1)}return e=zl(t,i.R(e)),new ma(i,e)}for(i=Ss;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=an(n),o=s.R(e);St(o)||0<o.X(t);)n-=r,s=an(n),o=s.R(e);kn(s)&&(s=ly),i=i.add(s),t=zl(t,o)}return new ma(i,t)}w.gb=function(t){return Gl(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ee(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ee(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ee(n,this.h^t.h)};function aC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ee(n,t.h)}function bs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ee(i,t.h)}Hl.prototype.createWebChannel=Hl.prototype.g;gt.prototype.send=gt.prototype.u;gt.prototype.open=gt.prototype.m;gt.prototype.close=gt.prototype.close;ed.NO_ERROR=0;ed.TIMEOUT=8;ed.HTTP_ERROR=6;SC.COMPLETE="complete";AC.EventType=xa;xa.OPEN="a";xa.CLOSE="b";xa.ERROR="c";xa.MESSAGE="d";Se.prototype.listen=Se.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;jt.prototype.digest=jt.prototype.l;jt.prototype.reset=jt.prototype.reset;jt.prototype.update=jt.prototype.j;ee.prototype.add=ee.prototype.add;ee.prototype.multiply=ee.prototype.R;ee.prototype.modulo=ee.prototype.gb;ee.prototype.compare=ee.prototype.X;ee.prototype.toNumber=ee.prototype.ea;ee.prototype.toString=ee.prototype.toString;ee.prototype.getBits=ee.prototype.D;ee.fromNumber=an;ee.fromString=l0;var d0=Bt.createWebChannelTransport=function(){return new Hl},h0=Bt.getStatEventTarget=function(){return Xl()},cd=Bt.ErrorCode=ed,f0=Bt.EventType=SC,p0=Bt.Event=ui,Py=Bt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},g0=Bt.FetchXmlHttpFactory=Oa,La=Bt.WebChannel=AC,m0=Bt.XhrIo=ue,t2=Bt.Md5=jt,y0=Bt.Integer=ee;var v0="@firebase/firestore";var Re=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");var Ws="10.11.1";var fi=new gr("@firebase/firestore");function Va(){return fi.logLevel}function S(t,...e){if(fi.logLevel<=q.DEBUG){let n=e.map(n_);fi.debug(`Firestore (${Ws}): ${t}`,...n)}}function pi(t,...e){if(fi.logLevel<=q.ERROR){let n=e.map(n_);fi.error(`Firestore (${Ws}): ${t}`,...n)}}function pd(t,...e){if(fi.logLevel<=q.WARN){let n=e.map(n_);fi.warn(`Firestore (${Ws}): ${t}`,...n)}}function n_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t="Unexpected state"){let e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+t;throw pi(e),new Error(e)}function xe(t,e){t||H()}function se(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ln=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Re.UNAUTHENTICATED))}shutdown(){}},Vy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Uy=class{constructor(e){this.t=e,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Re(e)}},jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},By=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$y=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new $y(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function n2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var md=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=n2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Os(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ie=class t extends yd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new x(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mt=class t extends yd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return r2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new x(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new x(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ie.fromString(e))}static fromName(e){return new t(Ie.fromString(e).popFirst(5))}static empty(){return new t(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ie(e.slice()))}};var Hy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hy.UNKNOWN_ID=-1;function i2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new gi(i,j.empty(),e)}function s2(t){return new gi(t.readTime,t.key,-1)}var gi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),j.empty(),-1)}static max(){return new t(fe.max(),j.empty(),-1)}};function o2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var a2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function V0(t){return f(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==a2)throw t;S("LocalStore","Unexpectedly lost primary lease")})}var _=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function c2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Od(t){return t.name==="IndexedDbTransactionError"}var u2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function r_(t){return t==null}function Ha(t){return t===0&&1/t==-1/0}function l2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ha(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var d2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J6=[...d2,"documentOverlays"],h2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f2=h2,Z6=[...f2,"indexConfiguration","indexState","indexEntries"];function _0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var yt=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ms(this.root,e,this.comparator,!0)}},Ms=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();let e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vd(this.data.getIterator())}getIteratorFrom(e){return new vd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},vd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class t{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Gy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var br=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};br.EMPTY_BYTE_STRING=new br("");var p2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(xe(!!t),typeof t=="string"){let e=0,n=p2.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}function i_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function j0(t){let e=t.mapValue.fields.__previous_value__;return i_(e)?j0(e):e}function _d(t){let e=Cr(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}var Wy=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ky=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:B0(t)?9007199254740991:10:H()}function hn(t,e){if(t===e)return!0;let n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Cr(i.timestampValue),a=Cr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ks(i.bytesValue).isEqual(ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=De(i.doubleValue),a=De(s.doubleValue);return o===a?Ha(o)===Ha(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Os(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_0(o)!==_0(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!hn(o[c],a[c])))return!1;return!0}(t,e);default:return H()}}function za(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;let n=Fs(t),r=Fs(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=De(s.integerValue||s.doubleValue),c=De(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return I0(t.timestampValue,e.timestampValue);case 4:return I0(_d(t),_d(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ks(s),c=ks(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=re(a[u],c[u]);if(l!==0)return l}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=re(De(s.latitude),De(o.latitude));return a!==0?a:re(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ls(a[u],c[u]);if(l)return l}return re(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ud.mapValue&&o===ud.mapValue)return 0;if(s===ud.mapValue)return 1;if(o===ud.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=re(c[d],l[d]);if(h!==0)return h;let p=Ls(a[c[d]],u[l[d]]);if(p!==0)return p}return re(c.length,l.length)}(t.mapValue,e.mapValue);default:throw H()}}function I0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=Cr(t),r=Cr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Vs(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Qy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Qy(n.fields[o])}`;return i+"}"}(t.mapValue):H()}function Yy(t){return!!t&&"integerValue"in t}function s_(t){return!!t&&"arrayValue"in t}function hd(t){return!!t&&"mapValue"in t}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ja(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ja(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ja(this.value))}};function $0(t){let e=[];return Qa(t.fields,(n,r)=>{let i=new mt([n]);if(hd(r)){let s=$0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}var Us=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var js=class{constructor(e,n){this.position=e,this.inclusive=n}};function w0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}var Bs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function g2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Id=class{},Ne=class t extends Id{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zy(e,n,r):n==="array-contains"?new tv(e,r):n==="in"?new nv(e,r):n==="not-in"?new rv(e,r):n==="array-contains-any"?new iv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Xy(e,r):new ev(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sr=class t extends Id{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return q0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function q0(t){return t.op==="and"}function H0(t){return m2(t)&&q0(t)}function m2(t){for(let e of t.filters)if(e instanceof Sr)return!1;return!0}function Jy(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(H0(t))return t.filters.map(e=>Jy(e)).join(",");{let e=t.filters.map(n=>Jy(n)).join(",");return`${t.op}(${e})`}}function z0(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&hn(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&z0(o,i.filters[a]),!0):!1}(t,e):void H()}function G0(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(G0).join(" ,")+"}"}(t):"Filter"}var Zy=class extends Ne{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},Xy=class extends Ne{constructor(e,n){super(e,"in",n),this.keys=W0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ev=class extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=W0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function W0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var tv=class extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return s_(n)&&za(n.arrayValue,this.value)}},nv=class extends Ne{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}},rv=class extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}},iv=class extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!s_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}};var sv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function T0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sv(t,e,n,r,i,s,o)}function o_(t){let e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),r_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function a_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E0(t.startAt,e.startAt)&&E0(t.endAt,e.endAt)}var $s=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function y2(t,e,n,r,i,s,o,a){return new $s(t,e,n,r,i,s,o,a)}function v2(t){return new $s(t)}function D0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _2(t){return t.collectionGroup!==null}function Ba(t){let e=se(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bs(s,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new Bs(mt.keyField(),r))}return e.ce}function di(t){let e=se(t);return e.le||(e.le=I2(e,Ba(t))),e.le}function I2(t,e){if(t.limitType==="F")return T0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Bs(i.field,s)});let n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return T0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ov(t,e,n){return new $s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function K0(t,e){return a_(di(t),di(e))&&t.limitType===e.limitType}function Q0(t){return`${o_(di(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G0(i)).join(", ")}]`),r_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(di(t))}; limitType=${t.limitType})`}function c_(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ba(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=w0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ba(r),i)||r.endAt&&!function(o,a,c){let u=w0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ba(r),i))}(t,e)}function w2(t){return(e,n)=>{let r=!1;for(let i of Ba(t)){let s=E2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function E2(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ls(c,u):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}};var T2=new yt(j.comparator);function wd(){return T2}var Y0=new yt(j.comparator);function ld(...t){let e=Y0;for(let n of t)e=e.insert(n.key,n);return e}function J0(t){let e=Y0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return $a()}function Z0(){return $a()}function $a(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var D2=new yt(j.comparator),b2=new Xe(j.comparator);function He(...t){let e=b2;for(let n of t)e=e.add(n);return e}var C2=new Xe(re);function S2(){return C2}function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ha(e)?"-0":e}}function eS(t){return{integerValue:""+t}}function A2(t,e){return l2(e)?eS(e):X0(t,e)}var qs=class{constructor(){this._=void 0}};function R2(t,e,n){return t instanceof mi?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&i_(s)&&(s=j0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof yi?nS(t,e):t instanceof vi?rS(t,e):function(i,s){let o=tS(i,s),a=b0(o)+b0(i.Pe);return Yy(o)&&Yy(i.Pe)?eS(a):X0(i.serializer,a)}(t,e)}function N2(t,e,n){return t instanceof yi?nS(t,e):t instanceof vi?rS(t,e):n}function tS(t,e){return t instanceof Hs?function(r){return Yy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var mi=class extends qs{},yi=class extends qs{constructor(e){super(),this.elements=e}};function nS(t,e){let n=iS(e);for(let r of t.elements)n.some(i=>hn(i,r))||n.push(r);return{arrayValue:{values:n}}}var vi=class extends qs{constructor(e){super(),this.elements=e}};function rS(t,e){let n=iS(e);for(let r of t.elements)n=n.filter(i=>!hn(i,r));return{arrayValue:{values:n}}}var Hs=class extends qs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function b0(t){return De(t.integerValue||t.doubleValue)}function iS(t){return s_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var av=class{constructor(e,n){this.field=e,this.transform=n}};function x2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yi&&i instanceof yi||r instanceof vi&&i instanceof vi?Os(r.elements,i.elements,hn):r instanceof Hs&&i instanceof Hs?hn(r.Pe,i.Pe):r instanceof mi&&i instanceof mi}(t.transform,e.transform)}var cv=class{constructor(e,n){this.version=e,this.transformResults=n}},hi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var zs=class{};function sS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ed(t.key,hi.none()):new _i(t.key,t.data,hi.none());{let n=t.data,r=un.empty(),i=new Xe(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Un(t.key,r,new ln(i.toArray()),hi.none())}}function M2(t,e,n){t instanceof _i?function(i,s,o){let a=i.value.clone(),c=S0(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Un?function(i,s,o){if(!fd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=S0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(oS(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof _i?function(s,o,a,c){if(!fd(s.precondition,o))return a;let u=s.value.clone(),l=A0(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Un?function(s,o,a,c){if(!fd(s.precondition,o))return a;let u=A0(s.fieldTransforms,c,o),l=o.data;return l.setAll(oS(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return fd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function P2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=tS(r.transform,i||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function C0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Os(r,i,(s,o)=>x2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var _i=class extends zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Un=class extends zs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function oS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function S0(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,N2(o,a,n[i]))}return r}function A0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,R2(s,o,e))}return r}var Ed=class extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uv=class extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&M2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Z0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=sS(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,r)=>C0(n,r))&&Os(this.baseMutations,e.baseMutations,(n,r)=>C0(n,r))}},dv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return D2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var hv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ve,Q;function O2(t){switch(t){default:return H();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function k2(t){if(t===void 0)return pi("GRPC error has no .code"),m.UNKNOWN;switch(t){case ve.OK:return m.OK;case ve.CANCELLED:return m.CANCELLED;case ve.UNKNOWN:return m.UNKNOWN;case ve.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case ve.INTERNAL:return m.INTERNAL;case ve.UNAVAILABLE:return m.UNAVAILABLE;case ve.UNAUTHENTICATED:return m.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case ve.NOT_FOUND:return m.NOT_FOUND;case ve.ALREADY_EXISTS:return m.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return m.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case ve.ABORTED:return m.ABORTED;case ve.OUT_OF_RANGE:return m.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return m.UNIMPLEMENTED;case ve.DATA_LOSS:return m.DATA_LOSS;default:return H()}}(Q=ve||(ve={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var e5=new y0([4294967295,4294967295],0);var fv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function pv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L2(t,e){return pv(t,e.toTimestamp())}function Ps(t){return xe(!!t),fe.fromTimestamp(function(n){let r=Cr(n);return new ze(r.seconds,r.nanos)}(t))}function aS(t,e){return gv(t,e).canonicalString()}function gv(t,e){let n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function V2(t){let e=Ie.fromString(t);return xe(G2(e)),e}function mv(t,e){return aS(t.databaseId,e.path)}function U2(t){let e=V2(t);return e.length===4?Ie.emptyPath():B2(e)}function j2(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B2(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R0(t,e,n){return{name:mv(t,e),fields:n.value.mapValue.fields}}function $2(t,e){let n;if(e instanceof _i)n={update:R0(t,e.key,e.value)};else if(e instanceof Ed)n={delete:mv(t,e.key)};else if(e instanceof Un)n={update:R0(t,e.key,e.data),updateMask:z2(e.fieldMask)};else{if(!(e instanceof uv))return H();n={verify:mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof mi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:L2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H()}(t,e.precondition)),n}function q2(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ps(i.updateTime):Ps(s);return o.isEqual(fe.min())&&(o=Ps(s)),new cv(o,i.transformResults||[])}(n,e))):[]}function H2(t){let e=U2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=cS(d);return h instanceof Sr&&H0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Bs(xs(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,r_(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new js(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new js(p,h)}(n.endAt)),y2(e,i,o,s,a,"F",c,u)}function cS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=xs(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xs(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=xs(n.unaryFilter.field);return Ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=xs(n.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>cS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H()}function xs(t){return mt.fromServerFormat(t.fieldPath)}function z2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yv=class{constructor(e){this.ut=e}};function W2(t){let e=H2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ov(e,e.limit,"L"):e}var Td=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Ha(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Cr(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ks(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?B0(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):H()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),j.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Td.St=new Td;var vv=class{constructor(){this.on=new _v}addToCollectionParentIndex(e,n){return this.on.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}deleteAllFieldIndexes(e){return _.resolve()}createTargetIndexes(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(gi.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}},_v=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Ie.comparator)).toArray()}};var t5=new Uint8Array(0);var cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var Ga=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Iv=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Us.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ev=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qa(r.mutation,i,ln.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){let i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ld();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wd(),o=$a(),a=function(){return $a()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Un)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),qa(l.mutation,u,l.mutation.getFieldMask(),ze.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new wv(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=$a(),i=new yt((o,a)=>o-a),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||ln.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||He()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Z0();l.forEach(h=>{if(!s.has(h)){let p=sS(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(li()),a=-1,c=s;return o.next(u=>_.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,He())).next(l=>({batchId:a,changes:J0(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ld();return this.indexManager.getCollectionParents(e,s).next(a=>_.forEach(a,c=>{let u=function(d,h){return new $s(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Us.newInvalidDocument(l)))});let a=ld();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&qa(l.mutation,u,ln.empty(),ze.now()),c_(n,u)&&(a=a.insert(c,u))}),a})}};var Tv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return _.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ps(i.createTime)}}(n)),_.resolve()}getNamedQuery(e,n){return _.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:W2(i.bundledQuery),readTime:Ps(i.readTime)}}(n)),_.resolve()}};var Dv=class{constructor(){this.overlays=new yt(j.comparator),this.lr=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){let r=li();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){let i=li(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=li(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=li(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return _.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hv(n,r));let s=this.lr.get(n);s===void 0&&(s=He(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Wa=class{constructor(){this.hr=new Xe(_e.Pr),this.Ir=new Xe(_e.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new _e(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _e(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new j(new Ie([])),r=new _e(n,e),i=new _e(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new j(new Ie([])),r=new _e(n,e),i=new _e(n,e+1),s=He();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new _e(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},_e=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||re(e.gr,n.gr)}static Tr(e,n){return re(e.gr,n.gr)||j.comparator(e.key,n.key)}};var bv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Xe(_e.Pr)}checkEmpty(e){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new lv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new _e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new _e(n,0),i=new _e(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(re);return n.forEach(i=>{let s=new _e(i,0),o=new _e(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),_.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;j.isDocumentKey(s)||(s=s.child(""));let o=new _e(new j(s),0),a=new Xe(re);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),_.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return _.forEach(n.mutations,i=>{let s=new _e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new _e(n,0),i=this.yr.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Cv=class{constructor(e){this.Cr=e,this.docs=function(){return new yt(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Us.newInvalidDocument(n))}getEntries(e,n){let r=wd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Us.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wd(),o=n.path,a=new j(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||o2(s2(l),r)<=0||(i.has(l.key)||c_(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}vr(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sv(this)}getSize(e){return _.resolve(this.size)}},Sv=class extends Iv{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Av=class{constructor(e){this.persistence=e,this.Fr=new Ar(n=>o_(n),a_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Wa,this.targetCount=0,this.Nr=Ga.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),_.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ga(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.kn(n),_.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),_.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Or.containsKey(n))}};var Rv=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new u2(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Av(this),this.indexManager=new vv,this.remoteDocumentCache=function(i){return new Cv(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new yv(n),this.Kr=new Tv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new bv(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);let i=new Nv(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return _.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Nv=class extends zy{constructor(e){super(),this.currentSequenceNumber=e}},xv=class t{constructor(e){this.persistence=e,this.Gr=new Wa,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw H()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),_.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Hr,r=>{let i=j.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return _.or([()=>_.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Mv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=He(),i=He();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Pv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ov=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return kD()?8:c2(Ee())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Pv;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Va()<=q.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),_.resolve()):(Va()<=q.DEBUG&&S("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Va()<=q.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):_.resolve())}zi(e,n){if(D0(n))return _.resolve(null);let r=di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ov(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=He(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,ov(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return D0(n)||i.isEqual(fe.min())?_.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?_.resolve(null):(Va()<=q.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.Xi(e,o,n,i2(i,-1)).next(a=>a))})}Yi(e,n){let r=new Xe(w2(e));return n.forEach((i,s)=>{c_(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Va()<=q.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.Gi.getDocumentsMatchingQuery(e,n,gi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var kv=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new yt(re),this.ns=new Ar(s=>o_(s),a_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ev(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function K2(t,e,n,r){return new kv(t,e,n,r)}function uS(t,e){return f(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=He();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Q2(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=_.resolve();return h.forEach(g=>{p=p.next(()=>l.getEntry(c,g)).next(I=>{let y=u.docVersions.get(g);xe(y!==null),I.version.compareTo(y)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=He();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y2(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function J2(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Dd=class{constructor(){this.activeTargetIds=S2()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Fv=class{constructor(){this.eo=new Dd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Dd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Lv=class{ro(e){}shutdown(){}};var bd=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var dd=null;function Oy(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}var Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Vv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var qe="WebChannelConnection",Uv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=Oy(),c=this.Co(n,r.toUriEncodedString());S("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(S("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw pd("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=Z2[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=Oy();return new Promise((o,a)=>{let c=new m0;c.setWithCredentials(!0),c.listenOnce(f0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cd.NO_ERROR:let l=c.getResponseJson();S(qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case cd.TIMEOUT:S(qe,`RPC '${e}' ${s} timed out`),a(new x(m.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:let d=c.getStatus();if(S(qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let g=function(y){let E=y.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(E)>=0?E:m.UNKNOWN}(p.status);a(new x(g,p.message))}else a(new x(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new x(m.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{S(qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);S(qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=Oy(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d0(),a=h0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new g0({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");S(qe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,g=new Vv({co:y=>{p?S(qe,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(qe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(qe,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),I=(y,E,Y)=>{y.listen(E,Z=>{try{Y(Z)}catch(z){setTimeout(()=>{throw z},0)}})};return I(d,La.EventType.OPEN,()=>{p||(S(qe,`RPC '${e}' stream ${i} transport opened.`),g.Vo())}),I(d,La.EventType.CLOSE,()=>{p||(p=!0,S(qe,`RPC '${e}' stream ${i} transport closed`),g.fo())}),I(d,La.EventType.ERROR,y=>{p||(p=!0,pd(qe,`RPC '${e}' stream ${i} transport errored:`,y),g.fo(new x(m.UNAVAILABLE,"The operation could not be completed")))}),I(d,La.EventType.MESSAGE,y=>{var E;if(!p){let Y=y.data[0];xe(!!Y);let Z=Y,z=Z.error||((E=Z[0])===null||E===void 0?void 0:E.error);if(z){S(qe,`RPC '${e}' stream ${i} received error:`,z);let ke=z.status,le=function(Nr){let wi=ve[Nr];if(wi!==void 0)return k2(wi)}(ke),et=z.message;le===void 0&&(le=m.INTERNAL,et="Unknown error status: "+ke+" with message "+z.message),p=!0,g.fo(new x(le,et)),d.close()}else S(qe,`RPC '${e}' stream ${i} received:`,Y),g.po(Y)}}),I(a,p0.STAT_EVENT,y=>{y.stat===Py.PROXY?S(qe,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Py.NOPROXY&&S(qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.mo()},0),g}};function ky(){return typeof document<"u"?document:null}function kd(t){return new fv(t,!0)}var Cd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var jv=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Cd(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return f(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return f(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return f(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new x(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>f(this,null,function*(){this.state=0,this.start()}))}u_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Bv=class extends jv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=q2(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.d_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=j2(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$2(this.serializer,r))};this.r_(n)}};var $v=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new x(m.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,gv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(m.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,gv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(m.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var qv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(pi(n),this.y_=!1):S("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Hv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Ja(this)&&(S("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=se(c);u.M_.add(4),yield Ya(u),u.N_.set("Unknown"),u.M_.delete(4),yield Fd(u)})}(this))}))}),this.N_=new qv(r,i)}};function Fd(t){return f(this,null,function*(){if(Ja(t))for(let e of t.x_)yield e(!0)})}function Ya(t){return f(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Ja(t){return se(t).M_.size===0}function lS(t,e,n){return f(this,null,function*(){if(!Od(e))throw e;t.M_.add(1),yield Ya(t),t.N_.set("Offline"),n||(n=()=>Y2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Fd(t)}))})}function dS(t,e){return e().catch(n=>lS(t,n,e))}function Ld(t){return f(this,null,function*(){let e=se(t),n=Rr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;X2(e);)try{let i=yield J2(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,eB(e,i)}catch(i){yield lS(e,i)}hS(e)&&fS(e)})}function X2(t){return Ja(t)&&t.v_.length<10}function eB(t,e){t.v_.push(e);let n=Rr(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function hS(t){return Ja(t)&&!Rr(t).Yo()&&t.v_.length>0}function fS(t){Rr(t).start()}function tB(t){return f(this,null,function*(){Rr(t).R_()})}function nB(t){return f(this,null,function*(){let e=Rr(t);for(let n of t.v_)e.E_(n.mutations)})}function rB(t,e,n){return f(this,null,function*(){let r=t.v_.shift(),i=dv.from(r,e,n);yield dS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ld(t)})}function iB(t,e){return f(this,null,function*(){e&&Rr(t).T_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return O2(o)&&o!==m.ABORTED}(i.code)){let s=r.v_.shift();Rr(r).e_(),yield dS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ld(r)}})}(t,e)),hS(t)&&fS(t)})}function N0(t,e){return f(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");let r=Ja(n);n.M_.add(3),yield Ya(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Fd(n)})}function sB(t,e){return f(this,null,function*(){let n=se(t);e?(n.M_.delete(2),yield Fd(n)):e||(n.M_.add(2),yield Ya(n),n.N_.set("Unknown"))})}function Rr(t){return t.k_||(t.k_=function(n,r,i){let s=se(n);return s.m_(),new Bv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:tB.bind(null,t),Eo:iB.bind(null,t),A_:nB.bind(null,t),d_:rB.bind(null,t)}),t.x_.push(e=>f(this,null,function*(){e?(t.k_.e_(),yield Ld(t)):(yield t.k_.stop(),t.v_.length>0&&(S("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var zv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function pS(t,e){if(pi("AsyncQueue",`${e}: ${t}`),Od(t))return new x(m.UNAVAILABLE,`${e}: ${t}`);throw t}var Gv=class{constructor(){this.queries=new Ar(e=>Q0(e),K0),this.onlineState="Unknown",this.z_=new Set}};function oB(t){t.z_.forEach(e=>{e.next()})}var x0,M0;(M0=x0||(x0={})).J_="default",M0.Cache="cache";var Wv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ar(a=>Q0(a),K0),this.Da=new Map,this.Ca=new Set,this.va=new yt(j.comparator),this.Fa=new Map,this.Ma=new Wa,this.xa={},this.Oa=new Map,this.Na=Ga.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function aB(t,e,n){return f(this,null,function*(){let r=dB(t);try{let i=yield function(o,a){let c=se(o),u=ze.now(),l=a.reduce((p,g)=>p.add(g.key),He()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=wd(),I=He();return c.ss.getEntries(p,l).next(y=>{g=y,g.forEach((E,Y)=>{Y.isValidDocument()||(I=I.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;let E=[];for(let Y of a){let Z=P2(Y,d.get(Y.key).overlayedDocument);Z!=null&&E.push(new Un(Y.key,Z,$0(Z.value.mapValue),hi.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,E,a)}).next(y=>{h=y;let E=y.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(p,y.batchId,E)})}).then(()=>({batchId:h.batchId,changes:J0(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new yt(re)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Vd(r,i.changes),yield Ld(r.remoteStore)}catch(i){let s=pS(i,"Failed to persist write");n.reject(s)}})}function P0(t,e,n){let r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=se(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&oB(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cB(t,e){return f(this,null,function*(){let n=se(t),r=e.batch.batchId;try{let i=yield Q2(n.localStore,e);mS(n,r,null),gS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vd(n,i)}catch(i){yield V0(i)}})}function uB(t,e,n){return f(this,null,function*(){let r=se(t);try{let i=yield function(o,a){let c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(xe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);mS(r,e,n),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Vd(r,i)}catch(i){yield V0(i)}})}function gS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function mS(t,e,n){let r=se(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Vd(t,e,n){return f(this,null,function*(){let r=se(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Mv.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return f(this,null,function*(){let l=se(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(u,h=>_.forEach(h.ki,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>_.forEach(h.qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Od(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ts.get(h),g=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,I)}}})}(r.localStore,s))})}function lB(t,e){return f(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());let r=yield uS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new x(m.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vd(n,r._s)}})}function dB(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uB.bind(null,e),e}var Sd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return K2(this.persistence,new Ov,e.initialUser,this.serializer)}createPersistence(e){return new Rv(xv.jr,this.serializer)}createSharedClientState(e){return new Fv}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Kv=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lB.bind(null,this.syncEngine),yield sB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Gv}()}createDatastore(e){let n=kd(e.databaseInfo.databaseId),r=function(s){return new Uv(s)}(e.databaseInfo);return function(s,o,a,c){return new $v(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Hv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>P0(this.syncEngine,n,0),function(){return bd.D()?new bd:new Lv}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Wv(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=se(r);S("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ya(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Qv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Re.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){S("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=pS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Fy(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield uS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function O0(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield fB(t);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N0(e.remoteStore,i)),t._onlineComponents=e})}function hB(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function fB(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!hB(n))throw n;pd("Error using user provided cache. Falling back to memory cache: "+n),yield Fy(t,new Sd)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Fy(t,new Sd);return t._offlineComponents})}function pB(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield O0(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield O0(t,new Kv))),t._onlineComponents})}function gB(t){return pB(t).then(e=>e.syncEngine)}function yS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var k0=new Map;function vS(t,e,n){if(!n)throw new x(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mB(t,e,n,r){if(e===!0&&r===!0)throw new x(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F0(t){if(!j.isDocumentKey(t))throw new x(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L0(t){if(j.isDocumentKey(t))throw new x(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function _S(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=u_(t);throw new x(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ad=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new x(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Gs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ad({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ad(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ly;switch(r.type){case"firstParty":return new By(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=k0.get(n);r&&(S("ComponentProvider","Removing Datastore"),k0.delete(n),r.terminate())}(this),Promise.resolve()}};function IS(t,e,n,r={}){var i;let s=(t=_S(t,Gs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&pd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Re.MOCK_USER;else{a=ND(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new x(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Re(u)}t._authCredentials=new Vy(new gd(a,c))}}var Yv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Dr=class t extends Yv{constructor(e,n,r){super(e,n,v2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function wS(t,e,...n){if(t=ot(t),vS("collection","path",e),t instanceof Gs){let r=Ie.fromString(e,...n);return L0(r),new Dr(t,null,r)}{if(!(t instanceof Vn||t instanceof Dr))throw new x(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ie.fromString(e,...n));return L0(r),new Dr(t.firestore,null,r)}}function ES(t,e,...n){if(t=ot(t),arguments.length===1&&(e=md.newId()),vS("doc","path",e),t instanceof Gs){let r=Ie.fromString(e,...n);return F0(r),new Vn(t,null,new j(r))}{if(!(t instanceof Vn||t instanceof Dr))throw new x(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ie.fromString(e,...n));return F0(r),new Vn(t.firestore,t instanceof Dr?t.converter:null,new j(r))}}var Jv=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Cd(this,"async_queue_retry"),this.hu=()=>{let n=ky();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=ky();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Ln;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return f(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Od(e))throw e;S("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=zv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&H()}verifyOperationInProgress(){}du(){return f(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Rd=class extends Gs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Jv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DS(this),this._firestoreClient.terminate()}};function TS(t,e){let n=typeof t=="object"?t:_s(),r=typeof t=="string"?t:e||"(default)",i=ia(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=RD("firestore");s&&IS(i,...s)}return i}function yB(t){return t._firestoreClient||DS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Wy(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yS(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Qv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Nd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(br.fromBase64String(e))}catch(n){throw new x(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ka=class{constructor(e){this._methodName=e}};var Md=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var vB=/^__.*__$/,Zv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Un(e,this.data,this.fieldMask,n,this.fieldTransforms):new _i(e,this.data,n,this.fieldTransforms)}};function bS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var Xv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Pd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(bS(this.fu)&&vB.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},e_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kd(e)}Fu(e,n,r,i=!1){return new Xv({fu:e,methodName:n,vu:r,path:mt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _B(t){let e=t._freezeSettings(),n=kd(t._databaseId);return new e_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IB(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);RS("Data must be an object, but it was:",o,r);let a=SS(r,o),c,u;if(s.merge)c=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=wB(e,d,n);if(!o.contains(h))throw new x(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DB(l,h)||l.push(h)}c=new ln(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Zv(new un(a),c,u)}var t_=class t extends Ka{_toFieldTransform(e){return new av(e.path,new mi)}isEqual(e){return e instanceof t}};function CS(t,e){if(AS(t=ot(t)))return RS("Unsupported field value:",e,t),SS(t,e);if(t instanceof Ka)return function(r,i){if(!bS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=CS(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ze.fromDate(r);return{timestampValue:pv(i.serializer,s)}}if(r instanceof ze){let s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pv(i.serializer,s)}}if(r instanceof Md)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nd)return{bytesValue:F2(i.serializer,r._byteString)};if(r instanceof Vn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${u_(r)}`)}(t,e)}function SS(t,e){let n={};return U0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,i)=>{let s=CS(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function AS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Md||t instanceof Nd||t instanceof Vn||t instanceof Ka)}function RS(t,e,n){if(!AS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=u_(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function wB(t,e,n){if((e=ot(e))instanceof xd)return e._internalPath;if(typeof e=="string")return TB(t,e);throw Pd("Field path arguments must be of type string or ",t,!1,void 0,n)}var EB=new RegExp("[~\\*/\\[\\]]");function TB(t,e,n){if(e.search(EB)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new x(m.INVALID_ARGUMENT,a+t+c)}function DB(t,e){return t.some(n=>n.isEqual(e))}function bB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function NS(t,e){let n=_S(t.firestore,Rd),r=ES(t),i=bB(t.converter,e);return CB(n,[IB(_B(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function CB(t,e){return function(r,i){let s=new Ln;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return aB(yield gB(r),i,s)})),s.promise}(yB(t),e)}function xS(){return new t_("serverTimestamp")}(function(e,n=!0){(function(i){Ws=i})(vr),yr(new bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Rd(new Uy(r.getProvider("auth-internal")),new qy(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new x(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ky(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(v0,"4.6.1",e),Te(v0,"4.6.1","esm2017")})();var Za=class{constructor(e){return e}},MS="firestore",l_=class{constructor(){return sa(MS)}};var d_=new C("angularfire2.firestore-instances");function SB(t,e){let n=hl(MS,t,e);return n&&new Za(n)}function AB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Za(r)}}var RB={provide:l_,deps:[[new Ve,d_]]},NB={provide:Za,useFactory:SB,deps:[[new Ve,d_],Rn]},xB=(()=>{class t{constructor(){Te("angularfire",ei.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Je({type:t});static \u0275inj=Ye({providers:[NB,RB]})}return t})();function T8(t,...e){return{ngModule:xB,providers:[{provide:d_,useFactory:AB(t),multi:!0,deps:[W,be,Es,ti,[new Ve,pa],[new Ve,ws],...e]}]}}var D8=Ct(NS,!0);var b8=Ct(wS,!0);var C8=Ct(TS,!0);var S8=Ct(xS,!0);var x8=(()=>{let e=class e{getUser(){return this.user}setUser(r,i){this.user.email=r,this.user.acceptedTerms=i}constructor(r){this.auth=r,this.user={email:"",acceptedTerms:!1}}obtenerUserRegistrado(){let r=this.auth.currentUser;return r?Promise.resolve(r):Promise.resolve(null)}registerUser(r,i){return Wb(this.auth,r,i)}loginUser(r,i){return Qb(this.auth,r,i)}resetPassword(r){return Kb(this.auth,r)}logout(){return this.auth.signOut()}getUserLogged(){return this.auth.currentUser}getUserEmail(){let r=this.auth.currentUser;return r?r.email:null}};e.\u0275fac=function(i){return new(i||e)(D(si))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{T as a,te as b,VS as c,f as d,ce as e,F as f,uA as g,A as h,OI as i,b as j,Ye as k,C as l,D as m,v as n,_t as o,mo as p,Je as q,er as r,KA as s,yo as t,Uf as u,jf as v,nW as w,rW as x,zf as y,ir as z,xt as A,iW as B,bN as C,we as D,ae as E,Wc as F,uo as G,ts as H,ns as I,W as J,wM as K,Zn as L,je as M,$M as N,cW as O,uW as P,lW as Q,dW as R,lt as S,Vt as T,or as U,Du as V,bu as W,vp as X,ar as Y,dt as Z,lP as _,Dn as $,cr as aa,hW as ba,wo as ca,fW as da,pW as ea,Eo as fa,rs as ga,ye as ha,ss as ia,UW as ja,Rp as ka,jW as la,jP as ma,JP as na,fO as oa,ZW as pa,IT as qa,m3 as ra,Ck as sa,Sn as ta,n9 as ua,r9 as va,i9 as wa,z9 as xa,G9 as ya,U6 as za,j6 as Aa,xS as Ba,Za as Ca,T8 as Da,D8 as Ea,b8 as Fa,C8 as Ga,S8 as Ha,x8 as Ia,Wr as Ja,v3 as Ka,_3 as La,ju as Ma,RT as Na,NT as Oa,I3 as Pa,kT as Qa,JO as Ra,P3 as Sa};
