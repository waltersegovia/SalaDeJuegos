var jb=Object.defineProperty,Bb=Object.defineProperties;var $b=Object.getOwnPropertyDescriptors;var Ry=Object.getOwnPropertySymbols,Hb=Object.getPrototypeOf,qb=Object.prototype.hasOwnProperty,zb=Object.prototype.propertyIsEnumerable,Gb=Reflect.get;var My=(t,e,n)=>e in t?jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})qb.call(e,n)&&My(t,n,e[n]);if(Ry)for(var n of Ry(e))zb.call(e,n)&&My(t,n,e[n]);return t},J=(t,e)=>Bb(t,$b(e));var Tn=(t,e,n)=>Gb(Hb(t),n,e);var h=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var Ny=null;var Kl=1,xy=Symbol("SIGNAL");function Z(t){let e=Ny;return Ny=t,e}var Py={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wb(t){if(!(Jl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kl)){if(!t.producerMustRecompute(t)&&!Ql(t)){t.dirty=!1,t.lastCleanEpoch=Kl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kl}}function Oy(t){return t&&(t.nextProducerIndex=0),Z(t)}function ky(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ql(t){va(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Wb(n),r!==n.version))return!0}return!1}function Fy(t){if(va(t),Jl(t))for(let e=0;e<t.producerNode.length;e++)Yl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yl(t,e){if(Kb(t),va(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Yl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];va(i),i.producerIndexOfThis[r]=e}}function Jl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function va(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Kb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Qb(){throw new Error}var Yb=Qb;function Ly(t){Yb=t}function x(t){return typeof t=="function"}function Xr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _a=Xr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function sr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(s){e=s instanceof _a?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Vy(s)}catch(o){e=e??[],o instanceof _a?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _a(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&sr(n,e)}remove(e){let{_finalizers:n}=this;n&&sr(n,e),e instanceof t&&e._removeParent(this)}};le.EMPTY=(()=>{let t=new le;return t.closed=!0,t})();var Zl=le.EMPTY;function Ia(t){return t instanceof le||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function Vy(t){x(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ei={setTimeout(t,e,...n){let{delegate:r}=ei;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ei;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wa(t){ei.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function Ds(){}var Uy=Xl("C",void 0,void 0);function jy(t){return Xl("E",void 0,t)}function By(t){return Xl("N",t,void 0)}function Xl(t,e,n){return{kind:t,value:e,error:n}}var or=null;function ti(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!or;if(e&&(or={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=or;if(or=null,n)throw r}}else t()}function $y(t){Et.useDeprecatedSynchronousErrorHandling&&or&&(or.errorThrown=!0,or.error=t)}var ar=class extends le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ia(e)&&e.add(this)):this.destination=Xb}static create(e,n,r){return new ni(e,n,r)}next(e){this.isStopped?td(By(e),this):this._next(e)}error(e){this.isStopped?td(jy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?td(Uy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jb=Function.prototype.bind;function ed(t,e){return Jb.call(t,e)}var nd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ea(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ea(r)}else Ea(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ea(n)}}},ni=class extends ar{constructor(e,n,r){super();let i;if(x(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Et.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ed(e.next,s),error:e.error&&ed(e.error,s),complete:e.complete&&ed(e.complete,s)}):i=e}this.destination=new nd(i)}};function Ea(t){Et.useDeprecatedSynchronousErrorHandling?$y(t):wa(t)}function Zb(t){throw t}function td(t,e){let{onStoppedNotification:n}=Et;n&&ei.setTimeout(()=>n(t,e))}var Xb={closed:!0,next:Ds,error:Zb,complete:Ds};var ri=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(t){return t}function rd(...t){return id(t)}function id(t){return t.length===0?et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=t0(n)?n:new ni(n,r,i);return ti(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Hy(r),new r((i,s)=>{let o=new ni({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ri](){return this}pipe(...n){return id(n)(this)}toPromise(n){return n=Hy(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Hy(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function e0(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function t0(t){return t&&t instanceof ar||e0(t)&&Ia(t)}function sd(t){return x(t?.lift)}function z(t){return e=>{if(sd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(t,e,n,r,i){return new od(t,e,n,r,i)}var od=class extends ar{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ii(){return z((t,e)=>{let n=null;t._refCount++;let r=U(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var si=class extends q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new le;let n=this.getSubject();e.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=le.EMPTY)}return e}refCount(){return ii()(this)}};var qy=Xr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qy}next(n){ti(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ti(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ti(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Zl:(this.currentObservers=null,s.push(n),new le(()=>{this.currentObservers=null,sr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new Da(e,n),t})(),Da=class extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Zl}};var Re=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ad={now(){return(ad.delegate||Date).now()},delegate:void 0};var Ca=class extends le{constructor(e,n){super()}schedule(e,n=0){return this}};var Cs={setInterval(t,e,...n){let{delegate:r}=Cs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Cs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oi=class extends Ca{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Cs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Cs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,sr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ai=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ai.now=ad.now;var ci=class extends ai{constructor(e,n=ai.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cd=new ci(oi);var Ta=class extends oi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ba=class extends ci{};var ud=new ba(Ta);var tt=new q(t=>t.complete());function zy(t){return t&&x(t.schedule)}function Gy(t){return t[t.length-1]}function Sa(t){return x(Gy(t))?t.pop():void 0}function bn(t){return zy(Gy(t))?t.pop():void 0}function ld(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ky(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Wy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(t){return this instanceof cr?(this.v=t,this):new cr(t)}function Qy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,_){s.push([f,p,m,_])>1||a(f,p)})})}function a(f,p){try{c(r[f](p))}catch(m){d(s[0][3],m)}}function c(f){f.value instanceof cr?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Yy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Wy=="function"?Wy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Aa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ra(t){return x(t?.then)}function Ma(t){return x(t[ri])}function Na(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function xa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function n0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pa=n0();function Oa(t){return x(t?.[Pa])}function ka(t){return Qy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield cr(n.read());if(i)return yield cr(void 0);yield yield cr(r)}}finally{n.releaseLock()}})}function Fa(t){return x(t?.getReader)}function pe(t){if(t instanceof q)return t;if(t!=null){if(Ma(t))return r0(t);if(Aa(t))return i0(t);if(Ra(t))return s0(t);if(Na(t))return Jy(t);if(Oa(t))return o0(t);if(Fa(t))return a0(t)}throw xa(t)}function r0(t){return new q(e=>{let n=t[ri]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function i0(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function s0(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wa)})}function o0(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Jy(t){return new q(e=>{c0(t,e).catch(n=>e.error(n))})}function a0(t){return Jy(ka(t))}function c0(t,e){var n,r,i,s;return Ky(this,void 0,void 0,function*(){try{for(n=Yy(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ge(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Sn(t,e=0){return z((n,r)=>{n.subscribe(U(r,i=>Ge(r,t,()=>r.next(i),e),()=>Ge(r,t,()=>r.complete(),e),i=>Ge(r,t,()=>r.error(i),e)))})}function An(t,e=0){return z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Zy(t,e){return pe(t).pipe(An(e),Sn(e))}function Xy(t,e){return pe(t).pipe(An(e),Sn(e))}function ev(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tv(t,e){return new q(n=>{let r;return Ge(n,e,()=>{r=t[Pa](),Ge(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}function La(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{Ge(n,e,()=>{let r=t[Symbol.asyncIterator]();Ge(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nv(t,e){return La(ka(t),e)}function rv(t,e){if(t!=null){if(Ma(t))return Zy(t,e);if(Aa(t))return ev(t,e);if(Ra(t))return Xy(t,e);if(Na(t))return La(t,e);if(Oa(t))return tv(t,e);if(Fa(t))return nv(t,e)}throw xa(t)}function de(t,e){return e?rv(t,e):pe(t)}function P(...t){let e=bn(t);return de(t,e)}function ui(t,e){let n=x(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}function dd(t){return!!t&&(t instanceof q||x(t.lift)&&x(t.subscribe))}var en=Xr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function j(t,e){return z((n,r)=>{let i=0;n.subscribe(U(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:u0}=Array;function l0(t,e){return u0(e)?t(...e):t(e)}function Va(t){return j(e=>l0(t,e))}var{isArray:d0}=Array,{getPrototypeOf:h0,prototype:f0,keys:p0}=Object;function Ua(t){if(t.length===1){let e=t[0];if(d0(e))return{args:e,keys:null};if(g0(e)){let n=p0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function g0(t){return t&&typeof t=="object"&&h0(t)===f0}function ja(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ba(...t){let e=bn(t),n=Sa(t),{args:r,keys:i}=Ua(t);if(r.length===0)return de([],e);let s=new q(m0(r,e,i?o=>ja(i,o):et));return n?s.pipe(Va(n)):s}function m0(t,e,n=et){return r=>{iv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)iv(e,()=>{let u=de(t[c],e),l=!1;u.subscribe(U(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iv(t,e,n){t?Ge(n,t,e):e()}function sv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?m(_):c.push(_),m=_=>{s&&e.next(_),u++;let D=!1;pe(n(_,l++)).subscribe(U(e,T=>{i?.(T),s?p(T):e.next(T)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let T=c.shift();o?Ge(e,o,()=>m(T)):m(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(U(e,p,()=>{d=!0,f()})),()=>{a?.()}}function _e(t,e,n=1/0){return x(e)?_e((r,i)=>j((s,o)=>e(r,s,i,o))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),z((r,i)=>sv(r,i,t,n)))}function hd(t=1/0){return _e(et,t)}function ov(){return hd(1)}function li(...t){return ov()(de(t,bn(t)))}function $a(t){return new q(e=>{pe(t()).subscribe(e)})}function fd(...t){let e=Sa(t),{args:n,keys:r}=Ua(t),i=new q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;pe(n[l]).subscribe(U(s,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ja(r,a):a),s.complete())}))}});return e?i.pipe(Va(e)):i}function Dt(t,e){return z((n,r)=>{let i=0;n.subscribe(U(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Rn(t){return z((e,n)=>{let r=null,i=!1,s;r=e.subscribe(U(n,void 0,void 0,o=>{s=pe(t(o,Rn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function av(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(U(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function di(t,e){return x(e)?_e(t,e,1):_e(t,1)}function Mn(t){return z((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tn(t){return t<=0?()=>tt:z((e,n)=>{let r=0;e.subscribe(U(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function pd(t){return j(()=>t)}function Ha(t=y0){return z((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function y0(){return new en}function Ts(t){return z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):et,tn(1),n?Mn(e):Ha(()=>new en))}function hi(t){return t<=0?()=>tt:z((e,n)=>{let r=[];e.subscribe(U(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):et,hi(1),n?Mn(e):Ha(()=>new en))}function md(t,e){return z(av(t,e,arguments.length>=2,!0))}function yd(...t){let e=bn(t);return z((n,r)=>{(e?li(t,n,e):li(t,n)).subscribe(r)})}function Ct(t,e){return z((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(U(r,c=>{i?.unsubscribe();let u=0,l=s++;pe(t(c,l)).subscribe(i=U(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function vd(t){return z((e,n)=>{pe(t).subscribe(U(n,()=>n.complete(),Ds)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?z((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(U(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):et}var v0="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(yh(e,n)),this.code=e}};function yh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Us(t){return{toString:t}.toString()}var qa="__parameters__";function _0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function I0(t,e,n){return Us(()=>{let r=_0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(qa)?c[qa]:Object.defineProperty(c,qa,{value:[]})[qa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var bs=globalThis;function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function w0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function We(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function cv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var E0=re({__forward_ref__:re});function Si(t){return t.__forward_ref__=Si,t.toString=function(){return We(this())},t}function $e(t){return qv(t)?t():t}function qv(t){return typeof t=="function"&&t.hasOwnProperty(E0)&&t.__forward_ref__===Si}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function gc(t){return uv(t,Gv)||uv(t,Wv)}function zv(t){return gc(t)!==null}function uv(t,e){return t.hasOwnProperty(e)?t[e]:null}function D0(t){let e=t&&(t[Gv]||t[Wv]);return e||null}function lv(t){return t&&(t.hasOwnProperty(dv)||t.hasOwnProperty(C0))?t[dv]:null}var Gv=re({\u0275prov:re}),dv=re({\u0275inj:re}),Wv=re({ngInjectableDef:re}),C0=re({ngInjectorDef:re}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kv(t){return t&&!!t.\u0275providers}var T0=re({\u0275cmp:re}),b0=re({\u0275dir:re}),S0=re({\u0275pipe:re}),A0=re({\u0275mod:re}),Za=re({\u0275fac:re}),Ss=re({__NG_ELEMENT_ID__:re}),hv=re({__NG_ENV_ID__:re});function R0(t){return typeof t=="string"?t:t==null?"":String(t)}function M0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():R0(t)}function N0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function vh(t,e){throw new b(-201,!1)}var L=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(L||{}),Od;function Qv(){return Od}function dt(t){let e=Od;return Od=t,e}function Yv(t,e,n){let r=gc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&L.Optional)return null;if(e!==void 0)return e;vh(t,"Injector")}var x0={},As=x0,kd="__NG_DI_FLAG__",Xa="ngTempTokenPath",P0="ngTokenPath",O0=/\n/gm,k0="\u0275",fv="__source",mi;function F0(){return mi}function Nn(t){let e=mi;return mi=t,e}function L0(t,e=L.Default){if(mi===void 0)throw new b(-203,!1);return mi===null?Yv(t,void 0,e):mi.get(t,e&L.Optional?null:void 0,e)}function F(t,e=L.Default){return(Qv()||L0)($e(t),e)}function w(t,e=L.Default){return F(t,mc(e))}function mc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fd(t){let e=[];for(let n=0;n<t.length;n++){let r=$e(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=L.Default;for(let o=0;o<r.length;o++){let a=r[o],c=U0(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function V0(t,e){return t[kd]=e,t.prototype[kd]=e,t}function U0(t){return t[kd]}function j0(t,e,n,r){let i=t[Xa];throw e[fv]&&i.unshift(e[fv]),t.message=B0(`
`+t.message,i,n,r),t[P0]=i,t[Xa]=null,t}function B0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==k0?t.slice(2):t;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):We(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(O0,`
  `)}`}var Ye=V0(I0("Optional"),8);function vi(t,e){let n=t.hasOwnProperty(Za);return n?t[Za]:null}function _h(t,e){t.forEach(n=>Array.isArray(n)?_h(n,e):e(n))}function Jv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ec(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function H0(t,e,n){let r=js(t,e);return r>=0?t[r|1]=n:(r=~r,$0(t,r,e,n)),r}function _d(t,e){let n=js(t,e);if(n>=0)return t[n|1]}function js(t,e){return q0(t,e,1)}function q0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var _i={},ht=[],Ii=new A(""),Zv=new A("",-1),Xv=new A(""),tc=class{get(e,n=As){if(n===As){let r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return n}},e_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(e_||{}),Lt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Lt||{}),nt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(nt||{});function z0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ld(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];W0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function G0(t){return t===3||t===4||t===6}function W0(t){return t.charCodeAt(0)===64}function Rs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pv(t,n,i,null,e[++r]):pv(t,n,i,null,null))}}return t}function pv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var t_="ng-template";function K0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&z0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ih(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ih(t){return t.type===4&&t.value!==t_}function Q0(t,e,n){let r=t.type===4&&!n?t_:t.value;return e===r}function Y0(t,e,n){let r=4,i=t.attrs,s=i!==null?X0(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Tt(r)&&!Tt(c))return!1;if(o&&Tt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Q0(t,c,n)||c===""&&e.length===1){if(Tt(r))return!1;o=!0}}else if(r&8){if(i===null||!K0(t,i,c,n)){if(Tt(r))return!1;o=!0}}else{let u=e[++a],l=J0(c,i,Ih(t),n);if(l===-1){if(Tt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Tt(r))return!1;o=!0}}}}return Tt(r)||o}function Tt(t){return(t&1)===0}function J0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return eS(e,t)}function Z0(t,e,n=!1){for(let r=0;r<e.length;r++)if(Y0(t,e[r],n))return!0;return!1}function X0(t){for(let e=0;e<t.length;e++){let n=t[e];if(G0(n))return e}return t.length}function eS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function gv(t,e){return t?":not("+e.trim()+")":e}function tS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Tt(o)&&(e+=gv(s,i),i=""),r=o,s=s||!Tt(r);n++}return i!==""&&(e+=gv(s,i)),e}function nS(t){return t.map(tS).join(",")}function rS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Tt(i))break;i=s}r++}return{attrs:e,classes:n}}function Je(t){return Us(()=>{let e=o_(t),n=J(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===e_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""});a_(n);let r=t.dependencies;return n.directiveDefs=yv(r,!1),n.pipeDefs=yv(r,!0),n.id=oS(n),n})}function iS(t){return dr(t)||n_(t)}function sS(t){return t!==null}function Ze(t){return Us(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mv(t,e){if(t==null)return _i;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=nt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==nt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function gt(t){return Us(()=>{let e=o_(t);return a_(e),e})}function dr(t){return t[T0]||null}function n_(t){return t[b0]||null}function r_(t){return t[S0]||null}function i_(t){let e=dr(t)||n_(t)||r_(t);return e!==null?e.standalone:!1}function s_(t,e){let n=t[A0]||null;if(!n&&e===!0)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return n}function o_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_i,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mv(t.inputs,e),outputs:mv(t.outputs),debugInfo:null}}function a_(t){t.features?.forEach(e=>e(t))}function yv(t,e){if(!t)return null;let n=e?r_:iS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(sS)}function oS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function yc(t){return{\u0275providers:t}}function Bs(...t){return{\u0275providers:c_(!0,t),\u0275fromNgModule:!0}}function c_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return _h(e,o=>{let a=o;Vd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&u_(i,s),n}function u_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wh(i,s=>{e(s,r)})}}function Vd(t,e,n,r){if(t=$e(t),!t)return!1;let i=null,s=lv(t),o=!s&&dr(t);if(!s&&!o){let c=t.ngModule;if(s=lv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Vd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{_h(s.imports,l=>{Vd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&u_(u,e)}if(!a){let u=vi(i)||(()=>new i);e({provide:i,useFactory:u,deps:ht},i),e({provide:Xv,useValue:i,multi:!0},i),e({provide:Ii,useValue:()=>F(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;wh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function wh(t,e){for(let n of t)Kv(n)&&(n=n.\u0275providers),Array.isArray(n)?wh(n,e):e(n)}var aS=re({provide:String,useValue:re});function l_(t){return t!==null&&typeof t=="object"&&aS in t}function cS(t){return!!(t&&t.useExisting)}function uS(t){return!!(t&&t.useFactory)}function wi(t){return typeof t=="function"}function lS(t){return!!t.useClass}var vc=new A(""),Wa={},dS={},Id;function Eh(){return Id===void 0&&(Id=new tc),Id}var pt=class{},Ms=class extends pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jd(e,o=>this.processProvider(o)),this.records.set(Zv,fi(void 0,this)),i.has("environment")&&this.records.set(pt,fi(void 0,this));let s=this.records.get(vc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Xv,ht,L.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Nn(this),r=dt(void 0),i;try{return e()}finally{Nn(n),dt(r)}}get(e,n=As,r=L.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(hv))return e[hv](this);r=mc(r);let i,s=Nn(this),o=dt(void 0);try{if(!(r&L.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=mS(e)&&gc(e);u&&this.injectableDefInScope(u)?c=fi(Ud(e),Wa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&L.Self?Eh():this.parent;return n=r&L.Optional&&n===As?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Xa]=a[Xa]||[]).unshift(We(e)),s)throw a;return j0(a,e,"R3InjectorError",this.source)}else throw a}finally{dt(o),Nn(s)}}resolveInjectorInitializers(){let e=Z(null),n=Nn(this),r=dt(void 0),i;try{let s=this.get(Ii,ht,L.Self);for(let o of s)o()}finally{Nn(n),dt(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=$e(e);let n=wi(e)?e:$e(e&&e.provide),r=fS(e);if(!wi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fi(void 0,Wa,!0),i.factory=()=>Fd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Wa&&(n.value=dS,n.value=n.factory()),typeof n.value=="object"&&n.value&&gS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ud(t){let e=gc(t),n=e!==null?e.factory:vi(t);if(n!==null)return n;if(t instanceof A)throw new b(204,!1);if(t instanceof Function)return hS(t);throw new b(204,!1)}function hS(t){if(t.length>0)throw new b(204,!1);let n=D0(t);return n!==null?()=>n.factory(t):()=>new t}function fS(t){if(l_(t))return fi(void 0,t.useValue);{let e=d_(t);return fi(e,Wa)}}function d_(t,e,n){let r;if(wi(t)){let i=$e(t);return vi(i)||Ud(i)}else if(l_(t))r=()=>$e(t.useValue);else if(uS(t))r=()=>t.useFactory(...Fd(t.deps||[]));else if(cS(t))r=()=>F($e(t.useExisting));else{let i=$e(t&&(t.useClass||t.provide));if(pS(t))r=()=>new i(...Fd(t.deps));else return vi(i)||Ud(i)}return r}function fi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pS(t){return!!t.deps}function gS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mS(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function jd(t,e){for(let n of t)Array.isArray(n)?jd(n,e):n&&Kv(n)?jd(n.\u0275providers,e):e(n)}function vr(t,e){t instanceof Ms&&t.assertNotDestroyed();let n,r=Nn(t),i=dt(void 0);try{return e()}finally{Nn(r),dt(i)}}function yS(){return Qv()!==void 0||F0()!=null}function vS(t){return typeof t=="function"}var an=0,H=1,M=2,ke=3,bt=4,St=5,nc=6,Ns=7,nn=8,Ei=9,Vt=10,Ke=11,xs=12,vv=13,$s=14,Ut=15,Dh=16,pi=17,_c=18,Ic=19,h_=20,xn=21,wd=22,hr=23,fr=25,f_=1;var pr=7,rc=8,ic=9,ft=10,Ch=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ch||{});function ur(t){return Array.isArray(t)&&typeof t[f_]=="object"}function cn(t){return Array.isArray(t)&&t[f_]===!0}function p_(t){return(t.flags&4)!==0}function wc(t){return t.componentOffset>-1}function g_(t){return(t.flags&1)===1}function Pn(t){return!!t.template}function _S(t){return(t[M]&512)!==0}var Bd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function m_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function _r(){return y_}function y_(t){return t.type.prototype.ngOnChanges&&(t.setInput=wS),IS}_r.ngInherit=!0;function IS(){let t=__(this),e=t?.current;if(e){let n=t.previous;if(n===_i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wS(t,e,n,r,i){let s=this.declaredInputs[r],o=__(t)||ES(t,{previous:_i,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Bd(u&&u.currentValue,n,c===_i),m_(t,e,i,n)}var v_="__ngSimpleChanges__";function __(t){return t[v_]||null}function ES(t,e){return t[v_]=e}var _v=null;var kt=function(t,e,n){_v?.(t,e,n)},DS="svg",CS="math",TS=!1;function bS(){return TS}function jt(t){for(;Array.isArray(t);)t=t[an];return t}function SS(t,e){return jt(e[t])}function At(t,e){return jt(e[t.index])}function I_(t,e){return t.data[e]}function kn(t,e){let n=e[t];return ur(n)?n:n[an]}function Th(t){return(t[M]&128)===128}function AS(t){return cn(t[ke])}function Iv(t,e){return e==null?null:t[e]}function w_(t){t[pi]=0}function RS(t){t[M]&1024||(t[M]|=1024,Th(t)&&Ps(t))}function bh(t){return!!(t[M]&9216||t[hr]?.dirty)}function $d(t){t[Vt].changeDetectionScheduler?.notify(1),bh(t)?Ps(t):t[M]&64&&(bS()?(t[M]|=1024,Ps(t)):t[Vt].changeDetectionScheduler?.notify())}function Ps(t){t[Vt].changeDetectionScheduler?.notify();let e=Os(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Th(e)));)e=Os(e)}function E_(t,e){if((t[M]&256)===256)throw new b(911,!1);t[xn]===null&&(t[xn]=[]),t[xn].push(e)}function MS(t,e){if(t[xn]===null)return;let n=t[xn].indexOf(e);n!==-1&&t[xn].splice(n,1)}function Os(t){let e=t[ke];return cn(e)?e[ke]:e}var K={lFrame:R_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NS(){return K.lFrame.elementDepthCount}function xS(){K.lFrame.elementDepthCount++}function PS(){K.lFrame.elementDepthCount--}function D_(){return K.bindingsEnabled}function OS(){return K.skipHydrationRootTNode!==null}function kS(t){return K.skipHydrationRootTNode===t}function FS(){K.skipHydrationRootTNode=null}function Me(){return K.lFrame.lView}function un(){return K.lFrame.tView}function Rt(){let t=C_();for(;t!==null&&t.type===64;)t=t.parent;return t}function C_(){return K.lFrame.currentTNode}function LS(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ec(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function T_(){return K.lFrame.isParent}function VS(){K.lFrame.isParent=!1}function US(t){return K.lFrame.bindingIndex=t}function jS(){return K.lFrame.bindingIndex++}function BS(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $S(){return K.lFrame.inI18n}function HS(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hd(e)}function qS(){return K.lFrame.currentDirectiveIndex}function Hd(t){K.lFrame.currentDirectiveIndex=t}function zS(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function b_(t){K.lFrame.currentQueryIndex=t}function GS(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[St]:null}function S_(t,e,n){if(n&L.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&L.Host);)if(i=GS(s),i===null||(s=s[$s],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=K.lFrame=A_();return r.currentTNode=e,r.lView=t,!0}function Sh(t){let e=A_(),n=t[H];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function A_(){let t=K.lFrame,e=t===null?null:t.child;return e===null?R_(t):e}function R_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function M_(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var N_=M_;function Ah(){let t=M_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Hs(){return K.lFrame.selectedIndex}function gr(t){K.lFrame.selectedIndex=t}function WS(){let t=K.lFrame;return I_(t.tView,t.selectedIndex)}function KS(){return K.lFrame.currentNamespace}var x_=!0;function P_(){return x_}function O_(t){x_=t}function QS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=y_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function k_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ka(t,e,n){F_(t,e,3,n)}function Qa(t,e,n,r){(t[M]&3)===n&&F_(t,e,n,r)}function Ed(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function F_(t,e,n,r){let i=r!==void 0?t[pi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[pi]+=65536),(a<s||s==-1)&&(YS(t,n,e,c),t[pi]=(t[pi]&4294901760)+c+2),c++}function wv(t,e){kt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),kt(5,t,e)}}function YS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[M]>>14<t[pi]>>16&&(t[M]&3)===e&&(t[M]+=16384,wv(a,s)):wv(a,s)}var yi=-1,mr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function JS(t){return t instanceof mr}function ZS(t){return(t.flags&8)!==0}function XS(t){return(t.flags&16)!==0}function L_(t){return t!==yi}function sc(t){return t&32767}function eA(t){return t>>16}function oc(t,e){let n=eA(t),r=e;for(;n>0;)r=r[$s],n--;return r}var qd=!0;function Ev(t){let e=qd;return qd=t,e}var tA=256,V_=tA-1,U_=5,nA=0,Ft={};function rA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ss)&&(r=n[Ss]),r==null&&(r=n[Ss]=nA++);let i=r&V_,s=1<<i;e.data[t+(i>>U_)]|=s}function ac(t,e){let n=j_(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Dd(r.data,t),Dd(e,null),Dd(r.blueprint,null));let i=Rh(t,e),s=t.injectorIndex;if(L_(i)){let o=sc(i),a=oc(i,e),c=a[H].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Dd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function j_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=z_(i),r===null)return yi;if(n++,i=i[$s],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yi}function zd(t,e,n){rA(t,e,n)}function B_(t,e,n){if(n&L.Optional||t!==void 0)return t;vh(e,"NodeInjector")}function $_(t,e,n,r){if(n&L.Optional&&r===void 0&&(r=null),!(n&(L.Self|L.Host))){let i=t[Ei],s=dt(void 0);try{return i?i.get(e,r,n&L.Optional):Yv(e,r,n&L.Optional)}finally{dt(s)}}return B_(r,e,n)}function H_(t,e,n,r=L.Default,i){if(t!==null){if(e[M]&2048&&!(r&L.Self)){let o=cA(t,e,n,r,Ft);if(o!==Ft)return o}let s=q_(t,e,n,r,Ft);if(s!==Ft)return s}return $_(e,n,r,i)}function q_(t,e,n,r,i){let s=oA(n);if(typeof s=="function"){if(!S_(e,t,r))return r&L.Host?B_(i,n,r):$_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&L.Optional))vh(n);else return o}finally{N_()}}else if(typeof s=="number"){let o=null,a=j_(t,e),c=yi,u=r&L.Host?e[Ut][St]:null;for((a===-1||r&L.SkipSelf)&&(c=a===-1?Rh(t,e):e[a+8],c===yi||!Cv(r,!1)?a=-1:(o=e[H],a=sc(c),e=oc(c,e)));a!==-1;){let l=e[H];if(Dv(s,a,l.data)){let d=iA(a,e,n,o,r,u);if(d!==Ft)return d}c=e[a+8],c!==yi&&Cv(r,e[H].data[a+8]===u)&&Dv(s,a,e)?(o=l,a=sc(c),e=oc(c,e)):a=-1}}return i}function iA(t,e,n,r,i,s){let o=e[H],a=o.data[t+8],c=r==null?wc(a)&&qd:r!=o&&(a.type&3)!==0,u=i&L.Host&&s===a,l=sA(a,o,n,c,u);return l!==null?Di(e,o,l,a):Ft}function sA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,f=i?a+l:u;for(let p=d;p<f;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&Pn(p)&&p.type===n)return c}return null}function Di(t,e,n,r){let i=t[n],s=e.data;if(JS(i)){let o=i;o.resolving&&N0(M0(s[n]));let a=Ev(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?dt(o.injectImpl):null,l=S_(t,r,L.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&QS(n,s[n],e)}finally{u!==null&&dt(u),Ev(a),o.resolving=!1,N_()}}return i}function oA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ss)?t[Ss]:void 0;return typeof e=="number"?e>=0?e&V_:aA:e}function Dv(t,e,n){let r=1<<t;return!!(n[e+(t>>U_)]&r)}function Cv(t,e){return!(t&L.Self)&&!(t&L.Host&&e)}var lr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return H_(this._tNode,this._lView,e,mc(r),n)}};function aA(){return new lr(Rt(),Me())}function qs(t){return Us(()=>{let e=t.prototype.constructor,n=e[Za]||Gd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Za]||Gd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gd(t){return qv(t)?()=>{let e=Gd($e(t));return e&&e()}:vi(t)}function cA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[M]&2048&&!(o[M]&512);){let a=q_(s,o,n,r|L.Self,Ft);if(a!==Ft)return a;let c=s.parent;if(!c){let u=o[h_];if(u){let l=u.get(n,Ft,r);if(l!==Ft)return l}c=z_(o),o=o[$s]}s=c}return i}function z_(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[St]:null}function Tv(t,e=null,n=null,r){let i=G_(t,e,n,r);return i.resolveInjectorInitializers(),i}function G_(t,e=null,n=null,r,i=new Set){let s=[n||ht,Bs(t)];return r=r||(typeof t=="object"?void 0:We(t)),new Ms(s,e||Eh(),r||null,i)}var mt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Tv({name:""},i,r,"");{let s=r.name??"";return Tv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=As,e.NULL=new tc,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>F(Zv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var uA="ngOriginalError";function Cd(t){return t[uA]}var rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Cd(e);for(;n&&Cd(n);)n=Cd(n);return n||null}},W_=new A("",{providedIn:"root",factory:()=>w(rn).handleError.bind(void 0)}),K_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Wd=class extends K_{constructor(e){super(),this._lView=e}onDestroy(e){return E_(this._lView,e),()=>MS(this._lView,e)}};function lA(){return new Wd(Me())}function dA(){return Mh(Rt(),Me())}function Mh(t,e){return new Ir(At(t,e))}var Ir=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dA;let t=e;return t})();var Kd=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,yS()&&(this.destroyRef=w(K_,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Td(s),i&&(i=Td(i)),o&&(o=Td(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof le&&e.add(a),a}};function Td(t){return e=>{setTimeout(t,void 0,e)}}var Oe=Kd;function Q_(t){return(t.flags&128)===128}var Y_=new Map,hA=0;function fA(){return hA++}function pA(t){Y_.set(t[Ic],t)}function gA(t){Y_.delete(t[Ic])}var bv="__ngContext__";function Ci(t,e){ur(e)?(t[bv]=e[Ic],pA(e)):t[bv]=e}function J_(t){return X_(t[xs])}function Z_(t){return X_(t[bt])}function X_(t){for(;t!==null&&!cn(t);)t=t[bt];return t}var Qd;function eI(t){Qd=t}function mA(){if(Qd!==void 0)return Qd;if(typeof document<"u")return document;throw new b(210,!1)}var Nh=new A("",{providedIn:"root",factory:()=>yA}),yA="ng",xh=new A(""),Fn=new A("",{providedIn:"platform",factory:()=>"unknown"});var Ph=new A("",{providedIn:"root",factory:()=>mA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vA="h",_A="b";var IA=()=>null;function Oh(t,e,n=!1){return IA(t,e,n)}var tI=!1,wA=new A("",{providedIn:"root",factory:()=>tI});var Yd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${v0})`}};function kh(t){return t instanceof Yd?t.changingThisBreaksApplicationSecurity:t}function nI(t){return t instanceof Function?t():t}var sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sn||{}),EA;function Fh(t,e){return EA(t,e)}function gi(t,e,n,r,i){if(r!=null){let s,o=!1;cn(r)?s=r:ur(r)&&(o=!0,r=r[an]);let a=jt(r);t===0&&n!==null?i==null?aI(e,n,a):cc(e,n,a,i||null,!0):t===1&&n!==null?cc(e,n,a,i||null,!0):t===2?VA(e,a,o):t===3&&e.destroyNode(a),s!=null&&jA(e,t,s,n,i)}}function DA(t,e){return t.createText(e)}function rI(t,e,n){return t.createElement(e,n)}function CA(t,e){iI(t,e),e[an]=null,e[St]=null}function TA(t,e,n,r,i,s){r[an]=i,r[St]=e,Dc(t,r,n,1,i,s)}function iI(t,e){e[Vt].changeDetectionScheduler?.notify(1),Dc(t,e,e[Ke],2,null,null)}function bA(t){let e=t[xs];if(!e)return bd(t[H],t);for(;e;){let n=null;if(ur(e))n=e[xs];else{let r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)ur(e)&&bd(e[H],e),e=e[ke];e===null&&(e=t),ur(e)&&bd(e[H],e),n=e&&e[bt]}e=n}}function SA(t,e,n,r){let i=ft+r,s=n.length;r>0&&(n[i-1][bt]=e),r<s-ft?(e[bt]=n[i],Jv(n,ft+r,e)):(n.push(e),e[bt]=null),e[ke]=n;let o=e[Dh];o!==null&&n!==o&&AA(o,e);let a=e[_c];a!==null&&a.insertView(t),$d(e),e[M]|=128}function AA(t,e){let n=t[ic],i=e[ke][ke][Ut];e[Ut]!==i&&(t[M]|=Ch.HasTransplantedViews),n===null?t[ic]=[e]:n.push(e)}function sI(t,e){let n=t[ic],r=n.indexOf(e);n.splice(r,1)}function Jd(t,e){if(t.length<=ft)return;let n=ft+e,r=t[n];if(r){let i=r[Dh];i!==null&&i!==t&&sI(i,r),e>0&&(t[n-1][bt]=r[bt]);let s=ec(t,ft+e);CA(r[H],r);let o=s[_c];o!==null&&o.detachView(s[H]),r[ke]=null,r[bt]=null,r[M]&=-129}return r}function oI(t,e){if(!(e[M]&256)){let n=e[Ke];n.destroyNode&&Dc(t,e,n,3,null,null),bA(e)}}function bd(t,e){if(e[M]&256)return;let n=Z(null);try{e[M]&=-129,e[M]|=256,e[hr]&&Fy(e[hr]),MA(t,e),RA(t,e),e[H].type===1&&e[Ke].destroy();let r=e[Dh];if(r!==null&&cn(e[ke])){r!==e[ke]&&sI(r,e);let i=e[_c];i!==null&&i.detachView(t)}gA(e)}finally{Z(n)}}function RA(t,e){let n=t.cleanup,r=e[Ns];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ns]=null);let i=e[xn];if(i!==null){e[xn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function MA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];kt(4,a,c);try{c.call(a)}finally{kt(5,a,c)}}else{kt(4,i,s);try{s.call(i)}finally{kt(5,i,s)}}}}}function NA(t,e,n){return xA(t,e.parent,n)}function xA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[an];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Lt.None||s===Lt.Emulated)return null}return At(r,n)}}function cc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aI(t,e,n){t.appendChild(e,n)}function Sv(t,e,n,r,i){r!==null?cc(t,e,n,r,i):aI(t,e,n)}function PA(t,e,n,r){t.removeChild(e,n,r)}function Lh(t,e){return t.parentNode(e)}function OA(t,e){return t.nextSibling(e)}function kA(t,e,n){return LA(t,e,n)}function FA(t,e,n){return t.type&40?At(t,n):null}var LA=FA,Av;function cI(t,e,n,r){let i=NA(t,r,e),s=e[Ke],o=r.parent||e[St],a=kA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Sv(s,i,n[c],a,!1);else Sv(s,i,n,a,!1);Av!==void 0&&Av(s,r,e,n,i)}function Ya(t,e){if(e!==null){let n=e.type;if(n&3)return At(e,t);if(n&4)return Zd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ya(t,r);{let i=t[e.index];return cn(i)?Zd(-1,i):jt(i)}}else{if(n&32)return Fh(e,t)()||jt(t[e.index]);{let r=uI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Os(t[Ut]);return Ya(i,r)}else return Ya(t,e.next)}}}return null}function uI(t,e){if(e!==null){let r=t[Ut][St],i=e.projection;return r.projection[i]}return null}function Zd(t,e){let n=ft+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return Ya(r,i)}return e[pr]}function VA(t,e,n){let r=Lh(t,e);r&&PA(t,r,e,n)}function Vh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ci(jt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Vh(t,e,n.child,r,i,s,!1),gi(e,t,i,a,s);else if(c&32){let u=Fh(n,r),l;for(;l=u();)gi(e,t,i,l,s);gi(e,t,i,a,s)}else c&16?UA(t,e,r,n,i,s):gi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Dc(t,e,n,r,i,s){Vh(n,r,t.firstChild,e,i,s,!1)}function UA(t,e,n,r,i,s){let o=n[Ut],c=o[St].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];gi(e,t,i,l,s)}else{let u=c,l=o[ke];Q_(r)&&(u.flags|=128),Vh(t,e,u,l,i,s,!0)}}function jA(t,e,n,r,i){let s=n[pr],o=jt(n);s!==o&&gi(e,t,r,s,i);for(let a=ft;a<n.length;a++){let c=n[a];Dc(c[H],c,t,e,r,s)}}function BA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=sn.Important),t.setStyle(n,r,i,s))}}function $A(t,e,n){t.setAttribute(e,"style",n)}function lI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function dI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ld(t,e,r),i!==null&&lI(t,e,i),s!==null&&$A(t,e,s)}var Cc={};function Tc(t=1){hI(un(),Me(),Hs()+t,!1)}function hI(t,e,n,r){if(!r)if((e[M]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ka(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Qa(e,s,0,n)}gr(n)}function W(t,e=L.Default){let n=Me();if(n===null)return F(t,e);let r=Rt();return H_(r,n,$e(t),e)}function fI(t,e,n,r,i,s){let o=Z(null);try{let a=null;i&nt.SignalBased&&(a=e[r][xy]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&nt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):m_(e,a,r,s)}finally{Z(o)}}function HA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)gr(~i);else{let s=i,o=n[++r],a=n[++r];HS(o,s);let c=e[s];a(2,c)}}}finally{gr(-1)}}function Uh(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[an]=i,d[M]=r|4|128|8|64,(u!==null||t&&t[M]&2048)&&(d[M]|=2048),w_(d),d[ke]=d[$s]=t,d[nn]=n,d[Vt]=o||t&&t[Vt],d[Ke]=a||t&&t[Ke],d[Ei]=c||t&&t[Ei]||null,d[St]=s,d[Ic]=fA(),d[nc]=l,d[h_]=u,d[Ut]=e.type==2?t[Ut]:d,d}function jh(t,e,n,r,i){let s=t.data[e];if(s===null)s=qA(t,e,n,r,i),$S()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=LS();s.injectorIndex=o===null?-1:o.injectorIndex}return Ec(s,!0),s}function qA(t,e,n,r,i){let s=C_(),o=T_(),a=o?s:s&&s.parent,c=t.data[e]=JA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function pI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gI(t,e,n,r,i){let s=Hs(),o=r&2;try{gr(-1),o&&e.length>fr&&hI(t,e,fr,!1),kt(o?2:0,i),n(r,i)}finally{gr(s),kt(o?3:1,i)}}function mI(t,e,n){if(p_(e)){let r=Z(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Z(r)}}}function zA(t,e,n){D_()&&(sR(t,e,n,At(n,e)),(n.flags&64)===64&&II(t,e,n))}function GA(t,e,n=At){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function yI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vI(t,e,n,r,i,s,o,a,c,u,l){let d=fr+r,f=d+i,p=WA(d,f),m=typeof u=="function"?u():u;return p[H]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function WA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Cc);return n}function KA(t,e,n,r){let s=r.get(wA,tI)||n===Lt.ShadowDom,o=t.selectRootElement(e,s);return QA(o),o}function QA(t){YA(t)}var YA=()=>null;function JA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return OS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Rv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=nt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Mv(r,n,u,a,c):Mv(r,n,u,a)}return r}function Mv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ZA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],f=n?n.get(d):null,p=f?f.inputs:null,m=f?f.outputs:null;c=Rv(0,d.inputs,l,c,p),u=Rv(1,d.outputs,l,u,m);let _=c!==null&&o!==null&&!Ih(e)?pR(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function XA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function eR(t,e,n,r,i,s,o,a){let c=At(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?($h(t,n,l,r,i),wc(e)&&tR(n,e.index)):e.type&3?(r=XA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function tR(t,e){let n=kn(e,t);n[M]&16||(n[M]|=64)}function nR(t,e,n,r){if(D_()){let i=r===null?null:{"":-1},s=aR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&_I(t,e,n,o,i,a),i&&cR(n,r,i)}n.mergedAttrs=Rs(n.mergedAttrs,n.attrs)}function _I(t,e,n,r,i,s){for(let u=0;u<r.length;u++)zd(ac(n,e),t,r[u].type);lR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=pI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Rs(n.mergedAttrs,l.hostAttrs),dR(t,n,e,c,l),uR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ZA(t,n,s)}function rR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;iR(o)!=a&&o.push(a),o.push(n,r,s)}}function iR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;wc(n)&&hR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ac(n,e),Ci(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Di(e,t,a,n);if(Ci(u,e),o!==null&&fR(e,a-i,u,c,n,o),Pn(c)){let l=kn(n.index,e);l[nn]=Di(e,t,a,n)}}}function II(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qS();try{gr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Hd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&oR(c,u)}}finally{gr(-1),Hd(o)}}function oR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function aR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Z0(e,o.selectors,!1))if(r||(r=[]),Pn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Xd(t,e,c)}else r.unshift(o),Xd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Xd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function uR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pn(e)&&(n[""]=t)}}function lR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=vi(i.type,!0)),o=new mr(s,Pn(i),W);t.blueprint[r]=o,n[r]=o,rR(t,e,r,pI(t,n,i.hostVars,Cc),i)}function hR(t,e,n){let r=At(e,t),i=yI(n),s=t[Vt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Bh(t,Uh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function fR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];fI(r,n,c,u,l,d)}}function pR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function gR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function wI(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];b_(s),a.contentQueries(2,e[o],o)}}}finally{Z(r)}}}function Bh(t,e){return t[xs]?t[vv][bt]=e:t[xs]=e,t[vv]=e,e}function eh(t,e,n){b_(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function mR(t){return t[Ns]||(t[Ns]=[])}function yR(t){return t.cleanup||(t.cleanup=[])}function EI(t,e){let n=t[Ei],r=n?n.get(rn,null):null;r&&r.handleError(e)}function $h(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];fI(l,u,r,a,c,i)}}function vR(t,e){let n=kn(e,t),r=n[H];_R(r,n);let i=n[an];i!==null&&n[nc]===null&&(n[nc]=Oh(i,n[Ei])),DI(r,n,n[nn])}function _R(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function DI(t,e,n){Sh(e);try{let r=t.viewQuery;r!==null&&eh(1,r,n);let i=t.template;i!==null&&gI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_c]?.finishViewCreation(t),t.staticContentQueries&&wI(t,e),t.staticViewQueries&&eh(2,t.viewQuery,n);let s=t.components;s!==null&&IR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,Ah()}}function IR(t,e){for(let n=0;n<e.length;n++)vR(t,e[n])}function Nv(t,e){return!e||e.firstChild===null||Q_(t)}function wR(t,e,n,r=!0){let i=e[H];if(SA(i,e,t,n),r){let o=Zd(n,t),a=e[Ke],c=Lh(a,t[pr]);c!==null&&TA(i,t[St],a,e,c,o)}let s=e[nc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(jt(s)),cn(s)&&ER(s,r);let o=n.type;if(o&8)uc(t,e,n.child,r);else if(o&32){let a=Fh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=uI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Os(e[Ut]);uc(c[H],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ER(t,e){for(let n=ft;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&uc(r[H],r,i,e)}t[pr]!==t[an]&&e.push(t[pr])}var CI=[];function DR(t){return t[hr]??CR(t)}function CR(t){let e=CI.pop()??Object.create(bR);return e.lView=t,e}function TR(t){t.lView[hr]!==t&&(t.lView=null,CI.push(t))}var bR=J(I({},Py),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ps(t.lView)},consumerOnSignalRead(){this.lView[hr]=this}}),TI=100;function bI(t,e=!0,n=0){let r=t[Vt],i=r.rendererFactory,s=!1;s||i.begin?.();try{SR(t,n)}catch(o){throw e&&EI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function SR(t,e){th(t,e);let n=0;for(;bh(t);){if(n===TI)throw new b(103,!1);n++,th(t,1)}}function AR(t,e,n,r){let i=e[M];if((i&256)===256)return;let s=!1;!s&&e[Vt].inlineEffectRunner?.flush(),Sh(e);let o=null,a=null;!s&&RR(t)&&(a=DR(e),o=Oy(a));try{w_(e),US(t.bindingStartIndex),n!==null&&gI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Ka(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Qa(e,d,0,null),Ed(e,0)}if(MR(e),SI(e,0),t.contentQueries!==null&&wI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Ka(e,d)}else{let d=t.contentHooks;d!==null&&Qa(e,d,1),Ed(e,1)}HA(t,e);let u=t.components;u!==null&&RI(e,u,0);let l=t.viewQuery;if(l!==null&&eh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Ka(e,d)}else{let d=t.viewHooks;d!==null&&Qa(e,d,2),Ed(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wd]){for(let d of e[wd])d();e[wd]=null}s||(e[M]&=-73)}catch(c){throw Ps(e),c}finally{a!==null&&(ky(a,o),TR(a)),Ah()}}function RR(t){return t.type!==2}function SI(t,e){for(let n=J_(t);n!==null;n=Z_(n))for(let r=ft;r<n.length;r++){let i=n[r];AI(i,e)}}function MR(t){for(let e=J_(t);e!==null;e=Z_(e)){if(!(e[M]&Ch.HasTransplantedViews))continue;let n=e[ic];for(let r=0;r<n.length;r++){let i=n[r],s=i[ke];RS(i)}}}function NR(t,e,n){let r=kn(e,t);AI(r,n)}function AI(t,e){Th(t)&&th(t,e)}function th(t,e){let r=t[H],i=t[M],s=t[hr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ql(s)),s&&(s.dirty=!1),t[M]&=-9217,o)AR(r,t,r.template,t[nn]);else if(i&8192){SI(t,1);let a=r.components;a!==null&&RI(t,a,1)}}function RI(t,e,n){for(let r=0;r<e.length;r++)NR(t,e[r],n)}function Hh(t){for(t[Vt].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=Os(t);if(_S(t)&&!e)return t;t=e}return null}var Ti=class{get rootNodes(){let e=this._lView,n=e[H];return uc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(e){this._lView[nn]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ke];if(cn(e)){let n=e[rc],r=n?n.indexOf(this):-1;r>-1&&(Jd(e,r),ec(n,r))}this._attachedToViewContainer=!1}oI(this._lView[H],this._lView)}onDestroy(e){E_(this._lView,e)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){$d(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,bI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,iI(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,$d(this._lView)}};var rz=new RegExp(`^(\\d+)*(${_A}|${vA})*(.*)`);var xR=()=>null;function xv(t,e){return xR(t,e)}var nh=class{},rh=class{},lc=class{};function PR(t){let e=Error(`No component factory found for ${We(t)}.`);return e[OR]=t,e}var OR="ngComponent";var ih=class{resolveComponentFactory(e){throw PR(e)}},bc=(()=>{let e=class e{};e.NULL=new ih;let t=e;return t})(),ks=class{},Ai=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>kR();let t=e;return t})();function kR(){let t=Me(),e=Rt(),n=kn(e.index,t);return(ur(n)?n:t)[Ke]}var FR=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Sd={};var Pv=new Set;function MI(t){Pv.has(t)||(Pv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ov(...t){}function LR(){let t=typeof bs.requestAnimationFrame=="function",e=bs[t?"requestAnimationFrame":"setTimeout"],n=bs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=LR().nativeRequestAnimationFrame,jR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,VR,Ov,Ov);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},VR={};function qh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sh(t),t.isCheckStableRunning=!0,qh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sh(t))}function jR(t){let e=()=>{UR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(BR(a))return n.invokeTask(i,s,o,a);try{return kv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Fv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return kv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Fv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,sh(t),qh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function sh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function kv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fv(t){t._nesting--,qh(t)}function BR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var NI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function oh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=cv(i,a);else if(s==2){let c=a,u=e[++o];r=cv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dc=class extends bc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=dr(e);return new Fs(n,this.ngModule)}};function Lv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function $R(t){let e=t.toLowerCase();return e==="svg"?DS:e==="math"?CS:null}var ah=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=mc(r);let i=this.injector.get(e,Sd,r);return i!==Sd||n===Sd?i:this.parentInjector.get(e,n,r)}},Fs=class extends lc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Lv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Lv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=nS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Z(null);try{i=i||this.ngModule;let o=i instanceof pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ah(e,o):e,c=a.get(ks,null);if(c===null)throw new b(407,!1);let u=a.get(FR,null),l=a.get(NI,null),d=a.get(nh,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?KA(p,r,this.componentDef.encapsulation,a):rI(p,m,$R(m)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let T=null;_!==null&&(T=Oh(_,a,!0));let oe=vI(0,null,null,1,0,null,null,null,null,null,null),ne=Uh(null,oe,null,D,null,null,f,p,a,null,T);Sh(ne);let fe,ut;try{let ve=this.componentDef,lt,Jr=null;ve.findHostDirectiveDefs?(lt=[],Jr=new Map,ve.findHostDirectiveDefs(ve,lt,Jr),lt.push(ve)):lt=[ve];let ir=HR(ne,_),Zr=qR(ir,_,ve,lt,ne,f,p);ut=I_(oe,fr),_&&WR(p,ve,_,r),n!==void 0&&KR(ut,this.ngContentSelectors,n),fe=GR(Zr,ve,lt,Jr,ne,[QR]),DI(oe,ne,null)}finally{Ah()}return new ch(this.componentType,fe,Mh(ut,ne),ne,ut)}finally{Z(s)}}},ch=class extends rh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ti(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;$h(s[H],s,i,e,n),this.previousInputValues.set(e,n);let o=kn(this._tNode.index,s);Hh(o)}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HR(t,e){let n=t[H],r=fr;return t[r]=e,jh(n,r,2,"#host",null)}function qR(t,e,n,r,i,s,o){let a=i[H];zR(r,t,e,o);let c=null;e!==null&&(c=Oh(e,i[Ei]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Uh(i,yI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Xd(a,t,r.length-1),Bh(i,d),i[t.index]=d}function zR(t,e,n,r){for(let i of t)e.mergedAttrs=Rs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(oh(e,e.mergedAttrs,!0),n!==null&&dI(r,n,e))}function GR(t,e,n,r,i,s){let o=Rt(),a=i[H],c=At(o,i);_I(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,f=Di(i,a,d,o);Ci(f,i)}II(a,i,o),c&&Ci(c,i);let u=Di(i,a,o.directiveStart+o.componentOffset,o);if(t[nn]=i[nn]=u,s!==null)for(let l of s)l(u,e);return mI(a,o,i),u}function WR(t,e,n,r){if(r)Ld(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=rS(e.selectors[0]);i&&Ld(t,n,i),s&&s.length>0&&lI(t,n,s.join(" "))}}function KR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function QR(){let t=Rt();k_(Me()[H],t)}var Sc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YR;let t=e;return t})();function YR(){let t=Rt();return ZR(t,Me())}var JR=Sc,xI=class extends JR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mh(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rh(this._hostTNode,this._hostLView);if(L_(e)){let n=oc(e,this._hostLView),r=sc(e),i=n[H].data[r+8];return new lr(i,n)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Vv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=xv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Nv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!vS(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new Fs(dr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(pt,null);_&&(s=_)}let l=dr(c.componentType??{}),d=xv(this._lContainer,l?.id??null),f=d?.firstChild??null,p=c.create(u,i,f,s);return this.insertImpl(p.hostView,a,Nv(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ke],u=new xI(c,c[St],c[ke]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return wR(o,i,s,r),e.attachToViewContainerRef(),Jv(Ad(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Vv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Jd(this._lContainer,n);r&&(ec(Ad(this._lContainer),n),oI(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=Jd(this._lContainer,n);return r&&ec(Ad(this._lContainer),n)!=null?new Ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Vv(t){return t[rc]}function Ad(t){return t[rc]||(t[rc]=[])}function ZR(t,e){let n,r=e[t.index];return cn(r)?n=r:(n=gR(r,e,null,t),e[t.index]=n,Bh(e,n)),eM(n,e,t,r),new xI(n,t,e)}function XR(t,e){let n=t[Ke],r=n.createComment(""),i=At(e,t),s=Lh(n,i);return cc(n,s,r,OA(n,i),!1),r}var eM=tM;function tM(t,e,n,r){if(t[pr])return;let i;n.type&8?i=jt(r):i=XR(e,n),t[pr]=i}function nM(t){return Object.getPrototypeOf(t.prototype).constructor}function Ln(t){let e=nM(t.type),n=!0,r=[t];for(;e;){let i;if(Pn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=za(t.inputs),o.inputTransforms=za(t.inputTransforms),o.declaredInputs=za(t.declaredInputs),o.outputs=za(t.outputs);let a=i.hostBindings;a&&aM(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&sM(t,c),u&&oM(t,u),rM(t,i),w0(t.outputs,i.outputs),Pn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}iM(r)}function rM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function iM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rs(i.hostAttrs,n=Rs(n,i.hostAttrs))}}function za(t){return t===_i?{}:t===ht?[]:t}function sM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function oM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function aM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var On=class{},Ls=class{};var uh=class extends On{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dc(this);let i=s_(e);this._bootstrapComponents=nI(i.bootstrap),this._r3Injector=G_(e,n,[{provide:On,useValue:this},{provide:bc,useValue:this.componentFactoryResolver},...r],We(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lh=class extends Ls{constructor(e){super(),this.moduleType=e}create(e){return new uh(this.moduleType,e,[])}};var hc=class extends On{constructor(e){super(),this.componentFactoryResolver=new dc(this),this.instance=null;let n=new Ms([...e.providers,{provide:On,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],e.parent||Eh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zh(t,e,n=null){return new hc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ac=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PI(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function cM(t){return(t.flags&32)===32}function Ga(t,e){return t<<17|e<<2}function yr(t){return t>>17&32767}function uM(t){return(t&2)==2}function lM(t,e){return t&131071|e<<17}function dh(t){return t|2}function bi(t){return(t&131068)>>2}function Rd(t,e){return t&-131069|e<<2}function dM(t){return(t&1)===1}function hh(t){return t|1}function hM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yr(o),c=bi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||js(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let f=yr(t[a+1]);t[r+1]=Ga(f,a),f!==0&&(t[f+1]=Rd(t[f+1],r)),t[a+1]=lM(t[a+1],r)}else t[r+1]=Ga(a,0),a!==0&&(t[a+1]=Rd(t[a+1],r)),a=r;else t[r+1]=Ga(c,0),a===0?a=r:t[c+1]=Rd(t[c+1],r),c=r;u&&(t[r+1]=dh(t[r+1])),Uv(t,l,r,!0),Uv(t,l,r,!1),fM(e,l,t,r,s),o=Ga(a,c),s?e.classBindings=o:e.styleBindings=o}function fM(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&js(s,e)>=0&&(n[r+1]=hh(n[r+1]))}function Uv(t,e,n,r){let i=t[n+1],s=e===null,o=r?yr(i):bi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];pM(c,e)&&(a=!0,t[o+1]=r?hh(u):dh(u)),o=r?yr(u):bi(u)}a&&(t[n+1]=r?dh(i):hh(i))}function pM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?js(t,e)>=0:!1}function zs(t,e,n){let r=Me(),i=jS();if(PI(r,i,e)){let s=un(),o=WS();eR(s,o,r,t,e,r[Ke],n,!1)}return zs}function jv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";$h(t,n,s[o],o,r)}function Rc(t,e){return gM(t,e,null,!0),Rc}function gM(t,e,n,r){let i=Me(),s=un(),o=BS(2);if(s.firstUpdatePass&&yM(s,t,o,r),e!==Cc&&PI(i,o,e)){let a=s.data[Hs()];EM(s,a,i,i[Ke],t,i[o+1]=DM(e,n),r,o)}}function mM(t,e){return e>=t.expandoStartIndex}function yM(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Hs()],o=mM(t,n);CM(s,r)&&e===null&&!o&&(e=!1),e=vM(i,s,e,r),hM(i,s,e,n,o,r)}}function vM(t,e,n,r){let i=zS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Md(null,t,e,n,r),n=Vs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Md(i,t,e,n,r),s===null){let c=_M(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Md(null,t,e,c[1],r),c=Vs(c,e.attrs,r),IM(t,e,r,c))}else s=wM(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _M(t,e,n){let r=n?e.classBindings:e.styleBindings;if(bi(r)!==0)return t[yr(r)]}function IM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yr(i)]=r}function wM(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Vs(r,o,n)}return Vs(r,e.attrs,n)}function Md(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Vs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Vs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),H0(t,o,n?!0:e[++s]))}return t===void 0?null:t}function EM(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=dM(u)?Bv(c,e,n,i,bi(u),o):void 0;if(!fc(l)){fc(s)||uM(u)&&(s=Bv(c,null,n,i,a,o));let d=SS(Hs(),n);BA(r,o,d,i,s)}}function Bv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,f=n[i+1];f===Cc&&(f=d?ht:void 0);let p=d?_d(f,r):l===r?f:void 0;if(u&&!fc(p)&&(p=_d(c,r)),fc(p)&&(a=p,o))return a;let m=t[i+1];i=o?yr(m):bi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=_d(c,r))}return a}function fc(t){return t!==void 0}function DM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=We(kh(t)))),t}function CM(t,e){return(t.flags&(e?8:16))!==0}function TM(t,e,n,r,i,s){let o=e.consts,a=Iv(o,i),c=jh(e,t,2,r,a);return nR(e,n,c,Iv(o,s)),c.attrs!==null&&oh(c,c.attrs,!1),c.mergedAttrs!==null&&oh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function O(t,e,n,r){let i=Me(),s=un(),o=fr+t,a=i[Ke],c=s.firstCreatePass?TM(o,s,i,e,n,r):s.data[o],u=bM(s,i,c,a,e,t);i[o]=u;let l=g_(c);return Ec(c,!0),dI(a,u,c),!cM(c)&&P_()&&cI(s,i,u,c),NS()===0&&Ci(u,i),xS(),l&&(zA(s,i,c),mI(s,c,i)),r!==null&&GA(i,c),O}function Q(){let t=Rt();T_()?VS():(t=t.parent,Ec(t,!1));let e=t;kS(e)&&FS(),PS();let n=un();return n.firstCreatePass&&(k_(n,t),p_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ZS(e)&&jv(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&XS(e)&&jv(n,e,Me(),e.stylesWithoutHost,!1),Q}function ie(t,e,n,r){return O(t,e,n,r),Q(),ie}var bM=(t,e,n,r,i,s)=>(O_(!0),rI(r,i,KS()));var pc="en-US";var SM=pc;function AM(t){typeof t=="string"&&(SM=t.toLowerCase().replace(/_/g,"-"))}function ln(t,e,n,r){let i=Me(),s=un(),o=Rt();return MM(s,i,i[Ke],o,t,e,r),ln}function RM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ns],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function MM(t,e,n,r,i,s,o){let a=g_(r),u=t.firstCreatePass&&yR(t),l=e[nn],d=mR(e),f=!0;if(r.type&3||o){let _=At(r,e),D=o?o(_):_,T=d.length,oe=o?fe=>o(jt(fe[r.index])):r.index,ne=null;if(!o&&a&&(ne=RM(t,e,i,r.index)),ne!==null){let fe=ne.__ngLastListenerFn__||ne;fe.__ngNextListenerFn__=s,ne.__ngLastListenerFn__=s,f=!1}else{s=Hv(r,e,l,s,!1);let fe=n.listen(D,i,s);d.push(s,fe),u&&u.push(i,oe,T,T+1)}}else s=Hv(r,e,l,s,!1);let p=r.outputs,m;if(f&&p!==null&&(m=p[i])){let _=m.length;if(_)for(let D=0;D<_;D+=2){let T=m[D],oe=m[D+1],ut=e[T][oe].subscribe(s),ve=d.length;d.push(s,ut),u&&u.push(i,r.index,ve,-(ve+1))}}}function $v(t,e,n,r){let i=Z(null);try{return kt(6,e,n),n(r)!==!1}catch(s){return EI(t,s),!1}finally{kt(7,e,n),Z(i)}}function Hv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?kn(t.index,e):e;Hh(a);let c=$v(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=$v(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function X(t,e=""){let n=Me(),r=un(),i=t+fr,s=r.firstCreatePass?jh(r,i,1,e,null):r.data[i],o=NM(r,n,s,e,t);n[i]=o,P_()&&cI(r,n,o,s),Ec(s,!1)}var NM=(t,e,n,r,i)=>(O_(!0),DA(e[Ke],r));function xM(t,e,n){let r=un();if(r.firstCreatePass){let i=Pn(t);fh(n,r.data,r.blueprint,i,!0),fh(e,r.data,r.blueprint,i,!1)}}function fh(t,e,n,r,i){if(t=$e(t),Array.isArray(t))for(let s=0;s<t.length;s++)fh(t[s],e,n,r,i);else{let s=un(),o=Me(),a=Rt(),c=wi(t)?t:$e(t.provide),u=d_(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(wi(t)||!t.multi){let p=new mr(u,i,W),m=xd(c,e,i?l:l+f,d);m===-1?(zd(ac(a,o),s,c),Nd(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=xd(c,e,l+f,d),m=xd(c,e,l,l+f),_=p>=0&&n[p],D=m>=0&&n[m];if(i&&!D||!i&&!_){zd(ac(a,o),s,c);let T=kM(i?OM:PM,n.length,i,r,u);!i&&D&&(n[m].providerFactory=T),Nd(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=OI(n[i?m:p],u,!i&&r);Nd(s,t,p>-1?p:m,T)}!i&&r&&D&&n[m].componentProviders++}}}function Nd(t,e,n,r){let i=wi(e),s=lS(e);if(i||s){let c=(s?$e(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function OI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function PM(t,e,n,r){return ph(this.multi,[])}function OM(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Di(n,n[H],this.providerFactory.index,r);s=a.slice(0,o),ph(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ph(i,s);return s}function ph(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kM(t,e,n,r,i){let s=new mr(t,n,W);return s.multi=[],s.index=e,s.componentProviders=0,OI(s,i,r&&!n),s}function Mc(t,e=[]){return n=>{n.providersResolver=(r,i)=>xM(r,i?i(t):t,e)}}var FM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=c_(!1,r.type),s=i.length>0?zh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(F(pt))});let t=e;return t})();function yt(t){MI("NgStandalone"),t.getStandaloneInjector=e=>e.get(FM).getOrCreateStandaloneInjector(t)}var on=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kI=new on("17.3.5"),Nc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var FI=new A("");function wr(t){return!!t&&typeof t.then=="function"}function LI(t){return!!t&&typeof t.subscribe=="function"}var VI=new A(""),UI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(VI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(wr(o))r.push(o);else if(LI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gh=new A("");function LM(){Ly(()=>{throw new b(600,!1)})}function VM(t){return t.isBoundToModule}function UM(t,e,n){try{let r=n();return wr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Gs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(W_),this.afterRenderEffectManager=w(NI),this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=w(Ac).hasPendingTasks.pipe(j(r=>!r)),this._injector=w(pt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof lc;if(!this._injector.get(UI).done){let p=!s&&i_(r),m=!1;throw new b(405,m)}let a;s?a=r:a=this._injector.get(bc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=VM(a)?void 0:this._injector.get(On),u=i||a.selector,l=a.create(mt.NULL,[],u,c),d=l.location.nativeElement,f=l.injector.get(FI,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Pd(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new b(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Z(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===TI)throw new b(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)jM(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>gh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Pd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Gh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Pd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jM(t,e,n){!e&&!gh(t)||BM(t,n,e)}function gh(t){return bh(t)}function BM(t,e,n){let r;n?(r=0,t[M]|=1024):t[M]&64?r=0:r=1,bI(t,e,r)}var mh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wh=(()=>{let e=class e{compileModuleSync(r){return new lh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=s_(r),o=nI(s.declarations).reduce((a,c)=>{let u=dr(c);return u&&a.push(new Fs(u)),a},[]);return new mh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $M=(()=>{let e=class e{constructor(){this.zone=w(te),this.applicationRef=w(Gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HM(t){return[{provide:te,useFactory:t},{provide:Ii,multi:!0,useFactory:()=>{let e=w($M,{optional:!0});return()=>e.initialize()}},{provide:Ii,multi:!0,useFactory:()=>{let e=w(WM);return()=>{e.initialize()}}},{provide:W_,useFactory:qM}]}function qM(){let t=w(te),e=w(rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function zM(t){let e=HM(()=>new te(GM(t)));return yc([[],e])}function GM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var WM=(()=>{let e=class e{constructor(){this.subscription=new le,this.initialized=!1,this.zone=w(te),this.pendingTasks=w(Ac)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KM(){return typeof $localize<"u"&&$localize.locale||pc}var Kh=new A("",{providedIn:"root",factory:()=>w(Kh,L.Optional|L.SkipSelf)||KM()});var jI=new A("");var Ja=null;function QM(t=[],e){return mt.create({name:e,providers:[{provide:vc,useValue:"platform"},{provide:jI,useValue:new Set([()=>Ja=null])},...t]})}function YM(t=[]){if(Ja)return Ja;let e=QM(t);return Ja=e,LM(),JM(e),e}function JM(t){t.get(xh,null)?.forEach(n=>n())}var Ri=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZM;let t=e;return t})();function ZM(t){return XM(Rt(),Me(),(t&16)===16)}function XM(t,e,n){if(wc(t)&&!n){let r=kn(t.index,e);return new Ti(r,r)}else if(t.type&47){let r=e[Ut];return new Ti(r,e)}return null}function BI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=YM(r),s=[zM(),...n||[]],a=new hc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(te);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(rn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),f=i.get(jI);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),UM(u,c,()=>{let p=a.get(UI);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(Kh,pc);AM(m||pc);let _=a.get(Gs);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}var zI=null;function dn(){return zI}function GI(t){zI??=t}var xc=class{};var vt=new A(""),WI=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>w(nN),providedIn:"platform"});let t=e;return t})();var nN=(()=>{let e=class e extends WI{constructor(){super(),this._doc=w(vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dn().getBaseHref(this._doc)}onPopState(r){let i=dn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=dn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function KI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $I(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Er(t){return t&&t[0]!=="?"?"?"+t:t}var Oc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>w(QI),providedIn:"root"});let t=e;return t})(),rN=new A(""),QI=(()=>{let e=class e extends Oc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return KI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Er(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Er(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Er(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(WI),F(rN,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ws=(()=>{let e=class e{constructor(r){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=oN($I(HI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Er(i))}normalize(r){return e.stripTrailingSlash(sN(this._basePath,HI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Er(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Er(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Er,e.joinWithSlash=KI,e.stripTrailingSlash=$I,e.\u0275fac=function(i){return new(i||e)(F(Oc))},e.\u0275prov=R({token:e,factory:()=>iN(),providedIn:"root"});let t=e;return t})();function iN(){return new Ws(F(Oc))}function sN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function HI(t){return t.replace(/\/index.html$/,"")}function oN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function YI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ks=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Qe({});let t=e;return t})(),JI="browser",aN="server";function Qh(t){return t===aN}var Pc=class{};var Zh=class extends xc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xh=class t extends Zh{static makeCurrent(){GI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=cN();return n==null?null:uN(n)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return YI(document.cookie,e)}},Qs=null;function cN(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}function uN(t){return new URL(t,document.baseURI).pathname}var lN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),ef=new A(""),tw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(F(ef),F(te))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),kc=class{constructor(e){this._doc=e}},Yh="ng-app-id",nw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Yh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Yh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Yh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(F(vt),F(Nh),F(Ph,8),F(Fn))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nf=/%COMP%/g,rw="%COMP%",dN=`_nghost-${rw}`,hN=`_ngcontent-${rw}`,fN=!0,pN=new A("",{providedIn:"root",factory:()=>fN});function gN(t){return hN.replace(nf,t)}function mN(t){return dN.replace(nf,t)}function iw(t,e){return e.map(n=>n.replace(nf,t))}var ZI=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Qh(c),this.defaultRenderer=new Ys(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Lt.ShadowDom&&(i=J(I({},i),{encapsulation:Lt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Fc?s.applyToHost(r):s instanceof Js&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Lt.Emulated:o=new Fc(u,l,i,this.appId,d,a,c,f);break;case Lt.ShadowDom:return new tf(u,l,r,i,a,c,this.nonce,f);default:o=new Js(u,l,i,d,a,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(F(tw),F(nw),F(Nh),F(pN),F(vt),F(Fn),F(te),F(Ph))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Ys=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(XI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(XI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Jh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Jh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=dn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function XI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tf=class extends Ys{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=iw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Js=class extends Ys{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?iw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fc=class extends Js{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=gN(u),this.hostAttr=mN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},yN=(()=>{let e=class e extends kc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(F(vt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),ew=["alt","control","meta","shift"],vN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_N={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IN=(()=>{let e=class e extends kc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ew.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=vN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ew.forEach(a=>{if(a!==s){let c=_N[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(F(vt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function sw(t,e){return BI(I({rootComponent:t},wN(e)))}function wN(t){return{appProviders:[...bN,...t?.providers??[]],platformProviders:TN}}function EN(){Xh.makeCurrent()}function DN(){return new rn}function CN(){return eI(document),document}var TN=[{provide:Fn,useValue:JI},{provide:xh,useValue:EN,multi:!0},{provide:vt,useFactory:CN,deps:[]}];var bN=[{provide:vc,useValue:"root"},{provide:rn,useFactory:DN,deps:[]},{provide:ef,useClass:yN,multi:!0,deps:[vt,te,Fn]},{provide:ef,useClass:IN,multi:!0,deps:[vt]},ZI,nw,tw,{provide:ks,useExisting:ZI},{provide:Pc,useClass:lN,deps:[]},[]];var ow=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(F(vt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k="primary",fo=Symbol("RouteTitle"),cf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oi(t){return new cf(t)}function RN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function MN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bt(t[n],e[n]))return!1;return!0}function Bt(t,e){let n=t?uf(t):void 0,r=e?uf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!hw(t[i],e[i]))return!1;return!0}function uf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function hw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function fw(t){return t.length>0?t[t.length-1]:null}function jn(t){return dd(t)?t:wr(t)?de(Promise.resolve(t)):P(t)}var NN={exact:gw,subset:mw},pw={exact:xN,subset:PN,ignored:()=>!0};function aw(t,e,n){return NN[n.paths](t.root,e.root,n.matrixParams)&&pw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xN(t,e){return Bt(t,e)}function gw(t,e,n){if(!Cr(t.segments,e.segments)||!Uc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gw(t.children[r],e.children[r],n))return!1;return!0}function PN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hw(t[n],e[n]))}function mw(t,e,n){return yw(t,e,e.segments,n)}function yw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Cr(i,n)||e.hasChildren()||!Uc(i,n,r))}else if(t.segments.length===n.length){if(!Cr(t.segments,n)||!Uc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!mw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Cr(t.segments,i)||!Uc(t.segments,i,r)||!t.children[k]?!1:yw(t.children[k],e,s,r)}}function Uc(t,e,n){return e.every((r,i)=>pw[n](t[i].parameters,r.parameters))}var Vn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){return FN.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}},Dr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oi(this.parameters),this._parameterMap}toString(){return _w(this)}};function ON(t,e){return Cr(t,e)&&t.every((n,r)=>Bt(n.parameters,e[r].parameters))}function Cr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var kf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new $c,providedIn:"root"});let t=e;return t})(),$c=class{parse(e){let n=new df(e);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Zs(e.root,!0)}`,r=UN(e.queryParams),i=typeof e.fragment=="string"?`#${LN(e.fragment)}`:"";return`${n}${r}${i}`}},FN=new $c;function jc(t){return t.segments.map(e=>_w(e)).join("/")}function Zs(t,e){if(!t.hasChildren())return jc(t);if(e){let n=t.children[k]?Zs(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==k&&r.push(`${i}:${Zs(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kN(t,(r,i)=>i===k?[Zs(t.children[k],!1)]:[`${i}:${Zs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${jc(t)}/${n[0]}`:`${jc(t)}/(${n.join("//")})`}}function vw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lc(t){return vw(t).replace(/%3B/gi,";")}function LN(t){return encodeURI(t)}function lf(t){return vw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(t){return decodeURIComponent(t)}function cw(t){return Bc(t.replace(/\+/g,"%20"))}function _w(t){return`${lf(t.path)}${VN(t.parameters)}`}function VN(t){return Object.entries(t).map(([e,n])=>`;${lf(e)}=${lf(n)}`).join("")}function UN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Lc(n)}=${Lc(i)}`).join("&"):`${Lc(n)}=${Lc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var jN=/^[^\/()?;#]+/;function rf(t){let e=t.match(jN);return e?e[0]:""}var BN=/^[^\/()?;=#]+/;function $N(t){let e=t.match(BN);return e?e[0]:""}var HN=/^[^=?&#]+/;function qN(t){let e=t.match(HN);return e?e[0]:""}var zN=/^[^&#]+/;function GN(t){let e=t.match(zN);return e?e[0]:""}var df=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new Y(e,n)),r}parseSegment(){let e=rf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Dr(Bc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=$N(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=rf(this.remaining);i&&(r=i,this.capture(r))}e[Bc(n)]=Bc(r)}parseQueryParam(e){let n=qN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=GN(this.remaining);o&&(r=o,this.capture(r))}let i=cw(n),s=cw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=rf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=k);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[k]:new Y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function Iw(t){return t.segments.length>0?new Y([],{[k]:t}):t}function ww(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ww(i);if(r===k&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Y(t.segments,e);return WN(n)}function WN(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new Y(t.segments.concat(e.segments),e.children)}return t}function ki(t){return t instanceof Vn}function KN(t,e,n=null,r=null){let i=Ew(t);return Dw(i,e,n,r)}function Ew(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Y(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Iw(r);return e??i}function Dw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return sf(i,i,i,n,r);let s=QN(e);if(s.toRoot())return sf(i,i,new Y([],{}),n,r);let o=YN(s,i,t),a=o.processChildren?to(o.segmentGroup,o.index,s.commands):Tw(o.segmentGroup,o.index,s.commands);return sf(i,o.segmentGroup,a,n,r)}function Hc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function io(t){return typeof t=="object"&&t!=null&&t.outlets}function sf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Cw(t,e,n);let a=Iw(ww(o));return new Vn(a,s,i)}function Cw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Cw(s,e,n)}),new Y(t.segments,r)}var qc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hc(r[0]))throw new b(4003,!1);let i=r.find(io);if(i&&i!==fw(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new qc(n,e,r)}var xi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function YN(t,e,n){if(t.isAbsolute)return new xi(e,!0,0);if(!n)return new xi(e,!1,NaN);if(n.parent===null)return new xi(n,!0,0);let r=Hc(t.commands[0])?0:1,i=n.segments.length-1+r;return JN(n,i,t.numberOfDoubleDots)}function JN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new xi(r,!1,i-s)}function ZN(t){return io(t[0])?t[0].outlets:{[k]:t}}function Tw(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return to(t,e,n);let r=XN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Y(t.segments.slice(0,r.pathIndex),{});return s.children[k]=new Y(t.segments.slice(r.pathIndex),t.children),to(s,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?hf(t,e,n):r.match?to(t,0,i):hf(t,e,n)}function to(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=ZN(n),i={};if(Object.keys(r).some(s=>s!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let s=to(t.children[k],e,n);return new Y(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Tw(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Y(t.segments,i)}}function XN(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(io(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!lw(c,u,o))return s;r+=2}else{if(!lw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(io(s)){let c=ex(s.outlets);return new Y(r,c)}if(i===0&&Hc(n[0])){let c=t.segments[e];r.push(new Dr(c.path,uw(n[0]))),i++;continue}let o=io(s)?s.outlets[k]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hc(a)?(r.push(new Dr(o,uw(a))),i+=2):(r.push(new Dr(o,{})),i++)}return new Y(r,{})}function ex(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hf(new Y([],{}),0,r))}),e}function uw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lw(t,e,n){return t==n.path&&Bt(e,n.parameters)}var no="imperative",Ne=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ne||{}),_t=class{constructor(e,n){this.id=e,this.url=n}},so=class extends _t{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ne.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tr=class extends _t{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),ff=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ff||{}),Un=class extends _t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},br=class extends _t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ne.NavigationSkipped}},oo=class extends _t{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zc=class extends _t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends _t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class extends _t{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mf=class extends _t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends _t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class{constructor(e){this.route=e,this.type=Ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_f=class{constructor(e){this.route=e,this.type=Ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},If=class{constructor(e){this.snapshot=e,this.type=Ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{constructor(e){this.snapshot=e,this.type=Ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{constructor(e){this.snapshot=e,this.type=Ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Df=class{constructor(e){this.snapshot=e,this.type=Ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ao=class{},co=class{constructor(e){this.url=e}};var Cf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jc,this.attachRef=null}},Jc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Cf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bf(e,this._root).map(n=>n.value)}};function Tf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tf(t,n);if(r)return r}return null}function bf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bf(t,n);if(r.length)return r.unshift(e),r}return[]}var rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ni(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Wc=class extends Gc{constructor(e,n){super(e),this.snapshot=n,Lf(this,e)}toString(){return this.snapshot.toString()}};function bw(t){let e=tx(t),n=new Re([new Dr("",{})]),r=new Re({}),i=new Re({}),s=new Re({}),o=new Re(""),a=new Fi(n,r,s,o,i,k,t,e.root);return a.snapshot=e.root,new Wc(new rt(a,[]),e)}function tx(t){let e={},n={},r={},i="",s=new uo([],e,r,i,n,k,t,null,{});return new Kc("",new rt(s,[]))}var Fi=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(u=>u[fo]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Oi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Oi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ff(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&Aw(i)&&(r.resolve[fo]=i.title),r}var uo=class{get title(){return this.data?.[fo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Kc=class extends Gc{constructor(e,n){super(n),this.url=e,Lf(this,n)}toString(){return Sw(this._root)}};function Lf(t,e){e.value._routerState=t,e.children.forEach(n=>Lf(t,n))}function Sw(t){let e=t.children.length>0?` { ${t.children.map(Sw).join(", ")} } `:"";return`${t.value}${e}`}function of(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bt(e.params,n.params)||t.paramsSubject.next(n.params),MN(e.url,n.url)||t.urlSubject.next(n.url),Bt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sf(t,e){let n=Bt(t.params,e.params)&&ON(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sf(t.parent,e.parent))}function Aw(t){return typeof t.title=="string"||t.title===null}var Vf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=w(Jc),this.location=w(Sc),this.changeDetector=w(Ri),this.environmentInjector=w(pt),this.inputBinder=w(Uf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Af(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=gt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_r]});let t=e;return t})(),Af=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Fi?this.route:e===Jc?this.childContexts:this.parent.get(e,n)}},Uf=new A("");function nx(t,e,n){let r=lo(t,e._root,n?n._root:void 0);return new Wc(r,e)}function lo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=rx(t,e,n);return new rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>lo(t,a)),o}}let r=ix(e.value),i=e.children.map(s=>lo(t,s));return new rt(r,i)}}function rx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return lo(t,r,i);return lo(t,r)})}function ix(t){return new Fi(new Re(t.url),new Re(t.params),new Re(t.queryParams),new Re(t.fragment),new Re(t.data),t.outlet,t.component,t)}var Rw="ngNavigationCancelingError";function Mw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Nw(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Nw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Rw]=!0,n.cancellationCode=e,n}function sx(t){return xw(t)&&ki(t.url)}function xw(t){return!!t&&t[Rw]}var ox=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[yt],decls:1,vars:0,template:function(i,s){i&1&&ie(0,"router-outlet")},dependencies:[Vf],encapsulation:2});let t=e;return t})();function ax(t,e){return t.providers&&!t._injector&&(t._injector=zh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jf(t){let e=t.children&&t.children.map(jf),n=e?J(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=ox),n}function $t(t){return t.outlet||k}function cx(t,e){let n=t.filter(r=>$t(r)===e);return n.push(...t.filter(r=>$t(r)!==e)),n}function po(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ux=(t,e,n,r)=>j(i=>(new Rf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),of(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ni(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ni(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ni(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ni(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Df(s.value.snapshot))}),e.children.length&&this.forwardEvent(new wf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(of(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),of(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=po(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Qc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pi=class{constructor(e,n){this.component=e,this.route=n}};function lx(t,e,n){let r=t._root,i=e?e._root:null;return Xs(r,i,n,[r.value])}function dx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zv(t)?t:e.get(t):r}function Xs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ni(e);return t.children.forEach(o=>{hx(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ro(a,n.getContext(o),i)),i}function hx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=fx(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Xs(t,e,a?a.children:null,r,i):Xs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pi(a.outlet.component,o))}else o&&ro(e,a,i),i.canActivateChecks.push(new Qc(r)),s.component?Xs(t,null,a?a.children:null,r,i):Xs(t,null,n,r,i);return i}function fx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Cr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cr(t.url,e.url)||!Bt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sf(t,e)||!Bt(t.queryParams,e.queryParams);case"paramsChange":default:return!Sf(t,e)}}function ro(t,e,n){let r=Ni(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ro(o,e.children.getContext(s),n):ro(o,null,n):ro(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Pi(e.outlet.component,i)):n.canDeactivateChecks.push(new Pi(null,i)):n.canDeactivateChecks.push(new Pi(null,i))}function go(t){return typeof t=="function"}function px(t){return typeof t=="boolean"}function gx(t){return t&&go(t.canLoad)}function mx(t){return t&&go(t.canActivate)}function yx(t){return t&&go(t.canActivateChild)}function vx(t){return t&&go(t.canDeactivate)}function _x(t){return t&&go(t.canMatch)}function Pw(t){return t instanceof en||t?.name==="EmptyError"}var Vc=Symbol("INITIAL_VALUE");function Li(){return Ct(t=>Ba(t.map(e=>e.pipe(tn(1),yd(Vc)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===Vc)return Vc;if(n===!1||n instanceof Vn)return n}return!0}),Dt(e=>e!==Vc),tn(1)))}function Ix(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(J(I({},n),{guardsResult:!0})):wx(o,r,i,t).pipe(_e(a=>a&&px(a)?Ex(r,s,t,e):P(a)),j(a=>J(I({},n),{guardsResult:a})))})}function wx(t,e,n,r){return de(t).pipe(_e(i=>Sx(i.component,i.route,n,e,r)),Ot(i=>i!==!0,!0))}function Ex(t,e,n,r){return de(e).pipe(di(i=>li(Cx(i.route.parent,r),Dx(i.route,r),bx(t,i.path,n),Tx(t,i.route,n))),Ot(i=>i!==!0,!0))}function Dx(t,e){return t!==null&&e&&e(new Ef(t)),P(!0)}function Cx(t,e){return t!==null&&e&&e(new If(t)),P(!0)}function Tx(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>$a(()=>{let o=po(e)??n,a=Vi(s,o),c=mx(a)?a.canActivate(e,t):vr(o,()=>a(e,t));return jn(c).pipe(Ot())}));return P(i).pipe(Li())}function bx(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>dx(o)).filter(o=>o!==null).map(o=>$a(()=>{let a=o.guards.map(c=>{let u=po(o.node)??n,l=Vi(c,u),d=yx(l)?l.canActivateChild(r,t):vr(u,()=>l(r,t));return jn(d).pipe(Ot())});return P(a).pipe(Li())}));return P(s).pipe(Li())}function Sx(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=po(e)??i,u=Vi(a,c),l=vx(u)?u.canDeactivate(t,e,n,r):vr(c,()=>u(t,e,n,r));return jn(l).pipe(Ot())});return P(o).pipe(Li())}function Ax(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=Vi(o,t),c=gx(a)?a.canLoad(e,n):vr(t,()=>a(e,n));return jn(c)});return P(s).pipe(Li(),Ow(r))}function Ow(t){return rd(Ie(e=>{if(ki(e))throw Mw(t,e)}),j(e=>e===!0))}function Rx(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=Vi(o,t),c=_x(a)?a.canMatch(e,n):vr(t,()=>a(e,n));return jn(c)});return P(s).pipe(Li(),Ow(r))}var ho=class{constructor(e){this.segmentGroup=e||null}},Yc=class extends Error{constructor(e){super(),this.urlTree=e}};function Mi(t){return ui(new ho(t))}function Mx(t){return ui(new b(4e3,!1))}function Nx(t){return ui(Nw(!1,it.GuardRejected))}var Mf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[k])return Mx(e.redirectTo);i=i.children[k]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Yc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Vn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Y(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Nf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xx(t,e,n,r,i){let s=Bf(t,e,n);return s.matched?(r=ax(e,r),Rx(r,e,n,i).pipe(j(o=>o===!0?s:I({},Nf)))):P(s)}function Bf(t,e,n){if(e.path==="**")return Px(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},Nf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||RN)(n,t,e);if(!i)return I({},Nf);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Px(t){return{matched:!0,parameters:t.length>0?fw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function dw(t,e,n,r){return n.length>0&&Fx(t,n,r)?{segmentGroup:new Y(e,kx(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&Lx(t,n,r)?{segmentGroup:new Y(t.segments,Ox(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function Ox(t,e,n,r){let i={};for(let s of n)if(Zc(t,e,s)&&!r[$t(s)]){let o=new Y([],{});i[$t(s)]=o}return I(I({},r),i)}function kx(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&$t(r)!==k){let i=new Y([],{});n[$t(r)]=i}return n}function Fx(t,e,n){return n.some(r=>Zc(t,e,r)&&$t(r)!==k)}function Lx(t,e,n){return n.some(r=>Zc(t,e,r))}function Zc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Vx(t,e,n,r){return $t(t)!==r&&(r===k||!Zc(e,n,t))?!1:Bf(e,t,n).matched}function Ux(t,e,n){return e.length===0&&!t.children[n]}var xf=class{};function jx(t,e,n,r,i,s,o="emptyOnly"){return new Pf(t,e,n,r,i,o,s).recognize()}var Bx=31,Pf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Mf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=dw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let r=new uo([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},k,this.rootComponentType,null,{}),i=new rt(r,n),s=new Kc("",i),o=KN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,k).pipe(Rn(r=>{if(r instanceof Yc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ho?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ff(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(j(s=>s instanceof rt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(di(s=>{let o=r.children[s],a=cx(n,s);return this.processSegmentGroup(e,a,o,s)}),md((s,o)=>(s.push(...o),s)),Mn(null),gd(),_e(s=>{if(s===null)return Mi(r);let o=kw(s);return $x(o),P(o)}))}processSegment(e,n,r,i,s,o){return de(n).pipe(di(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Rn(c=>{if(c instanceof ho)return P(null);throw c}))),Ot(a=>!!a),Rn(a=>{if(Pw(a))return Ux(r,i,s)?P(new xf):Mi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Vx(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Mi(i):Mi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Bf(n,i,s);if(!a)return Mi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Bx&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=xx(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Ct(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,p=new uo(l,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,qx(r),$t(r),r.component??r._loadedComponent??null,r,zx(r)),{segmentGroup:m,slicedSegments:_}=dw(n,l,d,c);if(_.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(j(T=>T===null?null:new rt(p,T)));if(c.length===0&&_.length===0)return P(new rt(p,[]));let D=$t(r)===s;return this.processSegment(u,c,m,_,D?k:s,!0).pipe(j(T=>new rt(p,T instanceof rt?[T]:[])))}))):Mi(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):Ax(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Nx(n))):P({routes:[],injector:e})}};function $x(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function Hx(t){let e=t.value.routeConfig;return e&&e.path===""}function kw(t){let e=[],n=new Set;for(let r of t){if(!Hx(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kw(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!n.has(r))}function qx(t){return t.data||{}}function zx(t){return t.resolve||{}}function Gx(t,e,n,r,i,s){return _e(o=>jx(t,e,n,r,o.extractedUrl,i,s).pipe(j(({state:a,tree:c})=>J(I({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Wx(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Fw(c))o.add(u);let a=0;return de(o).pipe(di(c=>s.has(c)?Kx(c,r,t,e):(c.data=Ff(c,c.parent,t).resolve,P(void 0))),Ie(()=>a++),hi(1),_e(c=>a===o.size?P(n):tt))})}function Fw(t){let e=t.children.map(n=>Fw(n)).flat();return[t,...e]}function Kx(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Aw(i)&&(s[fo]=i.title),Qx(s,t,e,r).pipe(j(o=>(t._resolvedData=o,t.data=Ff(t,t.parent,n).resolve,null)))}function Qx(t,e,n,r){let i=uf(t);if(i.length===0)return P({});let s={};return de(i).pipe(_e(o=>Yx(t[o],e,n,r).pipe(Ot(),Ie(a=>{s[o]=a}))),hi(1),pd(s),Rn(o=>Pw(o)?tt:ui(o)))}function Yx(t,e,n,r){let i=po(e)??r,s=Vi(t,i),o=s.resolve?s.resolve(e,n):vr(i,()=>s(e,n));return jn(o)}function af(t){return Ct(e=>{let n=t(e);return n?de(n).pipe(j(()=>e)):P(e)})}var Lw=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[fo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>w(Jx),providedIn:"root"});let t=e;return t})(),Jx=(()=>{let e=class e extends Lw{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(F(ow))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$f=new A("",{providedIn:"root",factory:()=>({})}),Hf=new A(""),Zx=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Wh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=jn(r.loadComponent()).pipe(j(Vw),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ts(()=>{this.componentLoaders.delete(r)})),s=new si(i,()=>new Be).pipe(ii());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Xx(i,this.compiler,r,this.onLoadEndListener).pipe(Ts(()=>{this.childrenLoaders.delete(i)})),a=new si(o,()=>new Be).pipe(ii());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xx(t,e,n,r){return jn(t.loadChildren()).pipe(j(Vw),_e(i=>i instanceof Ls||Array.isArray(i)?P(i):de(e.compileModuleAsync(i))),j(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Hf,[],{optional:!0,self:!0}).flat()),{routes:o.map(jf),injector:s}}))}function eP(t){return t&&typeof t=="object"&&"default"in t}function Vw(t){return eP(t)?t.default:t}var qf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>w(tP),providedIn:"root"});let t=e;return t})(),tP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nP=new A("");var rP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=w(Zx),this.environmentInjector=w(pt),this.urlSerializer=w(kf),this.rootContexts=w(Jc),this.location=w(Ws),this.inputBindingEnabled=w(Uf,{optional:!0})!==null,this.titleStrategy=w(Lw),this.options=w($f,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(qf),this.createViewTransition=w(nP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new vf(s)),i=s=>this.events.next(new _f(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(J(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Re({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:no,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(o=>o.id!==0),j(o=>J(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ct(o=>{let a=!1,c=!1;return P(o).pipe(Ct(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),tt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?J(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new br(u.id,this.urlSerializer.serialize(u.rawUrl),f,ff.IgnoredSameUrlNavigation)),u.resolve(null),tt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return P(u).pipe(Ct(f=>{let p=this.transitions?.getValue();return this.events.next(new so(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?tt:Promise.resolve(f)}),Gx(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=J(I({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new zc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:p,source:m,restoredState:_,extras:D}=u,T=new so(f,this.urlSerializer.serialize(p),m,_);this.events.next(T);let oe=bw(this.rootComponentType).snapshot;return this.currentTransition=o=J(I({},u),{targetSnapshot:oe,urlAfterRedirects:p,extras:J(I({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,P(o)}else{let f="";return this.events.next(new br(u.id,this.urlSerializer.serialize(u.extractedUrl),f,ff.IgnoredByUrlHandlingStrategy)),u.resolve(null),tt}}),Ie(u=>{let l=new pf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),j(u=>(this.currentTransition=o=J(I({},u),{guards:lx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Ix(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(o.guardsResult=u.guardsResult,ki(u.guardsResult))throw Mw(this.urlSerializer,u.guardsResult);let l=new gf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Dt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",it.GuardRejected),!1)),af(u=>{if(u.guards.canActivateChecks.length)return P(u).pipe(Ie(l=>{let d=new mf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ct(l=>{let d=!1;return P(l).pipe(Wx(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",it.NoDataFromResolver)}}))}),Ie(l=>{let d=new yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),af(u=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(p=>{d.component=p}),j(()=>{})));for(let p of d.children)f.push(...l(p));return f};return Ba(l(u.targetSnapshot.root)).pipe(Mn(null),tn(1))}),af(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?de(d).pipe(j(()=>o)):P(o)}),j(u=>{let l=nx(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=J(I({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ie(()=>{this.events.next(new ao)}),ux(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),tn(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),vd(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),Ts(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(u=>{if(c=!0,xw(u))this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),sx(u)?this.events.next(new co(u.url)):o.resolve(!1);else{this.events.next(new oo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return tt}))}))}cancelNavigationTransition(r,i,s){let o=new Un(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iP(t){return t!==no}var sP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>w(oP),providedIn:"root"});let t=e;return t})(),Of=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},oP=(()=>{let e=class e extends Of{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qs(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>w(aP),providedIn:"root"});let t=e;return t})(),aP=(()=>{let e=class e extends Uw{constructor(){super(...arguments),this.location=w(Ws),this.urlSerializer=w(kf),this.options=w($f,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(qf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof so)this.stateMemento=this.createStateMemento();else if(r instanceof br)this.rawUrlTree=i.initialUrl;else if(r instanceof zc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ao?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Un&&(r.code===it.GuardRejected||r.code===it.NoDataFromResolver)?this.restoreHistory(i):r instanceof oo?this.restoreHistory(i,!0):r instanceof Tr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qs(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(eo||{});function cP(t,e){t.events.pipe(Dt(n=>n instanceof Tr||n instanceof Un||n instanceof oo||n instanceof br),j(n=>n instanceof Tr||n instanceof br?eo.COMPLETE:(n instanceof Un?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?eo.REDIRECTING:eo.FAILED),Dt(n=>n!==eo.REDIRECTING),tn(1)).subscribe(()=>{e()})}function uP(t){throw t}var lP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Bn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Nc),this.stateManager=w(Uw),this.options=w($f,{optional:!0})||{},this.pendingTasks=w(Ac),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(rP),this.urlSerializer=w(kf),this.location=w(Ws),this.urlHandlingStrategy=w(qf),this._events=new Be,this.errorHandler=this.options.errorHandler||uP,this.navigated=!1,this.routeReuseStrategy=w(sP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(Hf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Uf,{optional:!0}),this.eventsSubscription=new le,this.isNgZoneEnabled=w(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Un&&i.code!==it.Redirect&&i.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Tr)this.navigated=!0;else if(i instanceof co){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||iP(s.source)};this.scheduleNavigation(a,no,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}fP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=I({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=s?s.snapshot:this.routerState.snapshot.root;f=Ew(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Dw(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ki(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,no,null,i)}navigate(r,i={skipLocationChange:!1}){return hP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},lP):i===!1?s=I({},dP):s=i,ki(r))return aw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return aw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,p)=>{c=f,u=p});let d=this.pendingTasks.add();return cP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function fP(t){return!(t instanceof ao)&&!(t instanceof co)}var pP=new A("");function jw(t,...e){return yc([{provide:Hf,multi:!0,useValue:t},[],{provide:Fi,useFactory:gP,deps:[Bn]},{provide:Gh,multi:!0,useFactory:mP},e.map(n=>n.\u0275providers)])}function gP(t){return t.routerState.root}function mP(){let t=w(mt);return e=>{let n=t.get(Gs);if(e!==n.components[0])return;let r=t.get(Bn),i=t.get(yP);t.get(vP)===1&&r.initialNavigation(),t.get(_P,null,L.Optional)?.setUpPreloading(),t.get(pP,null,L.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yP=new A("",{factory:()=>new Be}),vP=new A("",{providedIn:"root",factory:()=>1});var _P=new A("");var Qw=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(W(Ai),W(Ir))},e.\u0275dir=gt({type:e});let t=e;return t})(),IP=(()=>{let e=class e extends Qw{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qs(e)))(s||e)}})(),e.\u0275dir=gt({type:e,features:[Ln]});let t=e;return t})(),Yw=new A("");var wP={provide:Yw,useExisting:Si(()=>$i),multi:!0};function EP(){let t=dn()?dn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var DP=new A(""),$i=(()=>{let e=class e extends Qw{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!EP())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(W(Ai),W(Ir),W(DP,8))},e.\u0275dir=gt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ln("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Mc([wP]),Ln]});let t=e;return t})();function $n(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Jw(t){return t!=null&&typeof t.length=="number"}var Zw=new A(""),Xw=new A(""),CP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hn=class{static min(e){return TP(e)}static max(e){return bP(e)}static required(e){return SP(e)}static requiredTrue(e){return AP(e)}static email(e){return RP(e)}static minLength(e){return MP(e)}static maxLength(e){return NP(e)}static pattern(e){return xP(e)}static nullValidator(e){return eE(e)}static compose(e){return oE(e)}static composeAsync(e){return cE(e)}};function TP(t){return e=>{if($n(e.value)||$n(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function bP(t){return e=>{if($n(e.value)||$n(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function SP(t){return $n(t.value)?{required:!0}:null}function AP(t){return t.value===!0?null:{required:!0}}function RP(t){return $n(t.value)||CP.test(t.value)?null:{email:!0}}function MP(t){return e=>$n(e.value)||!Jw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function NP(t){return e=>Jw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function xP(t){if(!t)return eE;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($n(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function eE(t){return null}function tE(t){return t!=null}function nE(t){return wr(t)?de(t):t}function rE(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function iE(t,e){return e.map(n=>n(t))}function PP(t){return!t.validate}function sE(t){return t.map(e=>PP(e)?e:n=>e.validate(n))}function oE(t){if(!t)return null;let e=t.filter(tE);return e.length==0?null:function(n){return rE(iE(n,e))}}function aE(t){return t!=null?oE(sE(t)):null}function cE(t){if(!t)return null;let e=t.filter(tE);return e.length==0?null:function(n){let r=iE(n,e).map(nE);return fd(r).pipe(j(rE))}}function uE(t){return t!=null?cE(sE(t)):null}function Bw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lE(t){return t._rawValidators}function dE(t){return t._rawAsyncValidators}function Gf(t){return t?Array.isArray(t)?t:[t]:[]}function tu(t,e){return Array.isArray(t)?t.includes(e):t===e}function $w(t,e){let n=Gf(e);return Gf(t).forEach(i=>{tu(n,i)||n.push(i)}),n}function Hw(t,e){return Gf(e).filter(n=>!tu(t,n))}var nu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ji=class extends nu{get formDirective(){return null}get path(){return null}},vo=class extends nu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ru=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},OP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Y4=J(I({},OP),{"[class.ng-submitted]":"isSubmitted"}),au=(()=>{let e=class e extends ru{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(W(vo,2))},e.\u0275dir=gt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Rc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ln]});let t=e;return t})(),cu=(()=>{let e=class e extends ru{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(W(ji,10))},e.\u0275dir=gt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Rc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ln]});let t=e;return t})();var mo="VALID",Xc="INVALID",Ui="PENDING",yo="DISABLED";function Qf(t){return(uu(t)?t.validators:t)||null}function kP(t){return Array.isArray(t)?aE(t):t||null}function Yf(t,e){return(uu(e)?e.asyncValidators:t)||null}function FP(t){return Array.isArray(t)?uE(t):t||null}function uu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hE(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function fE(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Bi=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mo}get invalid(){return this.status===Xc}get pending(){return this.status==Ui}get disabled(){return this.status===yo}get enabled(){return this.status!==yo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($w(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($w(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hw(e,this._rawAsyncValidators))}hasValidator(e){return tu(this._rawValidators,e)}hasAsyncValidator(e){return tu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ui,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=yo,this.errors=null,this._forEachChild(r=>{r.disable(J(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mo,this._forEachChild(r=>{r.enable(J(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mo||this.status===Ui)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yo:mo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ui,this._hasOwnPendingAsyncValidator=!0;let n=nE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?yo:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ui)?Ui:this._anyControlsHaveStatus(Xc)?Xc:mo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=FP(this._rawAsyncValidators)}},iu=class extends Bi{constructor(e,n,r){super(Qf(n),Yf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fE(this,!0,e),Object.keys(e).forEach(r=>{hE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Wf=class extends iu{};var Jf=new A("CallSetDisabledState",{providedIn:"root",factory:()=>lu}),lu="always";function LP(t,e){return[...e.path,t]}function qw(t,e,n=lu){Zf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),UP(t,e),BP(t,e),jP(t,e),VP(t,e)}function zw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ou(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function su(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function VP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Zf(t,e){let n=lE(t);e.validator!==null?t.setValidators(Bw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=dE(t);e.asyncValidator!==null?t.setAsyncValidators(Bw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();su(e._rawValidators,i),su(e._rawAsyncValidators,i)}function ou(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=lE(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=dE(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return su(e._rawValidators,r),su(e._rawAsyncValidators,r),n}function UP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pE(t,e)})}function jP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function pE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function BP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function $P(t,e){t==null,Zf(t,e)}function HP(t,e){return ou(t,e)}function qP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function zP(t){return Object.getPrototypeOf(t.constructor)===IP}function GP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function WP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===$i?n=s:zP(s)?r=s:i=s}),i||r||n||null}function KP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ww(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var eu=class extends Bi{constructor(e=null,n,r){super(Qf(n),Yf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ww(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ww(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var QP=t=>t instanceof eu;var du=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=gt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var gE=new A("");var YP={provide:ji,useExisting:Si(()=>_o)},_o=(()=>{let e=class e extends ji{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ou(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return qw(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){zw(r.control||null,r,!1),KP(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,GP(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(zw(i||null,r),QP(s)&&(qw(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);$P(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&HP(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zf(this.form,this),this._oldForm&&ou(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(W(Zw,10),W(Xw,10),W(Jf,8))},e.\u0275dir=gt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ln("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[nt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mc([YP]),Ln,_r]});let t=e;return t})();var JP={provide:vo,useExisting:Si(()=>Io)},Io=(()=>{let e=class e extends vo{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=WP(this,o)}ngOnChanges(r){this._added||this._setUpControl(),qP(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return LP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(W(ji,13),W(Zw,10),W(Xw,10),W(Yw,10),W(gE,8))},e.\u0275dir=gt({type:e,selectors:[["","formControlName",""]],inputs:{name:[nt.None,"formControlName","name"],isDisabled:[nt.None,"disabled","isDisabled"],model:[nt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mc([JP]),Ln,_r]});let t=e;return t})();var mE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Qe({});let t=e;return t})(),Kf=class extends Bi{constructor(e,n,r){super(Qf(n),Yf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){fE(this,!1,e),e.forEach((r,i)=>{hE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Kw(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var hu=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return Kw(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new iu(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Wf(s,i)}control(r,i,s){let o={};return this.useNonNullable?(Kw(i)?o=i:(o.validators=i,o.asyncValidators=s),new eu(r,J(I({},o),{nonNullable:!0}))):new eu(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Kf(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof eu)return r;if(r instanceof Bi)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Jf,useValue:r.callSetDisabledState??lu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Qe({imports:[mE]});let t=e;return t})(),Hi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:gE,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Jf,useValue:r.callSetDisabledState??lu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=Qe({imports:[mE]});let t=e;return t})();var _E=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),r.push(n[l],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ep;let f=s<<2|a>>4;if(r.push(f),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ep=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XP=function(t){let e=_E(t);return IE.encodeByteArray(e,!0)},wo=function(t){return XP(t).replace(/\./g,"")},np=function(t){try{return IE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tO=()=>eO().__FIREBASE_DEFAULTS__,nO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&np(t[1]);return e&&JSON.parse(e)},gu=()=>{try{return tO()||nO()||rO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rp=t=>{var e,n;return(n=(e=gu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wE=t=>{let e=rp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ip=()=>{var t;return(t=gu())===null||t===void 0?void 0:t.config},sp=t=>{var e;return(e=gu())===null||e===void 0?void 0:e[`_${t}`]};var pu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function EE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wo(JSON.stringify(n)),wo(JSON.stringify(o)),""].join(".")}function we(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function iO(){var t;let e=(t=gu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bE(){let t=we();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SE(){return!iO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function op(){try{return typeof indexedDB=="object"}catch{return!1}}function AE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var sO="FirebaseError",st=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}},fn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new st(i,a,r)}};function oO(t,e){return t.replace(aO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var aO=/\{\$([^}]+)}/g;function RE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(vE(s)&&vE(o)){if(!Sr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function vE(t){return t!==null&&typeof t=="object"}function Eo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ME(t,e){let n=new tp(t,e);return n.subscribe.bind(n)}var tp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xf),i.error===void 0&&(i.error=Xf),i.complete===void 0&&(i.complete=Xf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function cO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}var X4=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var It=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ar="[DEFAULT]";var ap=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lO(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return h(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uO(t){return t===Ar?void 0:t}function lO(t){return t.instantiationMode==="EAGER"}var mu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ap(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var dO=[],B=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(B||{}),hO={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},fO=B.INFO,pO={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},gO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=pO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hn=class{constructor(e){this.name=e,this._logLevel=fO,this._logHandler=gO,this._userLogHandler=null,dO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in B))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...e),this._logHandler(this,B.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...e),this._logHandler(this,B.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,B.INFO,...e),this._logHandler(this,B.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,B.WARN,...e),this._logHandler(this,B.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...e),this._logHandler(this,B.ERROR,...e)}};var mO=(t,e)=>e.some(n=>t instanceof n),NE,xE;function yO(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vO(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PE=new WeakMap,up=new WeakMap,OE=new WeakMap,cp=new WeakMap,dp=new WeakMap;function _O(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ht(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PE.set(n,t)}).catch(()=>{}),dp.set(e,t),e}function IO(t){if(up.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});up.set(t,e)}var lp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kE(t){lp=t(lp)}function wO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yu(this),e,...n);return OE.set(r,e.sort?e.sort():[e]),Ht(r)}:vO().includes(t)?function(...e){return t.apply(yu(this),e),Ht(PE.get(this))}:function(...e){return Ht(t.apply(yu(this),e))}}function EO(t){return typeof t=="function"?wO(t):(t instanceof IDBTransaction&&IO(t),mO(t,yO())?new Proxy(t,lp):t)}function Ht(t){if(t instanceof IDBRequest)return _O(t);if(cp.has(t))return cp.get(t);let e=EO(t);return e!==t&&(cp.set(t,e),dp.set(e,t)),e}var yu=t=>dp.get(t);function LE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ht(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ht(o.result),c.oldVersion,c.newVersion,Ht(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var DO=["get","getKey","getAll","getAllKeys","count"],CO=["put","add","delete","clear"],hp=new Map;function FE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=CO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DO.includes(n)))return;let s=function(o,...a){return h(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return hp.set(e,s),s}kE(t=>J(I({},t),{get:(e,n,r)=>FE(e,n)||t.get(e,n,r),has:(e,n)=>!!FE(e,n)||t.has(e,n)}));var pp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function TO(t){let e=t.getComponent();return e?.type==="VERSION"}var gp="@firebase/app",VE="0.10.2";var Rr=new Hn("@firebase/app"),bO="@firebase/app-compat",SO="@firebase/analytics-compat",AO="@firebase/analytics",RO="@firebase/app-check-compat",MO="@firebase/app-check",NO="@firebase/auth",xO="@firebase/auth-compat",PO="@firebase/database",OO="@firebase/database-compat",kO="@firebase/functions",FO="@firebase/functions-compat",LO="@firebase/installations",VO="@firebase/installations-compat",UO="@firebase/messaging",jO="@firebase/messaging-compat",BO="@firebase/performance",$O="@firebase/performance-compat",HO="@firebase/remote-config",qO="@firebase/remote-config-compat",zO="@firebase/storage",GO="@firebase/storage-compat",WO="@firebase/firestore",KO="@firebase/firestore-compat",QO="firebase",YO="10.11.1";var mp="[DEFAULT]",JO={[gp]:"fire-core",[bO]:"fire-core-compat",[AO]:"fire-analytics",[SO]:"fire-analytics-compat",[MO]:"fire-app-check",[RO]:"fire-app-check-compat",[NO]:"fire-auth",[xO]:"fire-auth-compat",[PO]:"fire-rtdb",[OO]:"fire-rtdb-compat",[kO]:"fire-fn",[FO]:"fire-fn-compat",[LO]:"fire-iid",[VO]:"fire-iid-compat",[UO]:"fire-fcm",[jO]:"fire-fcm-compat",[BO]:"fire-perf",[$O]:"fire-perf-compat",[HO]:"fire-rc",[qO]:"fire-rc-compat",[zO]:"fire-gcs",[GO]:"fire-gcs-compat",[WO]:"fire-fst",[KO]:"fire-fst-compat","fire-js":"fire-js",[QO]:"fire-js-all"};var Do=new Map,ZO=new Map,yp=new Map;function UE(t,e){try{t.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zn(t){let e=t.name;if(yp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(let n of Do.values())UE(n,t);for(let n of ZO.values())UE(n,t);return!0}function To(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mt(t){return t.settings!==void 0}var XO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qn=new fn("app","Firebase",XO);var vp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}};var Gn=YO;function wp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qn.create("bad-app-name",{appName:String(i)});if(n||(n=ip()),!n)throw qn.create("no-options");let s=Do.get(i);if(s){if(Sr(n,s.options)&&Sr(r,s.config))return s;throw qn.create("duplicate-app",{appName:i})}let o=new mu(i);for(let c of yp.values())o.addComponent(c);let a=new vp(n,r,o);return Do.set(i,a),a}function Gi(t=mp){let e=Do.get(t);if(!e&&t===mp&&ip())return wp();if(!e)throw qn.create("no-app",{appName:t});return e}function vu(){return Array.from(Do.values())}function Ee(t,e,n){var r;let i=(r=JO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(a.join(" "));return}zn(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ek="firebase-heartbeat-database",tk=1,Co="firebase-heartbeat-store",fp=null;function HE(){return fp||(fp=LE(ek,tk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Co)}catch(n){console.warn(n)}}}}).catch(t=>{throw qn.create("idb-open",{originalErrorMessage:t.message})})),fp}function nk(t){return h(this,null,function*(){try{let n=(yield HE()).transaction(Co),r=yield n.objectStore(Co).get(qE(t));return yield n.done,r}catch(e){if(e instanceof st)Rr.warn(e.message);else{let n=qn.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(n.message)}}})}function jE(t,e){return h(this,null,function*(){try{let r=(yield HE()).transaction(Co,"readwrite");yield r.objectStore(Co).put(e,qE(t)),yield r.done}catch(n){if(n instanceof st)Rr.warn(n.message);else{let r=qn.create("idb-set",{originalErrorMessage:n?.message});Rr.warn(r.message)}}})}function qE(t){return`${t.name}!${t.options.appId}`}var rk=1024,ik=30*24*60*60*1e3,_p=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ip(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return h(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=ik}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return h(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=BE(),{heartbeatsToSend:r,unsentEntries:i}=sk(this._heartbeatsCache.heartbeats),s=wo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function BE(){return new Date().toISOString().substring(0,10)}function sk(t,e=rk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$E(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$E(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ip=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return h(this,null,function*(){return op()?AE().then(()=>!0).catch(()=>!1):!1})}read(){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield nk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $E(t){return wo(JSON.stringify({version:2,heartbeats:t})).length}function ok(t){zn(new It("platform-logger",e=>new pp(e),"PRIVATE")),zn(new It("heartbeat",e=>new _p(e),"PRIVATE")),Ee(gp,VE,t),Ee(gp,VE,"esm2017"),Ee("fire-js","")}ok("");var ak="firebase",ck="10.11.1";Ee(ak,ck,"app");var Nr=new on("ANGULARFIRE2_VERSION");function Iu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bo=(t,e)=>{let n=e?[e]:vu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ki=class{constructor(){return bo(uk)}},uk="app-check";function Wi(){}var _u=class{zone;delegate;constructor(e,n=ud){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ep=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)),n.pipe(Ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _u(Zone.current)),this.insideAngular=n.run(()=>new _u(Zone.current,cd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(F(te))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function lk(t){return wu().ngZone.runOutsideAngular(()=>t())}function Mr(t){return wu().ngZone.run(()=>t())}function dk(t){return hk(wu())(t)}function hk(t){return function(n){return n=n.lift(new Ep(t.ngZone)),n.pipe(An(t.outsideAngular),Sn(t.insideAngular))}}var fk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Mr(()=>t.apply(void 0,r))},Nt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Mr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi))),r[s]=fk(r[s],n));let i=lk(()=>t.apply(this,r));if(!e)if(i instanceof q){let s=wu();return i.pipe(An(s.outsideAngular),Sn(s.insideAngular))}else return Mr(()=>i);return i instanceof q?i.pipe(dk):i instanceof Promise?Mr(()=>new Promise((s,o)=>i.then(a=>Mr(()=>s(a)),a=>Mr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Mr(()=>i)};var pn=class{constructor(e){return e}},xr=class{constructor(){return vu()}};function pk(t){return t&&t.length===1?t[0]:new pn(Gi())}var Dp=new A("angularfire2._apps"),gk={provide:pn,useFactory:pk,deps:[[new Ye,Dp]]},mk={provide:xr,deps:[[new Ye,Dp]]};function yk(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pn(r)}}var vk=(()=>{class t{constructor(n){Ee("angularfire",Nr.full,"core"),Ee("angularfire",Nr.full,"app"),Ee("angular",kI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(F(Fn))};static \u0275mod=Ze({type:t});static \u0275inj=Qe({providers:[gk,mk]})}return t})();function zE(t,...e){return{ngModule:vk,providers:[{provide:Dp,useFactory:yk(t),multi:!0,deps:[te,mt,Qi,...e]}]}}var GE=Nt(wp,!0);function uD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lD=uD,dD=new fn("auth","Firebase",uD());var Su=new Hn("@firebase/auth");function _k(t,...e){Su.logLevel<=B.WARN&&Su.warn(`Auth (${Gn}): ${t}`,...e)}function Du(t,...e){Su.logLevel<=B.ERROR&&Su.error(`Auth (${Gn}): ${t}`,...e)}function zt(t,...e){throw zp(t,...e)}function Pr(t,...e){return zp(t,...e)}function hD(t,e,n){let r=Object.assign(Object.assign({},lD()),{[e]:n});return new fn("auth","Firebase",r).create(e,{appName:t.name})}function yn(t){return hD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dD.create(t,...e)}function C(t,e,...n){if(!t)throw zp(e,...n)}function gn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Du(e),new Error(e)}function Kn(t,e){t||gn(e)}function Sp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ik(){return WE()==="http:"||WE()==="https:"}function WE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ik()||CE()||"connection"in navigator)?navigator.onLine:!0}function Ek(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Or=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=DE()||TE()}get(){return wk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gp(t,e){Kn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Au=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ck=new Or(3e4,6e4);function vn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _n(s,o,a,c){return h(this,arguments,function*(t,e,n,r,i={}){return fD(t,i,()=>h(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Eo(Object.assign({key:t.config.apiKey},l)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Au.fetch()(pD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function fD(t,e,n){return h(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Dk),e);try{let i=new Ap(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Eu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Eu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Eu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hD(t,l,u);zt(t,l)}}catch(i){if(i instanceof st)throw i;zt(t,"network-request-failed",{message:String(i)})}})}function Oo(s,o,a,c){return h(this,arguments,function*(t,e,n,r,i={}){let u=yield _n(t,e,n,r,i);return"mfaPendingCredential"in u&&zt(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function pD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Gp(t.config,i):`${t.config.apiScheme}://${i}`}function Tk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ap=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),Ck.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Eu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Pr(t,e,r);return i.customData._tokenResponse=n,i}function KE(t){return t!==void 0&&t.enterprise!==void 0}var Rp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function bk(t,e){return h(this,null,function*(){return _n(t,"GET","/v2/recaptchaConfig",vn(t,e))})}function Sk(t,e){return h(this,null,function*(){return _n(t,"POST","/v1/accounts:delete",e)})}function gD(t,e){return h(this,null,function*(){return _n(t,"POST","/v1/accounts:lookup",e)})}function So(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wp(t,e=!1){return h(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=Kp(r);C(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:So(Cp(i.auth_time)),issuedAtTime:So(Cp(i.iat)),expirationTime:So(Cp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Cp(t){return Number(t)*1e3}function Kp(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{let i=np(n);return i?JSON.parse(i):(Du("Failed to decode base64 JWT payload"),null)}catch(i){return Du("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QE(t){let e=Kp(t);return C(e,"internal-error"),C(typeof e.exp<"u","internal-error"),C(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ro(t,e,n=!1){return h(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof st&&Ak(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Ak({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Mp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>h(this,null,function*(){yield this.iteration()}),n)}iteration(){return h(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ru(t){return h(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ro(t,gD(n,{idToken:r}));C(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mD(s.providerUserInfo):[],a=Rk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Qp(t){return h(this,null,function*(){let e=Xe(t);yield Ru(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Rk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mD(t){return t.map(e=>{var{providerId:n}=e,r=ld(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Mk(t,e){return h(this,null,function*(){let n=yield fD(t,{},()=>h(this,null,function*(){let r=Eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Au.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Nk(t,e){return h(this,null,function*(){return _n(t,"POST","/v2/accounts:revokeToken",vn(t,e))})}var Ao=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(typeof e.idToken<"u","internal-error"),C(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){C(e.length!==0,"internal-error");let n=QE(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return h(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(C(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return h(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Mk(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(C(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(C(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(C(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return gn("not implemented")}};function Wn(t,e){C(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ld(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return h(this,null,function*(){let n=yield Ro(this,this.stsTokenManager.getToken(this.auth,e));return C(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wp(this,e)}reload(){return Qp(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return h(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ru(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return h(this,null,function*(){if(Mt(this.auth.app))return Promise.reject(yn(this.auth));let e=yield this.getIdToken();return yield Ro(this,Sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,oe=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ne,emailVerified:fe,isAnonymous:ut,providerData:ve,stsTokenManager:lt}=n;C(ne&&lt,e,"internal-error");let Jr=Ao.fromJSON(this.name,lt);C(typeof ne=="string",e,"internal-error"),Wn(d,e.name),Wn(f,e.name),C(typeof fe=="boolean",e,"internal-error"),C(typeof ut=="boolean",e,"internal-error"),Wn(p,e.name),Wn(m,e.name),Wn(_,e.name),Wn(D,e.name),Wn(T,e.name),Wn(oe,e.name);let ir=new t({uid:ne,auth:e,email:f,emailVerified:fe,displayName:d,isAnonymous:ut,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:Jr,createdAt:T,lastLoginAt:oe});return ve&&Array.isArray(ve)&&(ir.providerData=ve.map(Zr=>Object.assign({},Zr))),D&&(ir._redirectEventId=D),ir}static _fromIdTokenResponse(e,n,r=!1){return h(this,null,function*(){let i=new Ao;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ru(s),s})}static _fromGetAccountInfoResponse(e,n,r){return h(this,null,function*(){let i=n.users[0];C(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?mD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ao;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var YE=new Map;function mn(t){Kn(t instanceof Function,"Expected a class definition");let e=YE.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YE.set(t,e),e)}var xk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return h(this,null,function*(){return!0})}_set(n,r){return h(this,null,function*(){this.storage[n]=r})}_get(n){return h(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return h(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Np=xk;function Cu(t,e,n){return`firebase:${t}:${e}:${n}`}var Mu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return h(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return h(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return h(this,null,function*(){if(!n.length)return new t(mn(Np),e,r);let i=(yield Promise.all(n.map(u=>h(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||mn(Np),o=Cu(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Yi._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>h(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function JE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_D(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wD(e))return"Blackberry";if(ED(e))return"Webos";if(Yp(e))return"Safari";if((e.includes("chrome/")||vD(e))&&!e.includes("edge/"))return"Chrome";if(ID(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yD(t=we()){return/firefox\//i.test(t)}function Yp(t=we()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vD(t=we()){return/crios\//i.test(t)}function _D(t=we()){return/iemobile/i.test(t)}function ID(t=we()){return/android/i.test(t)}function wD(t=we()){return/blackberry/i.test(t)}function ED(t=we()){return/webos/i.test(t)}function Uu(t=we()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pk(t=we()){var e;return Uu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ok(){return bE()&&document.documentMode===10}function DD(t=we()){return Uu(t)||ID(t)||ED(t)||wD(t)||/windows phone/i.test(t)||_D(t)}function kk(){try{return!!(window&&window!==window.top)}catch{return!1}}function CD(t,e=[]){let n;switch(t){case"Browser":n=JE(we());break;case"Worker":n=`${JE(we())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gn}/${r}`}var xp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return h(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Fk(n){return h(this,arguments,function*(t,e={}){return _n(t,"GET","/v2/passwordPolicy",vn(t,e))})}var Lk=6,Pp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Lk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Op=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nu(this),this.idTokenSubscription=new Nu(this),this.beforeStateQueue=new xp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mn(n)),this._initializationPromise=this.queue(()=>h(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Mu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return h(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return h(this,null,function*(){try{let n=yield gD(this,{idToken:e}),r=yield Yi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return h(this,null,function*(){var n;if(Mt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return C(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return h(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return h(this,null,function*(){try{yield Ru(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ek()}_delete(){return h(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return h(this,null,function*(){if(Mt(this.app))return Promise.reject(yn(this));let n=e?Xe(e):null;return n&&C(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return h(this,null,function*(){if(!this._deleted)return e&&C(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>h(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return h(this,null,function*(){return Mt(this.app)?Promise.reject(yn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Mt(this.app)?Promise.reject(yn(this)):this.queue(()=>h(this,null,function*(){yield this.assertedPersistence.setPersistence(mn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return h(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return h(this,null,function*(){let e=yield Fk(this),n=new Pp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return h(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Nk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return h(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return h(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&mn(e)||this._popupRedirectResolver;C(n,this,"argument-error"),this.redirectPersistenceManager=yield Mu.create(this,[mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return h(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>h(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return h(this,null,function*(){if(e===this.currentUser)return this.queue(()=>h(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(C(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return h(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return h(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return h(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_k(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Qn(t){return Xe(t)}var Nu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ME(n=>this.observer=n)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ju={loadJS(){return h(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vk(t){ju=t}function TD(t){return ju.loadJS(t)}function Uk(){return ju.recaptchaEnterpriseScript}function jk(){return ju.gapiScript}function bD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Bk="recaptcha-enterprise",$k="NO_RECAPTCHA",kp=class{constructor(e){this.type=Bk,this.auth=Qn(e)}verify(e="verify",n=!1){return h(this,null,function*(){function r(s){return h(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>h(this,null,function*(){bk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Rp(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;KE(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o($k)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&KE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Uk();c.length!==0&&(c+=a),TD(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function ZE(t,e,n,r=!1){return h(this,null,function*(){let i=new kp(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function xu(t,e,n,r){return h(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield ZE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>h(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield ZE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Jp(t,e){let n=To(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Sr(s,e??{}))return i;zt(i,"already-initialized")}return n.initialize({options:e})}function Hk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zp(t,e,n){let r=Qn(t);C(r._canInitEmulator,r,"emulator-config-failed"),C(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=SD(e),{host:o,port:a}=qk(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zk()}function SD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qk(t){let e=SD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:XE(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:XE(o)}}}function XE(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zk(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var No=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gn("not implemented")}_getIdTokenResponse(e){return gn("not implemented")}_linkToIdToken(e,n){return gn("not implemented")}_getReauthenticationResolver(e){return gn("not implemented")}};function Gk(t,e){return h(this,null,function*(){return _n(t,"POST","/v1/accounts:signUp",e)})}function Wk(t,e){return h(this,null,function*(){return Oo(t,"POST","/v1/accounts:signInWithPassword",vn(t,e))})}function Kk(t,e){return h(this,null,function*(){return _n(t,"POST","/v1/accounts:sendOobCode",vn(t,e))})}function Qk(t,e){return h(this,null,function*(){return Kk(t,e)})}function Yk(t,e){return h(this,null,function*(){return Oo(t,"POST","/v1/accounts:signInWithEmailLink",vn(t,e))})}function Jk(t,e){return h(this,null,function*(){return Oo(t,"POST","/v1/accounts:signInWithEmailLink",vn(t,e))})}var xo=class t extends No{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return h(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xu(e,n,"signInWithPassword",Wk);case"emailLink":return Yk(e,{email:this._email,oobCode:this._password});default:zt(e,"internal-error")}})}_linkToIdToken(e,n){return h(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xu(e,r,"signUpPassword",Gk);case"emailLink":return Jk(e,{idToken:n,email:this._email,oobCode:this._password});default:zt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Tp(t,e){return h(this,null,function*(){return Oo(t,"POST","/v1/accounts:signInWithIdp",vn(t,e))})}function Zk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xk(t){let e=qi(zi(t)).link,n=e?qi(zi(e)).deep_link_id:null,r=qi(zi(t)).deep_link_id;return(r?qi(zi(r)).link:null)||r||n||e||t}var Pu=class t{constructor(e){var n,r,i,s,o,a;let c=qi(zi(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Zk((i=c.mode)!==null&&i!==void 0?i:null);C(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Xk(e);try{return new t(n)}catch{return null}}};var AD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return xo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Pu.parseLink(r);return C(i,"argument-error"),xo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ou=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fp=class extends Ou{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function e1(t,e){return h(this,null,function*(){return Oo(t,"POST","/v1/accounts:signUp",vn(t,e))})}var Ji=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return h(this,null,function*(){let s=yield Yi._fromIdTokenResponse(e,r,i),o=eD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return h(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function eD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Lp=class t extends st{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function RD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lp._fromErrorAndOperation(t,s,e,r):s})}function t1(t,e,n=!1){return h(this,null,function*(){let r=yield Ro(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ji._forOperation(t,"link",r)})}function n1(t,e,n=!1){return h(this,null,function*(){let{auth:r}=t;if(Mt(r.app))return Promise.reject(yn(r));let i="reauthenticate";try{let s=yield Ro(t,RD(r,i,e,t),n);C(s.idToken,r,"internal-error");let o=Kp(s.idToken);C(o,r,"internal-error");let{sub:a}=o;return C(t.uid===a,r,"user-mismatch"),Ji._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&zt(r,"user-mismatch"),s}})}function MD(t,e,n=!1){return h(this,null,function*(){if(Mt(t.app))return Promise.reject(yn(t));let r="signIn",i=yield RD(t,r,e),s=yield Ji._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xp(t,e){return h(this,null,function*(){return MD(Qn(t),e)})}function r1(t,e,n){var r;C(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),C(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(C(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(C(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function ND(t){return h(this,null,function*(){let e=Qn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function eg(t,e,n){return h(this,null,function*(){let r=Qn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&r1(r,i,n),yield xu(r,i,"getOobCode",Qk)})}function tg(t,e,n){return h(this,null,function*(){if(Mt(t.app))return Promise.reject(yn(t));let r=Qn(t),o=yield xu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e1).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ND(t),c}),a=yield Ji._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ng(t,e,n){return Mt(t.app)?Promise.reject(yn(t)):Xp(Xe(t),AD.credential(e,n)).catch(r=>h(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ND(t),r}))}function rg(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function ig(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}var ku="__sak";var Fu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function i1(){let t=we();return Yp(t)||Uu(t)}var s1=1e3,o1=10,a1=(()=>{class t extends Fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=i1()&&kk(),this.fallbackToPolling=DD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Ok()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,o1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},s1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return h(this,null,function*(){yield Tn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return h(this,null,function*(){let r=yield Tn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return h(this,null,function*(){yield Tn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),xD=a1;var c1=(()=>{class t extends Fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sg=c1;function u1(t){return Promise.all(t.map(e=>h(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var l1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return h(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>h(this,null,function*(){return l(r.origin,o)})),u=yield u1(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function PD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Vp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return h(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=PD("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function qt(){return window}function d1(t){qt().location.href=t}function OD(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}function h1(){return h(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function f1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function p1(){return OD()?self:null}var kD="firebaseLocalStorageDb",g1=1,Lu="firebaseLocalStorage",FD="fbase_key",kr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Bu(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function m1(){let t=indexedDB.deleteDatabase(kD);return new kr(t).toPromise()}function Up(){let t=indexedDB.open(kD,g1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Lu,{keyPath:FD})}catch(i){n(i)}}),t.addEventListener("success",()=>h(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Lu)?e(r):(r.close(),yield m1(),e(yield Up()))}))})}function tD(t,e,n){return h(this,null,function*(){let r=Bu(t,!0).put({[FD]:e,value:n});return new kr(r).toPromise()})}function y1(t,e){return h(this,null,function*(){let n=Bu(t,!1).get(e),r=yield new kr(n).toPromise();return r===void 0?null:r.value})}function nD(t,e){let n=Bu(t,!0).delete(e);return new kr(n).toPromise()}var v1=800,_1=3,I1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return h(this,null,function*(){return this.db?this.db:(this.db=yield Up(),this.db)})}_withRetries(n){return h(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>_1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return h(this,null,function*(){return OD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return h(this,null,function*(){this.receiver=l1._getInstance(p1()),this.receiver._subscribe("keyChanged",(n,r)=>h(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>h(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return h(this,null,function*(){var n,r;if(this.activeServiceWorker=yield h1(),!this.activeServiceWorker)return;this.sender=new Vp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return h(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||f1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return h(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Up();return yield tD(n,ku,"1"),yield nD(n,ku),!0}catch{}return!1})}_withPendingWrite(n){return h(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(i=>tD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return h(this,null,function*(){let r=yield this._withRetries(i=>y1(i,n));return this.localCache[n]=r,r})}_remove(n){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(r=>nD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return h(this,null,function*(){let n=yield this._withRetries(s=>{let o=Bu(s,!1).getAll();return new kr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>h(this,null,function*(){return this._poll()}),v1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),LD=I1;var qG=bD("rcb"),zG=new Or(3e4,6e4);function w1(t,e){return e?mn(e):(C(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Po=class extends No{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function E1(t){return MD(t.auth,new Po(t),t.bypassAuthState)}function D1(t){let{auth:e,user:n}=t;return C(n,e,"internal-error"),n1(n,new Po(t),t.bypassAuthState)}function C1(t){return h(this,null,function*(){let{auth:e,user:n}=t;return C(n,e,"internal-error"),t1(n,new Po(t),t.bypassAuthState)})}var jp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>h(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return h(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E1;case"linkViaPopup":case"linkViaRedirect":return C1;case"reauthViaPopup":case"reauthViaRedirect":return D1;default:zt(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var GG=new Or(2e3,1e4);var T1="pendingRedirect",Tu=new Map,Bp=class t extends jp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return h(this,null,function*(){let e=Tu.get(this.auth._key());if(!e){try{let r=(yield b1(this.resolver,this.auth))?yield Tn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return h(this,null,function*(){if(e.type==="signInViaRedirect")return Tn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Tn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return h(this,null,function*(){})}cleanUp(){}};function b1(t,e){return h(this,null,function*(){let n=R1(e),r=A1(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function S1(t,e){Tu.set(t._key(),e)}function A1(t){return mn(t._redirectPersistence)}function R1(t){return Cu(T1,t.config.apiKey,t.name)}function M1(t,e,n=!1){return h(this,null,function*(){if(Mt(t.app))return Promise.reject(yn(t));let r=Qn(t),i=w1(r,e),o=yield new Bp(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var N1=10*60*1e3,$p=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N1&&this.cachedEventUids.clear(),this.cachedEventUids.has(rD(e))}saveEventToCache(e){this.cachedEventUids.add(rD(e)),this.lastProcessedEventTime=Date.now()}};function rD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function x1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VD(t);default:return!1}}function P1(n){return h(this,arguments,function*(t,e={}){return _n(t,"GET","/v1/projects",e)})}var O1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k1=/^https?/;function F1(t){return h(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield P1(t);for(let n of e)try{if(L1(n))return}catch{}zt(t,"unauthorized-domain")})}function L1(t){let e=Sp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!k1.test(n))return!1;if(O1.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var V1=new Or(3e4,6e4);function iD(){let t=qt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U1(t){return new Promise((e,n)=>{var r,i,s;function o(){iD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iD(),n(Pr(t,"network-request-failed"))},timeout:V1.get()})}if(!((i=(r=qt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qt().gapi)===null||s===void 0)&&s.load)o();else{let a=bD("iframefcb");return qt()[a]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},TD(`${jk()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw bu=null,e})}var bu=null;function j1(t){return bu=bu||U1(t),bu}var B1=new Or(5e3,15e3),$1="__/auth/iframe",H1="emulator/auth/iframe",q1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G1(t){let e=t.config;C(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gp(e,H1):`https://${t.config.authDomain}/${$1}`,r={apiKey:e.apiKey,appName:t.name,v:Gn},i=z1.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Eo(r).slice(1)}`}function W1(t){return h(this,null,function*(){let e=yield j1(t),n=qt().gapi;return C(n,t,"internal-error"),e.open({where:document.body,url:G1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q1,dontclear:!0},r=>new Promise((i,s)=>h(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Pr(t,"network-request-failed"),a=qt().setTimeout(()=>{s(o)},B1.get());function c(){qt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var K1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q1=500,Y1=600,J1="_blank",Z1="http://localhost",Vu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function X1(t,e,n,r=Q1,i=Y1){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},K1),{width:r.toString(),height:i.toString(),top:s,left:o}),u=we().toLowerCase();n&&(a=vD(u)?J1:n),yD(u)&&(e=e||Z1,c.scrollbars="yes");let l=Object.entries(c).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Pk(u)&&a!=="_self")return eF(e||"",a),new Vu(null);let d=window.open(e||"",a,l);C(d,t,"popup-blocked");try{d.focus()}catch{}return new Vu(d)}function eF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var tF="__/auth/handler",nF="emulator/auth/handler",rF=encodeURIComponent("fac");function sD(t,e,n,r,i,s){return h(this,null,function*(){C(t.config.authDomain,t,"auth-domain-config-required"),C(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(e instanceof Ou){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Fp){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${rF}=${encodeURIComponent(c)}`:"";return`${iF(t)}?${Eo(a).slice(1)}${u}`})}function iF({config:t}){return t.emulator?Gp(t,nF):`https://${t.authDomain}/${tF}`}var bp="webStorageSupport",Hp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sg,this._completeRedirectFn=M1,this._overrideRedirectResult=S1}_openPopup(e,n,r,i){return h(this,null,function*(){var s;Kn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield sD(e,n,r,Sp(),i);return X1(e,o,PD())})}_openRedirect(e,n,r,i){return h(this,null,function*(){yield this._originValidation(e);let s=yield sD(e,n,r,Sp(),i);return d1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return h(this,null,function*(){let n=yield W1(e),r=new $p(e);return n.register("authEvent",i=>(C(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[bp];o!==void 0&&n(!!o),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DD()||Yp()||Uu()}},UD=Hp;var oD="@firebase/auth",aD="1.7.2";var qp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return h(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oF(t){zn(new It("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CD(t)},u=new Op(r,i,s,c);return Hk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zn(new It("auth-internal",e=>{let n=Qn(e.getProvider("auth").getImmediate());return(r=>new qp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(oD,aD,sF(t)),Ee(oD,aD,"esm2017")}var aF=5*60,cF=sp("authIdTokenMaxAge")||aF,cD=null,uF=t=>e=>h(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cF)return;let i=n?.token;cD!==i&&(cD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function og(t=Gi()){let e=To(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jp(t,{popupRedirectResolver:UD,persistence:[LD,xD,sg]}),r=sp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=uF(s.toString());ig(n,o,()=>o(n.currentUser)),rg(n,a=>o(a))}}let i=rp("auth");return i&&Zp(n,`http://${i}`),n}function lF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oF("Browser");var jD="auth",Fr=class{constructor(e){return e}},ko=class{constructor(){return bo(jD)}};var ag=new A("angularfire2.auth-instances");function eL(t,e){let n=Iu(jD,t,e);return n&&new Fr(n)}function tL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fr(r)}}var nL={provide:ko,deps:[[new Ye,ag]]},rL={provide:Fr,useFactory:eL,deps:[[new Ye,ag],pn]},iL=(()=>{class t{constructor(){Ee("angularfire",Nr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ze({type:t});static \u0275inj=Qe({providers:[rL,nL]})}return t})();function BD(t,...e){return{ngModule:iL,providers:[{provide:ag,useFactory:tL(t),multi:!0,deps:[te,mt,Qi,xr,[new Ye,Ki],...e]}]}}var $D=Nt(tg,!0);var HD=Nt(og,!0);var qD=Nt(eg,!0);var zD=Nt(ng,!0);var oL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt={},v,Rg=Rg||{},N=oL||self;function tl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aL(t){return Object.prototype.hasOwnProperty.call(t,cg)&&t[cg]||(t[cg]=++cL)}var cg="closure_uid_"+(1e9*Math.random()>>>0),cL=0;function uL(t,e,n){return t.call.apply(t.bind,arguments)}function lL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Fe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fe=uL:Fe=lL,Fe.apply(null,arguments)}function $u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Te(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yn(){this.s=this.s,this.o=this.o}var dL=0;Yn.prototype.s=!1;Yn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),dL!=0)&&aL(this)};Yn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var iC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function GD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(tl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Le(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var hL=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};N.addEventListener("test",n,e),N.removeEventListener("test",n,e)}catch{}return t}();function Bo(t){return/^[\s\xa0]*$/.test(t)}function nl(){var t=N.navigator;return t&&(t=t.userAgent)?t:""}function Gt(t){return nl().indexOf(t)!=-1}function Ng(t){return Ng[" "](t),t}Ng[" "]=function(){};function fL(t,e){var n=tV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var pL=Gt("Opera"),ts=Gt("Trident")||Gt("MSIE"),sC=Gt("Edge"),fg=sC||ts,oC=Gt("Gecko")&&!(nl().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),gL=nl().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge");function aC(){var t=N.document;return t?t.documentMode:void 0}var pg;e:{if(Hu="",qu=function(){var t=nl();if(oC)return/rv:([^\);]+)(\)|;)/.exec(t);if(sC)return/Edge\/([\d\.]+)/.exec(t);if(ts)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gL)return/WebKit\/(\S+)/.exec(t);if(pL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),qu&&(Hu=qu?qu[1]:""),ts&&(zu=aC(),zu!=null&&zu>parseFloat(Hu))){pg=String(zu);break e}pg=Hu}var Hu,qu,zu,gg;N.document&&ts?(ug=aC(),gg=ug||parseInt(pg,10)||void 0):gg=void 0;var ug,mL=gg;function $o(t,e){if(Le.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oC){e:{try{Ng(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$o.$.h.call(this)}}Te($o,Le);var yL={2:"touch",3:"pen",4:"mouse"};$o.prototype.h=function(){$o.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yo="closure_listenable_"+(1e6*Math.random()|0),vL=0;function _L(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vL,this.fa=this.ia=!1}function rl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function IL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function cC(t){let e={};for(let n in t)e[n]=t[n];return e}var WD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<WD.length;s++)n=WD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function il(t){this.src=t,this.g={},this.h=0}il.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=yg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _L(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function mg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=iC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Pg="closure_lm_"+(1e6*Math.random()|0),lg={};function lC(t,e,n,r,i){if(r&&r.once)return hC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lC(t,e[s],n,r,i);return null}return n=Fg(n),t&&t[Yo]?t.O(e,n,Qo(r)?!!r.capture:!!r,i):dC(t,e,n,!1,r,i)}function dC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Qo(i)?!!i.capture:!!i,a=kg(t);if(a||(t[Pg]=a=new il(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=wL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wL(){function t(n){return e.call(t.src,t.listener,n)}let e=EL;return t}function hC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)hC(t,e[s],n,r,i);return null}return n=Fg(n),t&&t[Yo]?t.P(e,n,Qo(r)?!!r.capture:!!r,i):dC(t,e,n,!0,r,i)}function fC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)fC(t,e[s],n,r,i);else r=Qo(r)?!!r.capture:!!r,n=Fg(n),t&&t[Yo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=yg(s,n,r,i),-1<n&&(rl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=kg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yg(e,n,r,i)),(n=-1<t?e[t]:null)&&Og(n))}function Og(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yo])mg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kg(e))?(mg(n,t),n.h==0&&(n.src=null,e[Pg]=null)):rl(t)}}}function pC(t){return t in lg?lg[t]:lg[t]="on"+t}function EL(t,e){if(t.fa)t=!0;else{e=new $o(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Og(t),t=n.call(r,e)}return t}function kg(t){return t=t[Pg],t instanceof il?t:null}var dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fg(t){return typeof t=="function"?t:(t[dg]||(t[dg]=function(e){return t.handleEvent(e)}),t[dg])}function Ce(){Yn.call(this),this.i=new il(this),this.S=this,this.J=null}Te(Ce,Yn);Ce.prototype[Yo]=!0;Ce.prototype.removeEventListener=function(t,e,n,r){fC(this,t,e,n,r)};function Pe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Le(e,t);else if(e instanceof Le)e.target=e.target||t;else{var i=e;e=new Le(r,t),uC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Gu(o,r,!0,e)&&i}if(o=e.g=t,i=Gu(o,r,!0,e)&&i,i=Gu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Gu(o,r,!1,e)&&i}Ce.prototype.N=function(){if(Ce.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rl(n[r]);delete t.g[e],t.h--}}this.J=null};Ce.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ce.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Gu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&mg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lg=N.JSON.stringify,vg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function DL(){var t=Vg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _g=class{constructor(){this.h=this.g=null}add(e,n){let r=gC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},gC=new vg(()=>new Ig,t=>t.reset()),Ig=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function CL(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function TL(t){N.setTimeout(()=>{throw t},0)}var Ho,qo=!1,Vg=new _g,mC=()=>{let t=N.Promise.resolve(void 0);Ho=()=>{t.then(bL)}},bL=()=>{for(var t;t=DL();){try{t.h.call(t.g)}catch(n){TL(n)}var e=gC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qo=!1};function sl(t,e){Ce.call(this),this.h=t||1,this.g=e||N,this.j=Fe(this.qb,this),this.l=Date.now()}Te(sl,Ce);v=sl.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pe(this,"tick"),this.ga&&(Ug(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ug(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){sl.$.N.call(this),Ug(this),delete this.g};function jg(t,e,n){if(typeof t=="function")n&&(t=Fe(t,n));else if(t&&typeof t.handleEvent=="function")t=Fe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:N.setTimeout(t,e||0)}function yC(t){t.g=jg(()=>{t.g=null,t.i&&(t.i=!1,yC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var wg=class extends Yn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yC(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function zo(t){Yn.call(this),this.h=t,this.g={}}Te(zo,Yn);var KD=[];function vC(t,e,n,r){Array.isArray(n)||(n&&(KD[0]=n.toString()),n=KD);for(var i=0;i<n.length;i++){var s=lC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _C(t){xg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Og(e)},t),t.g={}}zo.prototype.N=function(){zo.$.N.call(this),_C(this)};zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ol(){this.g=!0}ol.prototype.Ea=function(){this.g=!1};function SL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function AL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Xi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ML(t,n)+(r?" "+r:"")})}function RL(t,e){t.info(function(){return"TIMEOUT: "+e})}ol.prototype.info=function(){};function ML(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Lg(n)}catch{return e}}var jr={},QD=null;function al(){return QD=QD||new Ce}jr.Ta="serverreachability";function IC(t){Le.call(this,jr.Ta,t)}Te(IC,Le);function Go(t){let e=al();Pe(e,new IC(e))}jr.STAT_EVENT="statevent";function wC(t,e){Le.call(this,jr.STAT_EVENT,t),this.stat=e}Te(wC,Le);function qe(t){let e=al();Pe(e,new wC(e,t))}jr.Ua="timingevent";function EC(t,e){Le.call(this,jr.Ua,t),this.size=e}Te(EC,Le);function Jo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){t()},e)}var cl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bg(){}Bg.prototype.h=null;function YD(t){return t.h||(t.h=t.i())}function CC(){}var Zo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $g(){Le.call(this,"d")}Te($g,Le);function Hg(){Le.call(this,"c")}Te(Hg,Le);var Eg;function ul(){}Te(ul,Bg);ul.prototype.g=function(){return new XMLHttpRequest};ul.prototype.i=function(){return{}};Eg=new ul;function Xo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zo(this),this.P=NL,t=fg?125:void 0,this.V=new sl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TC}function TC(){this.i=null,this.g="",this.h=!1}var NL=45e3,bC={},Dg={};v=Xo.prototype;v.setTimeout=function(t){this.P=t};function Cg(t,e,n){t.L=1,t.A=dl(wn(e)),t.u=n,t.S=!0,SC(t,null)}function SC(t,e){t.G=Date.now(),ea(t),t.B=wn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),kC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new TC,t.g=nT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wg(Fe(t.Pa,t,t.g),t.O)),vC(t.U,t.g,"readystatechange",t.nb),e=t.I?cC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Go(),SL(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Wt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Wt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||fg||this.g&&(this.h.h||this.g.ja()||eC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Go(3):Go(2)),ll(this);var n=this.g.da();this.ca=n;t:if(AC(this)){var r=eC(this.g);t="";var i=r.length,s=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),jo(this);var o="";break t}this.h.i=new N.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,AL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bo(a)){var u=a;break t}}u=null}if(n=u)Xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tg(this,n);else{this.i=!1,this.s=3,qe(12),Lr(this),jo(this);break e}}this.S?(RC(this,l,o),fg&&this.i&&l==3&&(vC(this.U,this.V,"tick",this.mb),this.V.start())):(Xi(this.j,this.m,o,null),Tg(this,o)),l==4&&Lr(this),this.i&&!this.J&&(l==4?ZC(this.l,this):(this.i=!1,ea(this)))}else ZL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Lr(this),jo(this)}}}catch{}finally{}};function AC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function RC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=xL(t,n),i==Dg){e==4&&(t.s=4,qe(14),r=!1),Xi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==bC){t.s=4,qe(15),Xi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xi(t.j,t.m,i,null),Tg(t,i);AC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,qe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qg(e),e.M=!0,qe(11))):(Xi(t.j,t.m,n,"[Invalid Chunked Response]"),Lr(t),jo(t))}v.mb=function(){if(this.g){var t=Wt(this.g),e=this.g.ja();this.o<e.length&&(ll(this),RC(this,t,e),this.i&&t!=4&&ea(this))}};function xL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Dg:(n=Number(e.substring(n,r)),isNaN(n)?bC:(r+=1,r+n>e.length?Dg:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,Lr(this)};function ea(t){t.Y=Date.now()+t.P,MC(t,t.P)}function MC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Jo(Fe(t.lb,t),e)}function ll(t){t.C&&(N.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(RL(this.j,this.B),this.L!=2&&(Go(),qe(17)),Lr(this),this.s=2,jo(this)):MC(this,this.Y-t)};function jo(t){t.l.H==0||t.J||ZC(t.l,t)}function Lr(t){ll(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ug(t.V),_C(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Tg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bg(n.i,t))){if(!t.K&&bg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ju(n),pl(n);else break e;Kg(n),qe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Jo(Fe(n.ib,n),6e3));if(1>=VC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vr(n,11)}else if((t.K||n.g==t)&&Ju(n),!Bo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(qg(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ae(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=tT(r,r.J?r.pa:null,r.Y),o.K){UC(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(ll(a),ea(a)),r.g=o}else YC(r);0<n.j.length&&gl(n)}else u[0]!="stop"&&u[0]!="close"||Vr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Vr(n,7):Wg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Go(4)}catch{}}function PL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(tl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function OL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function NC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=OL(t),r=PL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var xC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ur(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ur){this.h=t.h,Qu(this,t.j),this.s=t.s,this.g=t.g,Yu(this,t.m),this.l=t.l;var e=t.i,n=new Wo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),JD(this,n),this.o=t.o}else t&&(e=String(t).match(xC))?(this.h=!1,Qu(this,e[1]||"",!0),this.s=Vo(e[2]||""),this.g=Vo(e[3]||"",!0),Yu(this,e[4]),this.l=Vo(e[5]||"",!0),JD(this,e[6]||"",!0),this.o=Vo(e[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}Ur.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uo(e,ZD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uo(e,ZD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uo(n,n.charAt(0)=="/"?VL:LL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uo(n,jL)),t.join("")};function wn(t){return new Ur(t)}function Qu(t,e,n){t.j=n?Vo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JD(t,e,n){e instanceof Wo?(t.i=e,BL(t.i,t.h)):(n||(e=Uo(e,UL)),t.i=new Wo(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function dl(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,FL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function FL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZD=/[#\/\?@]/g,LL=/[#\?:]/g,VL=/[#\?]/g,UL=/[#\?@]/g,jL=/#/g;function Wo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jn(t){t.g||(t.g=new Map,t.h=0,t.i&&kL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=Wo.prototype;v.add=function(t,e){Jn(this),this.i=null,t=ns(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function PC(t,e){Jn(t),e=ns(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OC(t,e){return Jn(t),e=ns(t,e),t.g.has(e)}v.forEach=function(t,e){Jn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){Jn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){Jn(this);let e=[];if(typeof t=="string")OC(this,t)&&(e=e.concat(this.g.get(ns(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return Jn(this),this.i=null,t=ns(this,t),OC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kC(t,e,n){PC(t,e),0<n.length&&(t.i=null,t.g.set(ns(t,e),Mg(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ns(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function BL(t,e){e&&!t.j&&(Jn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(PC(this,r),kC(this,i,n))},t)),t.j=e}var $L=class{constructor(t,e){this.g=t,this.map=e}};function FC(t){this.l=t||HL,N.PerformanceNavigationTiming?(t=N.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(N.g&&N.g.Ka&&N.g.Ka()&&N.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var HL=10;function LC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VC(t){return t.h?1:t.g?t.g.size:0}function bg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qg(t,e){t.g?t.g.add(e):t.h=e}function UC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FC.prototype.cancel=function(){if(this.i=jC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function jC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Mg(t.i)}var qL=class{stringify(t){return N.JSON.stringify(t,void 0)}parse(t){return N.JSON.parse(t,void 0)}};function zL(){this.g=new qL}function GL(t,e,n){let r=n||"";try{NC(t,function(i,s){let o=i;Qo(i)&&(o=Lg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function WL(t,e){let n=new ol;if(N.Image){let r=new Image;r.onload=$u(Wu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$u(Wu,n,r,"TestLoadImage: error",!1,e),r.onabort=$u(Wu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$u(Wu,n,r,"TestLoadImage: timeout",!1,e),N.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ta(t){this.l=t.ec||null,this.j=t.ob||!1}Te(ta,Bg);ta.prototype.g=function(){return new hl(this.l,this.j)};ta.prototype.i=function(t){return function(){return t}}({});function hl(t,e){Ce.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Te(hl,Ce);var zg=0;v=hl.prototype;v.open=function(t,e){if(this.readyState!=zg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ko(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||N).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=zg};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?na(this):Ko(this),this.readyState==3&&BC(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,na(this))};v.Ya=function(t){this.g&&(this.response=t,na(this))};v.ka=function(){this.g&&na(this)};function na(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ko(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ko(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var KL=N.JSON.parse;function ue(t){Ce.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$C,this.L=this.M=!1}Te(ue,Ce);var $C="",QL=/^https?$/i,YL=["POST","PUT"];v=ue.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Eg.g(),this.C=this.u?YD(this.u):YD(Eg),this.g.onreadystatechange=Fe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){XD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=N.FormData&&t instanceof N.FormData,!(0<=iC(YL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zC(this),0<this.B&&((this.L=JL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fe(this.ua,this)):this.A=jg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){XD(this,s)}};function JL(t){return ts&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof Rg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))};function XD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HC(t),fl(t)}function HC(t){t.F||(t.F=!0,Pe(t,"complete"),Pe(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pe(this,"complete"),Pe(this,"abort"),fl(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fl(this,!0)),ue.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?qC(this):this.kb())};v.kb=function(){qC(this)};function qC(t){if(t.h&&typeof Rg<"u"&&(!t.C[1]||Wt(t)!=4||t.da()!=2)){if(t.v&&Wt(t)==4)jg(t.La,0,t);else if(Pe(t,"readystatechange"),Wt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(xC)[1]||null;!i&&N.self&&N.self.location&&(i=N.self.location.protocol.slice(0,-1)),r=!QL.test(i?i.toLowerCase():"")}n=r}if(n)Pe(t,"complete"),Pe(t,"success");else{t.m=6;try{var s=2<Wt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",HC(t)}}finally{fl(t)}}}}function fl(t,e){if(t.g){zC(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pe(t,"ready");try{n.onreadystatechange=r}catch{}}}function zC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(N.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Wt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),KL(e)}};function eC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $C:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZL(t){let e={};t=(t.g&&2<=Wt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Bo(t[r]))continue;var n=CL(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}IL(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GC(t){let e="";return xg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function Fo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WC(t){this.Ga=0,this.j=[],this.l=new ol,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fo("baseRetryDelayMs",5e3,t),this.hb=Fo("retryDelaySeedMs",1e4,t),this.eb=Fo("forwardChannelMaxRetries",2,t),this.xa=Fo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FC(t&&t.concurrentRequestLimit),this.Ja=new zL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=WC.prototype;v.ra=8;v.H=1;function Wg(t){if(KC(t),t.H==3){var e=t.W++,n=wn(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),ra(t,n),e=new Xo(t,t.l,e),e.L=2,e.A=dl(wn(n)),n=!1,N.navigator&&N.navigator.sendBeacon)try{n=N.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&N.Image&&(new Image().src=e.A,n=!0),n||(e.g=nT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ea(e)}eT(t)}function pl(t){t.g&&(Qg(t),t.g.cancel(),t.g=null)}function KC(t){pl(t),t.u&&(N.clearTimeout(t.u),t.u=null),Ju(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&N.clearTimeout(t.m),t.m=null)}function gl(t){if(!LC(t.i)&&!t.m){t.m=!0;var e=t.Na;Ho||mC(),qo||(Ho(),qo=!0),Vg.add(e,t),t.C=0}}function XL(t,e){return VC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Jo(Fe(t.Na,t,e),XC(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Xo(this,this.l,t),s=this.s;if(this.U&&(s?(s=cC(s),uC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QC(this,i,e),n=wn(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),ra(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GC(s)))+"&"+e:this.o&&Gg(n,this.o,s)),qg(this.i,i),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),i.aa=!0,Cg(i,n,null)):Cg(i,n,e),this.H=2}}else this.H==3&&(t?tC(this,t):this.j.length==0||LC(this.i)||tC(this))};function tC(t,e){var n;e?n=e.m:n=t.W++;let r=wn(t.I);ae(r,"SID",t.K),ae(r,"RID",n),ae(r,"AID",t.V),ra(t,r),t.o&&t.s&&Gg(r,t.o,t.s),n=new Xo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qg(t.i,n),Cg(n,r,e)}function ra(t,e){t.na&&xg(t.na,function(n,r){ae(e,r,n)}),t.h&&NC({},function(n,r){ae(e,r,n)})}function QC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Fe(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{GL(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function YC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ho||mC(),qo||(Ho(),qo=!0),Vg.add(e,t),t.A=0}}function Kg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Jo(Fe(t.Ma,t),XC(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,JC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jo(Fe(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qe(10),pl(this),JC(this))};function Qg(t){t.B!=null&&(N.clearTimeout(t.B),t.B=null)}function JC(t){t.g=new Xo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wn(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),ra(t,e),t.o&&t.s&&Gg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=dl(wn(e)),n.u=null,n.S=!0,SC(n,t)}v.ib=function(){this.v!=null&&(this.v=null,pl(this),Kg(this),qe(19))};function Ju(t){t.v!=null&&(N.clearTimeout(t.v),t.v=null)}function ZC(t,e){var n=null;if(t.g==e){Ju(t),Qg(t),t.g=null;var r=2}else if(bg(t.i,e))n=e.F,UC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=al(),Pe(r,new EC(r,n)),gl(t)}else YC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&XL(t,e)||r==2&&Kg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vr(t,5);break;case 4:Vr(t,10);break;case 3:Vr(t,6);break;default:Vr(t,2)}}}function XC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Fe(t.pb,t);n||(n=new Ur("//www.google.com/images/cleardot.gif"),N.location&&N.location.protocol=="http"||Qu(n,"https"),dl(n)),WL(n.toString(),r)}else qe(2);t.H=0,t.h&&t.h.za(e),eT(t),KC(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qe(2)):(this.l.info("Failed to ping google.com"),qe(1))};function eT(t){if(t.H=0,t.ma=[],t.h){let e=jC(t.i);(e.length!=0||t.j.length!=0)&&(GD(t.ma,e),GD(t.ma,t.j),t.i.i.length=0,Mg(t.j),t.j.length=0),t.h.ya()}}function tT(t,e,n){var r=n instanceof Ur?wn(n):new Ur(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yu(r,r.m);else{var i=N.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ur(null);r&&Qu(s,r),e&&(s.g=e),i&&Yu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ae(r,n,e),ae(r,"VER",t.ra),ra(t,r),r}function nT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ue(new ta({ob:n})):new ue(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function rT(){}v=rT.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function Zu(){if(ts&&!(10<=Number(mL)))throw Error("Environmental error: no available transport.")}Zu.prototype.g=function(t,e){return new ot(t,e)};function ot(t,e){Ce.call(this),this.g=new WC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rs(this)}Te(ot,Ce);ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=tT(t,null,t.Y),gl(t)};ot.prototype.close=function(){Wg(this.g)};ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lg(t),t=n);e.j.push(new $L(e.fb++,t)),e.H==3&&gl(e)};ot.prototype.N=function(){this.g.h=null,delete this.j,Wg(this.g),delete this.g,ot.$.N.call(this)};function iT(t){$g.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Te(iT,$g);function sT(){Hg.call(this),this.status=1}Te(sT,Hg);function rs(t){this.g=t}Te(rs,rT);rs.prototype.Ba=function(){Pe(this.g,"a")};rs.prototype.Aa=function(t){Pe(this.g,new iT(t))};rs.prototype.za=function(t){Pe(this.g,new sT)};rs.prototype.ya=function(){Pe(this.g,"b")};function eV(){this.blockSize=-1}function xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Te(xt,eV);xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hg(this,r),i=0;break}}this.h=i,this.i+=e};xt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var tV={};function Yg(t){return-128<=t&&128>t?fL(t,function(e){return new ee([e|0],0>e?-1:0)}):new ee([t|0],0>t?-1:0)}function Kt(t){if(isNaN(t)||!isFinite(t))return es;if(0>t)return xe(Kt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sg;return new ee(e,0)}function oT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xe(oT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kt(Math.pow(e,8)),r=es,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kt(Math.pow(e,s)),r=r.R(s).add(Kt(o))):(r=r.R(n),r=r.add(Kt(o)))}return r}var Sg=4294967296,es=Yg(0),Ag=Yg(1),nC=Yg(16777216);v=ee.prototype;v.ea=function(){if(wt(this))return-xe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sg+r)*e,e*=Sg}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(In(this))return"0";if(wt(this))return"-"+xe(this).toString(t);for(var e=Kt(Math.pow(t,6)),n=this,r="";;){var i=el(n,e).g;n=Xu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,In(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function In(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wt(t){return t.h==-1}v.X=function(t){return t=Xu(this,t),wt(t)?-1:In(t)?0:1};function xe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ee(n,~t.h).add(Ag)}v.abs=function(){return wt(this)?xe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ee(n,n[n.length-1]&-2147483648?-1:0)};function Xu(t,e){return t.add(xe(e))}v.R=function(t){if(In(this)||In(t))return es;if(wt(this))return wt(t)?xe(this).R(xe(t)):xe(xe(this).R(t));if(wt(t))return xe(this.R(xe(t)));if(0>this.X(nC)&&0>t.X(nC))return Kt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Ku(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ku(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ku(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ku(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ee(n,0)};function Ku(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lo(t,e){this.g=t,this.h=e}function el(t,e){if(In(e))throw Error("division by zero");if(In(t))return new Lo(es,es);if(wt(t))return e=el(xe(t),e),new Lo(xe(e.g),xe(e.h));if(wt(e))return e=el(t,xe(e)),new Lo(xe(e.g),e.h);if(30<t.g.length){if(wt(t)||wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ag,r=e;0>=r.X(t);)n=rC(n),r=rC(r);var i=Zi(n,1),s=Zi(r,1);for(r=Zi(r,2),n=Zi(n,2);!In(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zi(r,1),n=Zi(n,1)}return e=Xu(t,i.R(e)),new Lo(i,e)}for(i=es;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Kt(n),o=s.R(e);wt(o)||0<o.X(t);)n-=r,s=Kt(n),o=s.R(e);In(s)&&(s=Ag),i=i.add(s),t=Xu(t,o)}return new Lo(i,t)}v.gb=function(t){return el(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ee(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ee(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ee(n,this.h^t.h)};function rC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ee(n,t.h)}function Zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ee(i,t.h)}Zu.prototype.createWebChannel=Zu.prototype.g;ot.prototype.send=ot.prototype.u;ot.prototype.open=ot.prototype.m;ot.prototype.close=ot.prototype.close;cl.NO_ERROR=0;cl.TIMEOUT=8;cl.HTTP_ERROR=6;DC.COMPLETE="complete";CC.EventType=Zo;Zo.OPEN="a";Zo.CLOSE="b";Zo.ERROR="c";Zo.MESSAGE="d";Ce.prototype.listen=Ce.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;xt.prototype.digest=xt.prototype.l;xt.prototype.reset=xt.prototype.reset;xt.prototype.update=xt.prototype.j;ee.prototype.add=ee.prototype.add;ee.prototype.multiply=ee.prototype.R;ee.prototype.modulo=ee.prototype.gb;ee.prototype.compare=ee.prototype.X;ee.prototype.toNumber=ee.prototype.ea;ee.prototype.toString=ee.prototype.toString;ee.prototype.getBits=ee.prototype.D;ee.fromNumber=Kt;ee.fromString=oT;var aT=Pt.createWebChannelTransport=function(){return new Zu},cT=Pt.getStatEventTarget=function(){return al()},ml=Pt.ErrorCode=cl,uT=Pt.EventType=DC,lT=Pt.Event=jr,Jg=Pt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dT=Pt.FetchXmlHttpFactory=ta,ia=Pt.WebChannel=CC,hT=Pt.XhrIo=ue,nV=Pt.Md5=xt,fT=Pt.Integer=ee;var pT="@firebase/firestore";var be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");var ws="10.11.1";var qr=new Hn("@firebase/firestore");function sa(){return qr.logLevel}function E(t,...e){if(qr.logLevel<=B.DEBUG){let n=e.map(vy);qr.debug(`Firestore (${ws}): ${t}`,...n)}}function zr(t,...e){if(qr.logLevel<=B.ERROR){let n=e.map(vy);qr.error(`Firestore (${ws}): ${t}`,...n)}}function El(t,...e){if(qr.logLevel<=B.WARN){let n=e.map(vy);qr.warn(`Firestore (${ws}): ${t}`,...n)}}function vy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function $(t="Unexpected state"){let e=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Ae(t,e){t||$()}function ce(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends st{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}},nm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},rm=class{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new En;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new En,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>h(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new En)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Dl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new be(e)}},im=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new im(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},om=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},am=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new om(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function rV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=rV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function as(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var je=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new je(0,0))}static max(){return new t(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(),r===void 0?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Tl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},iV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=class t extends Tl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return iV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new S(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var V=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var cm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};cm.UNKNOWN_ID=-1;function sV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Gr(i,V.empty(),e)}function oV(t){return new Gr(t.readTime,t.key,-1)}var Gr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(he.min(),V.empty(),-1)}static max(){return new t(he.max(),V.empty(),-1)}};function aV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",um=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function OT(t){return h(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==cV)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function uV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}var lV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _y(t){return t==null}function da(t){return t===0&&1/t==-1/0}function dV(t){return typeof t=="number"&&Number.isInteger(t)&&!da(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var hV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UW=[...hV,"documentOverlays"],fV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pV=fV,jW=[...pV,"indexConfiguration","indexState","indexEntries"];function gT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ct=class t{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ss(this.root,e,this.comparator,!0)}},ss=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();let e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}};Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ze=class t{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bl(this.data.getIterator())}getIteratorFrom(e){return new bl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},bl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jt=class t{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new t([])}unionWith(e){let n=new ze(at.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return as(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var lm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xn.EMPTY_BYTE_STRING=new Xn("");var gV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(Ae(!!t),typeof t=="string"){let e=0,n=gV.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cs(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}function Iy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FT(t){let e=t.mapValue.fields.__previous_value__;return Iy(e)?FT(e):e}function Sl(t){let e=er(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}var dm=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},hm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:LT(t)?9007199254740991:10:$()}function Xt(t,e){if(t===e)return!0;let n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=er(i.timestampValue),a=er(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return cs(i.bytesValue).isEqual(cs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=De(i.doubleValue),a=De(s.doubleValue);return o===a?da(o)===da(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return as(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gT(o)!==gT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xt(o[c],a[c])))return!1;return!0}(t,e);default:return $()}}function ha(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function ls(t,e){if(t===e)return 0;let n=us(t),r=us(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=De(s.integerValue||s.doubleValue),c=De(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return mT(t.timestampValue,e.timestampValue);case 4:return mT(Sl(t),Sl(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){let a=cs(s),c=cs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=se(a[u],c[u]);if(l!==0)return l}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=se(De(s.latitude),De(o.latitude));return a!==0?a:se(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ls(a[u],c[u]);if(l)return l}return se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===yl.mapValue&&o===yl.mapValue)return 0;if(s===yl.mapValue)return 1;if(o===yl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let f=se(c[d],l[d]);if(f!==0)return f;let p=ls(a[c[d]],u[l[d]]);if(p!==0)return p}return se(c.length,l.length)}(t.mapValue,e.mapValue);default:throw $()}}function mT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=er(t),r=er(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function ds(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return V.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=fm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${fm(n.fields[o])}`;return i+"}"}(t.mapValue):$()}function pm(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function Il(t){return!!t&&"mapValue"in t}function aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=aa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=aa(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=aa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(aa(this.value))}};function VT(t){let e=[];return ga(t.fields,(n,r)=>{let i=new at([n]);if(Il(r)){let s=VT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}var hs=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fs=class{constructor(e,n){this.position=e,this.inclusive=n}};function yT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=V.comparator(V.fromName(o.referenceValue),n.key):r=ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}var ps=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function mV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Al=class{},Se=class t extends Al{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mm(e,n,r):n==="array-contains"?new _m(e,r):n==="in"?new Im(e,r):n==="not-in"?new wm(e,r):n==="array-contains-any"?new Em(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ym(e,r):new vm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ls(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tr=class t extends Al{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return UT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function UT(t){return t.op==="and"}function jT(t){return yV(t)&&UT(t)}function yV(t){for(let e of t.filters)if(e instanceof tr)return!1;return!0}function gm(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+ds(t.value);if(jT(t))return t.filters.map(e=>gm(e)).join(",");{let e=t.filters.map(n=>gm(n)).join(",");return`${t.op}(${e})`}}function BT(t,e){return t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&Xt(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BT(o,i.filters[a]),!0):!1}(t,e):void $()}function $T(t){return t instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${ds(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(t):"Filter"}var mm=class extends Se{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){let n=V.comparator(e.key,this.key);return this.matchesComparison(n)}},ym=class extends Se{constructor(e,n){super(e,"in",n),this.keys=HT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vm=class extends Se{constructor(e,n){super(e,"not-in",n),this.keys=HT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function HT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}var _m=class extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wy(n)&&ha(n.arrayValue,this.value)}},Im=class extends Se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}},wm=class extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}},Em=class extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ha(this.value.arrayValue,r))}};var Dm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function _T(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Dm(t,e,n,r,i,s,o)}function Ey(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ds(r)).join(",")),e.ue=n}return e.ue}function Dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vT(t.startAt,e.startAt)&&vT(t.endAt,e.endAt)}var gs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function vV(t,e,n,r,i,s,o,a){return new gs(t,e,n,r,i,s,o,a)}function _V(t){return new gs(t)}function IT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IV(t){return t.collectionGroup!==null}function ca(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ze(at.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ps(s,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new ps(at.keyField(),r))}return e.ce}function $r(t){let e=ce(t);return e.le||(e.le=wV(e,ca(t))),e.le}function wV(t,e){if(t.limitType==="F")return _T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ps(i.field,s)});let n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return _T(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cm(t,e,n){return new gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qT(t,e){return Dy($r(t),$r(e))&&t.limitType===e.limitType}function zT(t){return`${Ey($r(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$T(i)).join(", ")}]`),_y(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ds(i)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function Cy(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):V.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ca(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=yT(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,ca(r),i)||r.endAt&&!function(o,a,c){let u=yT(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,ca(r),i))}(t,e)}function EV(t){return(e,n)=>{let r=!1;for(let i of ca(t)){let s=DV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DV(t,e,n){let r=t.field.isKeyField()?V.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ls(c,u):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}var nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return kT(this.inner)}size(){return this.innerSize}};var CV=new ct(V.comparator);function Rl(){return CV}var GT=new ct(V.comparator);function vl(...t){let e=GT;for(let n of t)e=e.insert(n.key,n);return e}function WT(t){let e=GT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Br(){return ua()}function KT(){return ua()}function ua(){return new nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var TV=new ct(V.comparator),bV=new ze(V.comparator);function Ue(...t){let e=bV;for(let n of t)e=e.add(n);return e}var SV=new ze(se);function AV(){return SV}function QT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function YT(t){return{integerValue:""+t}}function RV(t,e){return dV(e)?YT(e):QT(t,e)}var ms=class{constructor(){this._=void 0}};function MV(t,e,n){return t instanceof ys?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iy(s)&&(s=FT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wr?ZT(t,e):t instanceof Kr?XT(t,e):function(i,s){let o=JT(i,s),a=wT(o)+wT(i.Pe);return pm(o)&&pm(i.Pe)?YT(a):QT(i.serializer,a)}(t,e)}function NV(t,e,n){return t instanceof Wr?ZT(t,e):t instanceof Kr?XT(t,e):n}function JT(t,e){return t instanceof vs?function(r){return pm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ys=class extends ms{},Wr=class extends ms{constructor(e){super(),this.elements=e}};function ZT(t,e){let n=eb(e);for(let r of t.elements)n.some(i=>Xt(i,r))||n.push(r);return{arrayValue:{values:n}}}var Kr=class extends ms{constructor(e){super(),this.elements=e}};function XT(t,e){let n=eb(e);for(let r of t.elements)n=n.filter(i=>!Xt(i,r));return{arrayValue:{values:n}}}var vs=class extends ms{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function wT(t){return De(t.integerValue||t.doubleValue)}function eb(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wr&&i instanceof Wr||r instanceof Kr&&i instanceof Kr?as(r.elements,i.elements,Xt):r instanceof vs&&i instanceof vs?Xt(r.Pe,i.Pe):r instanceof ys&&i instanceof ys}(t.transform,e.transform)}var Tm=class{constructor(e,n){this.version=e,this.transformResults=n}},Hr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function wl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var _s=class{};function tb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ml(t.key,Hr.none()):new Qr(t.key,t.data,Hr.none());{let n=t.data,r=Yt.empty(),i=new ze(at.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cn(t.key,r,new Jt(i.toArray()),Hr.none())}}function PV(t,e,n){t instanceof Qr?function(i,s,o){let a=i.value.clone(),c=DT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cn?function(i,s,o){if(!wl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=DT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(nb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function la(t,e,n,r){return t instanceof Qr?function(s,o,a,c){if(!wl(s.precondition,o))return a;let u=s.value.clone(),l=CT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cn?function(s,o,a,c){if(!wl(s.precondition,o))return a;let u=CT(s.fieldTransforms,c,o),l=o.data;return l.setAll(nb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return wl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function OV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=JT(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function ET(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&as(r,i,(s,o)=>xV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qr=class extends _s{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cn=class extends _s{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function DT(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NV(o,a,n[i]))}return r}function CT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,MV(s,o,e))}return r}var Ml=class extends _s{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bm=class extends _s{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Sm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&PV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=la(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=la(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=KT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=tb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&as(this.mutations,e.mutations,(n,r)=>ET(n,r))&&as(this.baseMutations,e.baseMutations,(n,r)=>ET(n,r))}},Am=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return TV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Rm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ge,G;function kV(t){switch(t){default:return $();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function FV(t){if(t===void 0)return zr("GRPC error has no .code"),g.UNKNOWN;switch(t){case ge.OK:return g.OK;case ge.CANCELLED:return g.CANCELLED;case ge.UNKNOWN:return g.UNKNOWN;case ge.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case ge.INTERNAL:return g.INTERNAL;case ge.UNAVAILABLE:return g.UNAVAILABLE;case ge.UNAUTHENTICATED:return g.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case ge.NOT_FOUND:return g.NOT_FOUND;case ge.ALREADY_EXISTS:return g.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return g.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case ge.ABORTED:return g.ABORTED;case ge.OUT_OF_RANGE:return g.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return g.UNIMPLEMENTED;case ge.DATA_LOSS:return g.DATA_LOSS;default:return $()}}(G=ge||(ge={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var $W=new fT([4294967295,4294967295],0);var Mm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VV(t,e){return Nm(t,e.toTimestamp())}function os(t){return Ae(!!t),he.fromTimestamp(function(n){let r=er(n);return new je(r.seconds,r.nanos)}(t))}function rb(t,e){return xm(t,e).canonicalString()}function xm(t,e){let n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UV(t){let e=ye.fromString(t);return Ae(WV(e)),e}function Pm(t,e){return rb(t.databaseId,e.path)}function jV(t){let e=UV(t);return e.length===4?ye.emptyPath():$V(e)}function BV(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $V(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TT(t,e,n){return{name:Pm(t,e),fields:n.value.mapValue.fields}}function HV(t,e){let n;if(e instanceof Qr)n={update:TT(t,e.key,e.value)};else if(e instanceof Ml)n={delete:Pm(t,e.key)};else if(e instanceof Cn)n={update:TT(t,e.key,e.data),updateMask:GV(e.fieldMask)};else{if(!(e instanceof bm))return $();n={verify:Pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ys)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:VV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$()}(t,e.precondition)),n}function qV(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?os(i.updateTime):os(s);return o.isEqual(he.min())&&(o=os(s)),new Tm(o,i.transformResults||[])}(n,e))):[]}function zV(t){let e=jV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let f=ib(d);return f instanceof tr&&jT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new ps(is(m.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,_y(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(d){let f=!!d.before,p=d.values||[];return new fs(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let f=!d.before,p=d.values||[];return new fs(p,f)}(n.endAt)),vV(e,i,o,s,a,"F",c,u)}function ib(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=is(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=is(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=is(n.unaryFilter.field);return Se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=is(n.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):t.fieldFilter!==void 0?function(n){return Se.create(is(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>ib(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(n.compositeFilter.op))}(t):$()}function is(t){return at.fromServerFormat(t.fieldPath)}function GV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Om=class{constructor(e){this.ut=e}};function KV(t){let e=zV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cm(e,e.limit,"L"):e}var Nl=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),da(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=er(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(cs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?LT(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):$()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),V.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Nl.St=new Nl;var km=class{constructor(){this.on=new Fm}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Gr.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Fm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(ye.comparator)).toArray()}};var HW=new Uint8Array(0);var Qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var fa=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Lm=class{constructor(){this.changes=new nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Vm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Um=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&la(r.mutation,i,Jt.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){let i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Rl(),o=ua(),a=function(){return ua()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Cn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),la(l.mutation,u,l.mutation.getFieldMask(),je.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Vm(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ua(),i=new ct((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Jt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Ue()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=KT();l.forEach(f=>{if(!s.has(f)){let p=tb(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return V.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Br()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ue())).next(l=>({batchId:a,changes:WT(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=vl();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,f){return new gs(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,hs.newInvalidDocument(l)))});let a=vl();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&la(l.mutation,u,Jt.empty(),je.now()),Cy(n,u)&&(a=a.insert(c,u))}),a})}};var jm=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:os(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:KV(i.bundledQuery),readTime:os(i.readTime)}}(n)),y.resolve()}};var Bm=class{constructor(){this.overlays=new ct(V.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Br();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Br(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ct((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Br(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Br(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rm(n,r));let s=this.lr.get(n);s===void 0&&(s=Ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var pa=class{constructor(){this.hr=new ze(me.Pr),this.Ir=new ze(me.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new me(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new me(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new V(new ye([])),r=new me(n,e),i=new me(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new V(new ye([])),r=new me(n,e),i=new me(n,e+1),s=Ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new me(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},me=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return V.comparator(e.key,n.key)||se(e.gr,n.gr)}static Tr(e,n){return se(e.gr,n.gr)||V.comparator(e.key,n.key)}};var $m=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ze(me.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Sm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new me(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new me(n,0),i=new me(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(se);return n.forEach(i=>{let s=new me(i,0),o=new me(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;V.isDocumentKey(s)||(s=s.child(""));let o=new me(new V(s),0),a=new ze(se);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{let s=new me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new me(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Hm=class{constructor(e){this.Cr=e,this.docs=function(){return new ct(V.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():hs.newInvalidDocument(n))}getEntries(e,n){let r=Rl();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hs.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rl(),o=n.path,a=new V(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aV(oV(l),r)<=0||(i.has(l.key)||Cy(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qm(this)}getSize(e){return y.resolve(this.size)}},qm=class extends Lm{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var zm=class{constructor(e){this.persistence=e,this.Fr=new nr(n=>Ey(n),Dy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Mr=0,this.Or=new pa,this.targetCount=0,this.Nr=fa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var Gm=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new lV(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zm(this),this.indexManager=new km,this.remoteDocumentCache=function(i){return new Hm(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Om(n),this.Kr=new jm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new $m(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new Wm(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Wm=class extends um{constructor(e){super(),this.currentSequenceNumber=e}},Km=class t{constructor(e){this.persistence=e,this.Gr=new pa,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{let i=V.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Qm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Ue(),i=Ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ym=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jm=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return SE()?8:uV(we())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ym;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(sa()<=B.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(sa()<=B.DEBUG&&E("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(sa()<=B.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):y.resolve())}zi(e,n){if(IT(n))return y.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cm(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ue(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Cm(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return IT(n)||i.isEqual(he.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?y.resolve(null):(sa()<=B.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.Xi(e,o,n,sV(i,-1)).next(a=>a))})}Yi(e,n){let r=new ze(EV(e));return n.forEach((i,s)=>{Cy(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return sa()<=B.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",oa(n)),this.Gi.getDocumentsMatchingQuery(e,n,Gr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Zm=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ct(se),this.ns=new nr(s=>Ey(s),Dy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Um(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function QV(t,e,n,r){return new Zm(t,e,n,r)}function sb(t,e){return h(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Ue();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function YV(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,f=d.keys(),p=y.resolve();return f.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(_=>{let D=u.docVersions.get(m);Ae(D!==null),_.version.compareTo(D)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JV(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ZV(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var xl=class{constructor(){this.activeTargetIds=AV()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xm=class{constructor(){this.eo=new xl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ey=class{ro(e){}shutdown(){}};var Pl=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var _l=null;function Zg(){return _l===null?_l=function(){return 268435456+Math.round(2147483648*Math.random())}():_l++,"0x"+_l.toString(16)}var XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ty=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var Ve="WebChannelConnection",ny=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=Zg(),c=this.Co(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw El("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ws}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=XV[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=Zg();return new Promise((o,a)=>{let c=new hT;c.setWithCredentials(!0),c.listenOnce(uT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ml.NO_ERROR:let l=c.getResponseJson();E(Ve,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case ml.TIMEOUT:E(Ve,`RPC '${e}' ${s} timed out`),a(new S(g.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:let d=c.getStatus();if(E(Ve,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let m=function(D){let T=D.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(T)>=0?T:g.UNKNOWN}(p.status);a(new S(m,p.message))}else a(new S(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(g.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{E(Ve,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Ve,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=Zg(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aT(),a=cT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new dT({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Ve,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),f=!1,p=!1,m=new ty({co:D=>{p?E(Ve,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(f||(E(Ve,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),E(Ve,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},lo:()=>d.close()}),_=(D,T,oe)=>{D.listen(T,ne=>{try{oe(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return _(d,ia.EventType.OPEN,()=>{p||(E(Ve,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),_(d,ia.EventType.CLOSE,()=>{p||(p=!0,E(Ve,`RPC '${e}' stream ${i} transport closed`),m.fo())}),_(d,ia.EventType.ERROR,D=>{p||(p=!0,El(Ve,`RPC '${e}' stream ${i} transport errored:`,D),m.fo(new S(g.UNAVAILABLE,"The operation could not be completed")))}),_(d,ia.EventType.MESSAGE,D=>{var T;if(!p){let oe=D.data[0];Ae(!!oe);let ne=oe,fe=ne.error||((T=ne[0])===null||T===void 0?void 0:T.error);if(fe){E(Ve,`RPC '${e}' stream ${i} received error:`,fe);let ut=fe.status,ve=function(ir){let Zr=ge[ir];if(Zr!==void 0)return FV(Zr)}(ut),lt=fe.message;ve===void 0&&(ve=g.INTERNAL,lt="Unknown error status: "+ut+" with message "+fe.message),p=!0,m.fo(new S(ve,lt)),d.close()}else E(Ve,`RPC '${e}' stream ${i} received:`,oe),m.po(oe)}}),_(a,lT.STAT_EVENT,D=>{D.stat===Jg.PROXY?E(Ve,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Jg.NOPROXY&&E(Ve,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}};function Xg(){return typeof document<"u"?document:null}function ql(t){return new Mm(t,!0)}var Ol=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var ry=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Ol(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return h(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return h(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return h(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new S(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>h(this,null,function*(){this.state=0,this.start()}))}u_(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var iy=class extends ry{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=qV(e.writeResults,e.commitTime),r=os(e.commitTime);return this.listener.d_(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=BV(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>HV(this.serializer,r))};this.r_(n)}};var sy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new S(g.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,xm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(g.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,xm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(g.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var oy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zr(n),this.y_=!1):E("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var ay=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>h(this,null,function*(){ya(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return h(this,null,function*(){let u=ce(c);u.M_.add(4),yield ma(u),u.N_.set("Unknown"),u.M_.delete(4),yield zl(u)})}(this))}))}),this.N_=new oy(r,i)}};function zl(t){return h(this,null,function*(){if(ya(t))for(let e of t.x_)yield e(!0)})}function ma(t){return h(this,null,function*(){for(let e of t.x_)yield e(!1)})}function ya(t){return ce(t).M_.size===0}function ob(t,e,n){return h(this,null,function*(){if(!Hl(e))throw e;t.M_.add(1),yield ma(t),t.N_.set("Offline"),n||(n=()=>JV(t.localStore)),t.asyncQueue.enqueueRetryable(()=>h(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield zl(t)}))})}function ab(t,e){return e().catch(n=>ob(t,n,e))}function Gl(t){return h(this,null,function*(){let e=ce(t),n=rr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;eU(e);)try{let i=yield ZV(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,tU(e,i)}catch(i){yield ob(e,i)}cb(e)&&ub(e)})}function eU(t){return ya(t)&&t.v_.length<10}function tU(t,e){t.v_.push(e);let n=rr(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function cb(t){return ya(t)&&!rr(t).Yo()&&t.v_.length>0}function ub(t){rr(t).start()}function nU(t){return h(this,null,function*(){rr(t).R_()})}function rU(t){return h(this,null,function*(){let e=rr(t);for(let n of t.v_)e.E_(n.mutations)})}function iU(t,e,n){return h(this,null,function*(){let r=t.v_.shift(),i=Am.from(r,e,n);yield ab(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Gl(t)})}function sU(t,e){return h(this,null,function*(){e&&rr(t).T_&&(yield function(r,i){return h(this,null,function*(){if(function(o){return kV(o)&&o!==g.ABORTED}(i.code)){let s=r.v_.shift();rr(r).e_(),yield ab(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Gl(r)}})}(t,e)),cb(t)&&ub(t)})}function bT(t,e){return h(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=ya(n);n.M_.add(3),yield ma(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield zl(n)})}function oU(t,e){return h(this,null,function*(){let n=ce(t);e?(n.M_.delete(2),yield zl(n)):e||(n.M_.add(2),yield ma(n),n.N_.set("Unknown"))})}function rr(t){return t.k_||(t.k_=function(n,r,i){let s=ce(n);return s.m_(),new iy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:nU.bind(null,t),Eo:sU.bind(null,t),A_:rU.bind(null,t),d_:iU.bind(null,t)}),t.x_.push(e=>h(this,null,function*(){e?(t.k_.e_(),yield Gl(t)):(yield t.k_.stop(),t.v_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var cy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lb(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Hl(t))return new S(g.UNAVAILABLE,`${e}: ${t}`);throw t}var uy=class{constructor(){this.queries=new nr(e=>zT(e),qT),this.onlineState="Unknown",this.z_=new Set}};function aU(t){t.z_.forEach(e=>{e.next()})}var ST,AT;(AT=ST||(ST={})).J_="default",AT.Cache="cache";var ly=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new nr(a=>zT(a),qT),this.Da=new Map,this.Ca=new Set,this.va=new ct(V.comparator),this.Fa=new Map,this.Ma=new pa,this.xa={},this.Oa=new Map,this.Na=fa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function cU(t,e,n){return h(this,null,function*(){let r=hU(t);try{let i=yield function(o,a){let c=ce(o),u=je.now(),l=a.reduce((p,m)=>p.add(m.key),Ue()),d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Rl(),_=Ue();return c.ss.getEntries(p,l).next(D=>{m=D,m.forEach((T,oe)=>{oe.isValidDocument()||(_=_.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(D=>{d=D;let T=[];for(let oe of a){let ne=OV(oe,d.get(oe.key).overlayedDocument);ne!=null&&T.push(new Cn(oe.key,ne,VT(ne.value.mapValue),Hr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,T,a)}).next(D=>{f=D;let T=D.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,D.batchId,T)})}).then(()=>({batchId:f.batchId,changes:WT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new ct(se)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Wl(r,i.changes),yield Gl(r.remoteStore)}catch(i){let s=lb(i,"Failed to persist write");n.reject(s)}})}function RT(t,e,n){let r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ce(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let f of d.U_)f.j_(a)&&(u=!0)}),u&&aU(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uU(t,e){return h(this,null,function*(){let n=ce(t),r=e.batch.batchId;try{let i=yield YV(n.localStore,e);hb(n,r,null),db(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wl(n,i)}catch(i){yield OT(i)}})}function lU(t,e,n){return h(this,null,function*(){let r=ce(t);try{let i=yield function(o,a){let c=ce(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ae(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);hb(r,e,n),db(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wl(r,i)}catch(i){yield OT(i)}})}function db(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function hb(t,e,n){let r=ce(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Wl(t,e,n){return h(this,null,function*(){let r=ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Qm.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return h(this,null,function*(){let l=ce(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,f=>y.forEach(f.ki,p=>l.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>y.forEach(f.qi,p=>l.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Hl(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let f=d.targetId;if(!d.fromCache){let p=l.ts.get(f),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(f,_)}}})}(r.localStore,s))})}function dU(t,e){return h(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield sb(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new S(g.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wl(n,r._s)}})}function hU(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lU.bind(null,e),e}var kl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return h(this,null,function*(){this.serializer=ql(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return QV(this.persistence,new Jm,e.initialUser,this.serializer)}createPersistence(e){return new Gm(Km.jr,this.serializer)}createSharedClientState(e){return new Xm}terminate(){return h(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var dy=class{initialize(e,n){return h(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dU.bind(null,this.syncEngine),yield oU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new uy}()}createDatastore(e){let n=ql(e.databaseInfo.databaseId),r=function(s){return new ny(s)}(e.databaseInfo);return function(s,o,a,c){return new sy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ay(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return Pl.D()?new Pl:new ey}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new ly(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return h(this,null,function*(){var e;yield function(r){return h(this,null,function*(){let i=ce(r);E("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield ma(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var hy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=Cl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>h(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>h(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=lb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function em(t,e){return h(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>h(this,null,function*(){r.isEqual(i)||(yield sb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function MT(t,e){return h(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield pU(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bT(e.remoteStore,i)),t._onlineComponents=e})}function fU(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function pU(t){return h(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield em(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!fU(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),yield em(t,new kl)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield em(t,new kl);return t._offlineComponents})}function gU(t){return h(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield MT(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield MT(t,new dy))),t._onlineComponents})}function mU(t){return gU(t).then(e=>e.syncEngine)}function fb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NT=new Map;function pb(t,e,n){if(!n)throw new S(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yU(t,e,n,r){if(e===!0&&r===!0)throw new S(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xT(t){if(!V.isDocumentKey(t))throw new S(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PT(t){if(V.isDocumentKey(t))throw new S(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$()}function gb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ty(t);throw new S(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Fl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new S(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new S(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new S(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tm;switch(r.type){case"firstParty":return new sm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=NT.get(n);r&&(E("ComponentProvider","Removing Datastore"),NT.delete(n),r.terminate())}(this),Promise.resolve()}};function mb(t,e,n,r={}){var i;let s=(t=gb(t,Is))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=be.MOCK_USER;else{a=EE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new be(u)}t._authCredentials=new nm(new Dl(a,c))}}var fy=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Dn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zn=class t extends fy{constructor(e,n,r){super(e,n,_V(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new V(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function yb(t,e,...n){if(t=Xe(t),pb("collection","path",e),t instanceof Is){let r=ye.fromString(e,...n);return PT(r),new Zn(t,null,r)}{if(!(t instanceof Dn||t instanceof Zn))throw new S(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return PT(r),new Zn(t.firestore,null,r)}}function vb(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Cl.newId()),pb("doc","path",e),t instanceof Is){let r=ye.fromString(e,...n);return xT(r),new Dn(t,null,new V(r))}{if(!(t instanceof Dn||t instanceof Zn))throw new S(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return xT(r),new Dn(t.firestore,t instanceof Zn?t.converter:null,new V(r))}}var py=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ol(this,"async_queue_retry"),this.hu=()=>{let n=Xg();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=Xg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new En;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return h(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Hl(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=cy.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&$()}verifyOperationInProgress(){}du(){return h(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Ll=class extends Is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new py}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ib(this),this._firestoreClient.terminate()}};function _b(t,e){let n=typeof t=="object"?t:Gi(),r=typeof t=="string"?t:e||"(default)",i=To(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=wE("firestore");s&&mb(i,...s)}return i}function vU(t){return t._firestoreClient||Ib(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ib(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new dm(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,fb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Vl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xn.fromBase64String(e))}catch(n){throw new S(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ul=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var jl=class{constructor(e){this._methodName=e}};var Bl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var _U=/^__.*__$/,gy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qr(e,this.data,n,this.fieldTransforms)}};function wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}var my=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return $l(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(wb(this.fu)&&_U.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ql(e)}Fu(e,n,r,i=!1){return new my({fu:e,methodName:n,vu:r,path:at.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function IU(t){let e=t._freezeSettings(),n=ql(t._databaseId);return new yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wU(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Tb("Data must be an object, but it was:",o,r);let a=Db(r,o),c,u;if(s.merge)c=new Jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let f=EU(e,d,n);if(!o.contains(f))throw new S(g.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TU(l,f)||l.push(f)}c=new Jt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new gy(new Yt(a),c,u)}function Eb(t,e){if(Cb(t=Xe(t)))return Tb("Unsupported field value:",e,t),Db(t,e);if(t instanceof jl)return function(r,i){if(!wb(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Eb(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=je.fromDate(r);return{timestampValue:Nm(i.serializer,s)}}if(r instanceof je){let s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nm(i.serializer,s)}}if(r instanceof Bl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vl)return{bytesValue:LV(i.serializer,r._byteString)};if(r instanceof Dn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Ty(r)}`)}(t,e)}function Db(t,e){let n={};return kT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{let s=Eb(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Cb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Bl||t instanceof Vl||t instanceof Dn||t instanceof jl)}function Tb(t,e,n){if(!Cb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ty(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function EU(t,e,n){if((e=Xe(e))instanceof Ul)return e._internalPath;if(typeof e=="string")return CU(t,e);throw $l("Field path arguments must be of type string or ",t,!1,void 0,n)}var DU=new RegExp("[~\\*/\\[\\]]");function CU(t,e,n){if(e.search(DU)>=0)throw $l(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ul(...e.split("."))._internalPath}catch{throw $l(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $l(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new S(g.INVALID_ARGUMENT,a+t+c)}function TU(t,e){return t.some(n=>n.isEqual(e))}function bU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function bb(t,e){let n=gb(t.firestore,Ll),r=vb(t),i=bU(t.converter,e);return SU(n,[wU(IU(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function SU(t,e){return function(r,i){let s=new En;return r.asyncQueue.enqueueAndForget(()=>h(this,null,function*(){return cU(yield mU(r),i,s)})),s.promise}(vU(t),e)}(function(e,n=!0){(function(i){ws=i})(Gn),zn(new It("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ll(new rm(r.getProvider("auth-internal")),new am(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hm(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ee(pT,"4.6.1",e),Ee(pT,"4.6.1","esm2017")})();var Yr=class{constructor(e){return e}},Sb="firestore",by=class{constructor(){return bo(Sb)}};var Sy=new A("angularfire2.firestore-instances");function AU(t,e){let n=Iu(Sb,t,e);return n&&new Yr(n)}function RU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Yr(r)}}var MU={provide:by,deps:[[new Ye,Sy]]},NU={provide:Yr,useFactory:AU,deps:[[new Ye,Sy],pn]},xU=(()=>{class t{constructor(){Ee("angularfire",Nr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ze({type:t});static \u0275inj=Qe({providers:[NU,MU]})}return t})();function Ab(t,...e){return{ngModule:xU,providers:[{provide:Sy,useFactory:RU(t),multi:!0,deps:[te,mt,Qi,xr,[new Ye,ko],[new Ye,Ki],...e]}]}}var Rb=Nt(bb,!0);var Mb=Nt(yb,!0);var Nb=Nt(_b,!0);var Es=(()=>{let e=class e{getUser(){return this.user}setUser(r,i){this.user.email=r,this.user.acceptedTerms=i}constructor(r){this.auth=r,this.user={email:"",acceptedTerms:!1}}obtenerUserRegistrado(){let r=this.auth.currentUser;return r?Promise.resolve(r):Promise.resolve(null)}registerUser(r,i){return $D(this.auth,r,i)}loginUser(r,i){return zD(this.auth,r,i)}resetPassword(r){return qD(this.auth,r)}logout(){return this.auth.signOut()}getUserLogged(){return this.auth.currentUser}getUserEmail(){let r=this.auth.currentUser;return r?r.email:null}};e.\u0275fac=function(i){return new(i||e)(F(Fr))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xb=(()=>{let e=class e{constructor(r,i,s,o){this.fire=r,this.authLogin=i,this.fb=s,this.router=o,this.loginsCollection=[],this.email="",this.password="",this.log=this.fb.group({email:["",hn.required],password:["",hn.required]})}login(){let r=this.log.value.email,i=this.log.value.password;console.log(r,i);let s=Mb(this.fire,"logins");Rb(s,{email:r,password:i}),this.authLogin.loginUser(r,i).then(()=>this.router.navigate(["/home"])).catch(o=>{console.error("Error logueando user:",o)}),console.log(r,i)}};e.\u0275fac=function(i){return new(i||e)(W(Yr),W(Es),W(hu),W(Bn))},e.\u0275cmp=Je({type:e,selectors:[["app-login"]],standalone:!0,features:[yt],decls:21,vars:1,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login.png","alt","Login",1,"logo"],[3,"ngSubmit","formGroup"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"mt-3"],["href","/registrar-usuario"]],template:function(i,s){i&1&&(O(0,"div",0)(1,"div",1),ie(2,"img",2),O(3,"h1"),X(4,"Login"),Q(),O(5,"form",3),ln("ngSubmit",function(){return s.login()}),O(6,"div",4),ie(7,"input",5),O(8,"label"),X(9,"Email"),Q()(),O(10,"div",4),ie(11,"input",6),O(12,"label"),X(13,"Password"),Q()(),O(14,"div",7)(15,"button",8),X(16,"Ingresar"),Q()(),O(17,"p",9),X(18,"No tienes cuenta? "),O(19,"a",10),X(20,"Registrar"),Q()()()()()),i&2&&(Tc(5),zs("formGroup",s.log))},dependencies:[Ks,fu,du,$i,au,cu,Hi,_o,Io]});let t=e;return t})();var Pb=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s,this.registrarUsuario=this.fb.group({email:["",hn.required],password:["",hn.required],repetirPassword:["",hn.required]})}ngOnInit(){}registrar(){let r=this.registrarUsuario.value.email,i=this.registrarUsuario.value.password,s=this.registrarUsuario.value.repetirPassword;this.authService.registerUser(r,i).then(()=>this.router.navigate(["/login"])).catch(o=>{console.error("Error registering user:",o)}),console.log(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(W(hu),W(Es),W(Bn))},e.\u0275cmp=Je({type:e,selectors:[["app-registrar-usuario"]],standalone:!0,features:[yt],decls:23,vars:1,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login.png","alt","Login",1,"logo"],[3,"ngSubmit","formGroup"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","repetirPassword","placeholder","Repetir Password",1,"form-control"],[1,"d-grid","gap-2","mb-3"],["type","submit",1,"btn","btn-primary","btn-lg"],["href","/login",1,"mt-3"]],template:function(i,s){i&1&&(O(0,"div",0)(1,"div",1),ie(2,"img",2),O(3,"h1"),X(4,"Registrarse"),Q(),O(5,"form",3),ln("ngSubmit",function(){return s.registrar()}),O(6,"div",4),ie(7,"input",5),O(8,"label"),X(9,"Email"),Q()(),O(10,"div",4),ie(11,"input",6),O(12,"label"),X(13,"Password"),Q()(),O(14,"div",4),ie(15,"input",7),O(16,"label"),X(17,"Repetir Password"),Q()(),O(18,"div",8)(19,"button",9),X(20,"Aceptar"),Q()(),O(21,"a",10),X(22,"Volver"),Q()()()()),i&2&&(Tc(5),zs("formGroup",s.registrarUsuario))},dependencies:[Hi,du,$i,au,cu,_o,Io,Ks,fu]});let t=e;return t})();var Ob=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-verificar-correo"]],standalone:!0,features:[yt],decls:2,vars:0,template:function(i,s){i&1&&(O(0,"p"),X(1,"verificar-correo works!"),Q())}});let t=e;return t})();var kb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[yt],decls:2,vars:0,template:function(i,s){i&1&&(O(0,"p"),X(1,"dashboard works!"),Q())}});let t=e;return t})();var Fb=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i}ngOnInit(){this.afAuth.obtenerUserRegistrado().then(r=>{r?this.dataUser=r:this.router.navigate(["/login"])}).catch(r=>{console.error("Error al obtener el usuario autenticado:",r)})}};e.\u0275fac=function(i){return new(i||e)(W(Es),W(Bn))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],decls:60,vars:0,consts:[[1,"header-2"],[1,"page-header"],[1,"mask","bg-gradient-primary","opacity-4"],[1,"container"],[1,"row"],[1,"col-md-2"],["routerLink","/juegos/ahorcado"],[1,"card","text-bg-dark"],["src","../../../assets/img/ahoracado.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],[1,"card-overlay"],[1,"text-center"],["routerLink","/juegos/mayor-menor"],["src","../../../assets/img/mayormenor.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],["routerLink","/juegos/preguntados"],["src","../../../assets/img/preguntado.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],["routerLink","/juegos/snake"],["src","../../../assets/img/serpiente.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],["routerLink","/components/quien-soy"],["src","../../../assets/img/user_.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"]],template:function(i,s){i&1&&(O(0,"header",0)(1,"div",1),ie(2,"span",2),O(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6)(7,"div",7),ie(8,"img",8),O(9,"div",9)(10,"div",10)(11,"strong"),X(12,"AHORCADO"),Q(),ie(13,"br")(14,"hr"),X(15,' El juego del "Ahorcado" es un juego de adivinanza de palabras en el que un jugador debe adivinar una palabra oculta, letra por letra, antes de que se complete un dibujo de un ahorcado. '),Q()()()()(),O(16,"div",5)(17,"a",11)(18,"div",7),ie(19,"img",12),O(20,"div",9)(21,"div",10)(22,"strong"),X(23,"MAYOR O MENOR"),Q(),ie(24,"br")(25,"hr"),X(26,' El juego "Mayor o Menor" es un juego de adivinanza y estrategia en el que los jugadores intentan adivinar si el siguiente n\xFAmero ser\xE1 mayor o menor que el n\xFAmero actual. '),Q()()()()(),O(27,"div",5)(28,"a",13)(29,"div",7),ie(30,"img",14),O(31,"div",9)(32,"div",10)(33,"strong"),X(34,"PREGUNTADOS"),Q(),ie(35,"br")(36,"hr"),X(37,' El juego "Preguntados" es un juego de preguntas y respuestas en el que los jugadores ponen a prueba sus conocimientos en diferentes categor\xEDas. '),Q()()()()(),O(38,"div",5)(39,"a",15)(40,"div",7),ie(41,"img",16),O(42,"div",9)(43,"div",10)(44,"strong"),X(45,"SERPIENTE"),Q(),ie(46,"br")(47,"hr"),X(48," El juego de memoria con im\xE1genes es un juego de concentraci\xF3n y memoria en el que los jugadores deben hacer coincidir pares de cartas con im\xE1genes id\xE9nticas o relacionadas en un conjunto de cartas boca abajo. "),Q()()()()(),O(49,"div",5)(50,"a",17)(51,"div",7),ie(52,"img",18),O(53,"div",9)(54,"div",10)(55,"strong"),X(56,"Quien Soy"),Q(),ie(57,"br")(58,"hr"),X(59," Haz click para mas informacion "),Q()()()()()()()()())},styles:[".page-header[_ngcontent-%COMP%]{height:90vh;display:flex;align-items:center}.card[_ngcontent-%COMP%]{--bs-card-bg: transparent}.card[_ngcontent-%COMP%]{position:relative}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:100%;height:auto}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s}.card-title[_ngcontent-%COMP%]{color:#fff;text-align:center}.card[_ngcontent-%COMP%]:hover   .card-overlay[_ngcontent-%COMP%]{opacity:1}.card[_ngcontent-%COMP%]{--bs-card-border-color: transparent !important;--bs-card-bg: transparent}.card-title[_ngcontent-%COMP%]{color:#fff}"]});let t=e;return t})();var Lb=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:xb},{path:"registrar-usuario",component:Pb},{path:"verificar-correo",component:Ob},{path:"dashboard",component:kb},{path:"home",component:Fb},{path:"**",redirectTo:"/login",pathMatch:"full"}];var Vb={providers:[jw(Lb),Bs(zE(()=>GE({projectId:"saladejuegos-44061",appId:"1:146186588869:web:7f6d69119c9f678d3896ac",storageBucket:"saladejuegos-44061.appspot.com",apiKey:"AIzaSyAWh07VekAEWuqK5UsNMWSzhV73Z8VMorQ",authDomain:"saladejuegos-44061.firebaseapp.com",messagingSenderId:"146186588869"}))),Bs(BD(()=>HD())),Bs(Ab(()=>Nb()))]};var Ub=(()=>{let e=class e{constructor(){this.title="SalaDeJuegos"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],standalone:!0,features:[yt],decls:1,vars:0,template:function(i,s){i&1&&ie(0,"router-outlet")},dependencies:[Vf,Hi]});let t=e;return t})();sw(Ub,Vb).catch(t=>console.error(t));
