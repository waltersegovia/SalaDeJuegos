var Cb=Object.defineProperty,Tb=Object.defineProperties;var bb=Object.getOwnPropertyDescriptors;var av=Object.getOwnPropertySymbols,Sb=Object.getPrototypeOf,Ab=Object.prototype.hasOwnProperty,Rb=Object.prototype.propertyIsEnumerable,Mb=Reflect.get;var cv=(t,e,n)=>e in t?Cb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})Ab.call(e,n)&&cv(t,n,e[n]);if(av)for(var n of av(e))Rb.call(e,n)&&cv(t,n,e[n]);return t},ee=(t,e)=>Tb(t,bb(e));var Rn=(t,e,n)=>Mb(Sb(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var uv=null;var vd=1,lv=Symbol("SIGNAL");function J(t){let e=uv;return uv=t,e}var dv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Nb(t){if(!(wd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vd)){if(!t.producerMustRecompute(t)&&!_d(t)){t.dirty=!1,t.lastCleanEpoch=vd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vd}}function hv(t){return t&&(t.nextProducerIndex=0),J(t)}function fv(t,e){if(J(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Id(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _d(t){Pa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Nb(n),r!==n.version))return!0}return!1}function pv(t){if(Pa(t),wd(t))for(let e=0;e<t.producerNode.length;e++)Id(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Id(t,e){if(xb(t),Pa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Id(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pa(i),i.producerIndexOfThis[r]=e}}function wd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function xb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Pb(){throw new Error}var Ob=Pb;function gv(t){Ob=t}function F(t){return typeof t=="function"}function ci(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oa=ci(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var de=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof Oa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{mv(s)}catch(o){e=e??[],o instanceof Oa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Oa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hr(n,e)}remove(e){let{_finalizers:n}=this;n&&hr(n,e),e instanceof t&&e._removeParent(this)}};de.EMPTY=(()=>{let t=new de;return t.closed=!0,t})();var Ed=de.EMPTY;function ka(t){return t instanceof de||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function mv(t){F(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ui={setTimeout(t,e,...n){let{delegate:r}=ui;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fa(t){ui.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Os(){}var yv=Dd("C",void 0,void 0);function vv(t){return Dd("E",void 0,t)}function _v(t){return Dd("N",t,void 0)}function Dd(t,e,n){return{kind:t,value:e,error:n}}var fr=null;function li(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!fr;if(e&&(fr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fr;if(fr=null,n)throw r}}else t()}function Iv(t){St.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=t)}var pr=class extends de{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ka(e)&&e.add(this)):this.destination=Lb}static create(e,n,r){return new di(e,n,r)}next(e){this.isStopped?Td(_v(e),this):this._next(e)}error(e){this.isStopped?Td(vv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Td(yv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kb=Function.prototype.bind;function Cd(t,e){return kb.call(t,e)}var bd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){La(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){La(r)}else La(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){La(n)}}},di=class extends pr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cd(e.next,s),error:e.error&&Cd(e.error,s),complete:e.complete&&Cd(e.complete,s)}):i=e}this.destination=new bd(i)}};function La(t){St.useDeprecatedSynchronousErrorHandling?Iv(t):Fa(t)}function Fb(t){throw t}function Td(t,e){let{onStoppedNotification:n}=St;n&&ui.setTimeout(()=>n(t,e))}var Lb={closed:!0,next:Os,error:Fb,complete:Os};var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function Sd(...t){return Ad(t)}function Ad(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var K=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Ub(n)?n:new di(n,r,i);return li(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wv(r),new r((i,s)=>{let o=new di({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hi](){return this}pipe(...n){return Ad(n)(this)}toPromise(n){return n=wv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wv(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function Vb(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function Ub(t){return t&&t instanceof pr||Vb(t)&&ka(t)}function Rd(t){return F(t?.lift)}function Q(t){return e=>{if(Rd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,r,i){return new Md(t,e,n,r,i)}var Md=class extends pr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fi(){return Q((t,e)=>{let n=null;t._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var pi=class extends K{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new de;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=de.EMPTY)}return e}refCount(){return fi()(this)}};var Ev=ci(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Va(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ev}next(n){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ed:(this.currentObservers=null,s.push(n),new de(()=>{this.currentObservers=null,hr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return t.create=(e,n)=>new Va(e,n),t})(),Va=class extends Ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ed}};var Pe=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Nd={now(){return(Nd.delegate||Date).now()},delegate:void 0};var Ua=class extends de{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gi=class extends Ua{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mi.now=Nd.now;var yi=class extends mi{constructor(e,n=mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xd=new yi(gi);var ja=class extends gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ba=class extends yi{};var Pd=new Ba(ja);var st=new K(t=>t.complete());function Dv(t){return t&&F(t.schedule)}function Cv(t){return t[t.length-1]}function $a(t){return F(Cv(t))?t.pop():void 0}function Mn(t){return Dv(Cv(t))?t.pop():void 0}function Od(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Tv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gr(t){return this instanceof gr?(this.v=t,this):new gr(t)}function Sv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,I){s.push([h,p,m,I])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof gr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Av(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tv=="function"?Tv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ha=t=>t&&typeof t.length=="number"&&typeof t!="function";function qa(t){return F(t?.then)}function za(t){return F(t[hi])}function Ga(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Wa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ka=jb();function Qa(t){return F(t?.[Ka])}function Ya(t){return Sv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gr(n.read());if(i)return yield gr(void 0);yield yield gr(r)}}finally{n.releaseLock()}})}function Ja(t){return F(t?.getReader)}function ge(t){if(t instanceof K)return t;if(t!=null){if(za(t))return Bb(t);if(Ha(t))return $b(t);if(qa(t))return Hb(t);if(Ga(t))return Rv(t);if(Qa(t))return qb(t);if(Ja(t))return zb(t)}throw Wa(t)}function Bb(t){return new K(e=>{let n=t[hi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $b(t){return new K(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Hb(t){return new K(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fa)})}function qb(t){return new K(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Rv(t){return new K(e=>{Gb(t,e).catch(n=>e.error(n))})}function zb(t){return Rv(Ya(t))}function Gb(t,e){var n,r,i,s;return bv(this,void 0,void 0,function*(){try{for(n=Av(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ze(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Nn(t,e=0){return Q((n,r)=>{n.subscribe(H(r,i=>Ze(r,t,()=>r.next(i),e),()=>Ze(r,t,()=>r.complete(),e),i=>Ze(r,t,()=>r.error(i),e)))})}function xn(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Mv(t,e){return ge(t).pipe(xn(e),Nn(e))}function Nv(t,e){return ge(t).pipe(xn(e),Nn(e))}function xv(t,e){return new K(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Pv(t,e){return new K(n=>{let r;return Ze(n,e,()=>{r=t[Ka](),Ze(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Za(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(n=>{Ze(n,e,()=>{let r=t[Symbol.asyncIterator]();Ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ov(t,e){return Za(Ya(t),e)}function kv(t,e){if(t!=null){if(za(t))return Mv(t,e);if(Ha(t))return xv(t,e);if(qa(t))return Nv(t,e);if(Ga(t))return Za(t,e);if(Qa(t))return Pv(t,e);if(Ja(t))return Ov(t,e)}throw Wa(t)}function he(t,e){return e?kv(t,e):ge(t)}function L(...t){let e=Mn(t);return he(t,e)}function vi(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new K(e?i=>e.schedule(r,0,i):r)}function kd(t){return!!t&&(t instanceof K||F(t.lift)&&F(t.subscribe))}var an=ci(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function q(t,e){return Q((n,r)=>{let i=0;n.subscribe(H(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Wb}=Array;function Kb(t,e){return Wb(e)?t(...e):t(e)}function Xa(t){return q(e=>Kb(t,e))}var{isArray:Qb}=Array,{getPrototypeOf:Yb,prototype:Jb,keys:Zb}=Object;function ec(t){if(t.length===1){let e=t[0];if(Qb(e))return{args:e,keys:null};if(Xb(e)){let n=Zb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Xb(t){return t&&typeof t=="object"&&Yb(t)===Jb}function tc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nc(...t){let e=Mn(t),n=$a(t),{args:r,keys:i}=ec(t);if(r.length===0)return he([],e);let s=new K(eS(r,e,i?o=>tc(i,o):it));return n?s.pipe(Xa(n)):s}function eS(t,e,n=it){return r=>{Fv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Fv(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(H(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Fv(t,e,n){t?Ze(n,t,e):e()}function Lv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=I=>u<r?m(I):c.push(I),m=I=>{s&&e.next(I),u++;let b=!1;ge(n(I,l++)).subscribe(H(e,R=>{i?.(R),s?p(R):e.next(R)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let R=c.shift();o?Ze(e,o,()=>m(R)):m(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(H(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ee(t,e,n=1/0){return F(e)?Ee((r,i)=>q((s,o)=>e(r,s,i,o))(ge(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>Lv(r,i,t,n)))}function Fd(t=1/0){return Ee(it,t)}function Vv(){return Fd(1)}function _i(...t){return Vv()(he(t,Mn(t)))}function rc(t){return new K(e=>{ge(t()).subscribe(e)})}function Ld(...t){let e=$a(t),{args:n,keys:r}=ec(t),i=new K(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ge(n[l]).subscribe(H(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?tc(r,a):a),s.complete())}))}});return e?i.pipe(Xa(e)):i}function At(t,e){return Q((n,r)=>{let i=0;n.subscribe(H(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Pn(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(H(n,void 0,void 0,o=>{s=ge(t(o,Pn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Uv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(H(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ii(t,e){return F(e)?Ee(t,e,1):Ee(t,1)}function On(t){return Q((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function cn(t){return t<=0?()=>st:Q((e,n)=>{let r=0;e.subscribe(H(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vd(t){return q(()=>t)}function ic(t=tS){return Q((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tS(){return new an}function Fs(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):it,cn(1),n?On(e):ic(()=>new an))}function wi(t){return t<=0?()=>st:Q((e,n)=>{let r=[];e.subscribe(H(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ud(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):it,wi(1),n?On(e):ic(()=>new an))}function jd(t,e){return Q(Uv(t,e,arguments.length>=2,!0))}function Bd(...t){let e=Mn(t);return Q((n,r)=>{(e?_i(t,n,e):_i(t,n)).subscribe(r)})}function Rt(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(H(r,c=>{i?.unsubscribe();let u=0,l=s++;ge(t(c,l)).subscribe(i=H(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function $d(t){return Q((e,n)=>{ge(t).subscribe(H(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function De(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(H(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):it}var I_="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(Bh(e,n)),this.code=e}};function Bh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Qs(t){return{toString:t}.toString()}var sc="__parameters__";function nS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rS(t,e,n){return Qs(()=>{let r=nS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(sc)?c[sc]:Object.defineProperty(c,sc,{value:[]})[sc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mr=globalThis;function ie(t){for(let e in t)if(t[e]===ie)return e;throw Error("Could not find renamed property on target object.")}function iS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ke(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ke).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function jv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sS=ie({__forward_ref__:ie});function ki(t){return t.__forward_ref__=ki,t.toString=function(){return Ke(this())},t}function We(t){return w_(t)?t():t}function w_(t){return typeof t=="function"&&t.hasOwnProperty(sS)&&t.__forward_ref__===ki}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Oc(t){return Bv(t,D_)||Bv(t,C_)}function E_(t){return Oc(t)!==null}function Bv(t,e){return t.hasOwnProperty(e)?t[e]:null}function oS(t){let e=t&&(t[D_]||t[C_]);return e||null}function $v(t){return t&&(t.hasOwnProperty(Hv)||t.hasOwnProperty(aS))?t[Hv]:null}var D_=ie({\u0275prov:ie}),Hv=ie({\u0275inj:ie}),C_=ie({ngInjectableDef:ie}),aS=ie({ngInjectorDef:ie}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function T_(t){return t&&!!t.\u0275providers}var cS=ie({\u0275cmp:ie}),uS=ie({\u0275dir:ie}),lS=ie({\u0275pipe:ie}),dS=ie({\u0275mod:ie}),pc=ie({\u0275fac:ie}),Ls=ie({__NG_ELEMENT_ID__:ie}),qv=ie({__NG_ENV_ID__:ie});function kc(t){return typeof t=="string"?t:t==null?"":String(t)}function hS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kc(t)}function fS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function $h(t,e){throw new A(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),ih;function b_(){return ih}function yt(t){let e=ih;return ih=t,e}function S_(t,e,n){let r=Oc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;$h(t,"Injector")}var pS={},Vs=pS,sh="__NG_DI_FLAG__",gc="ngTempTokenPath",gS="ngTokenPath",mS=/\n/gm,yS="\u0275",zv="__source",Ti;function vS(){return Ti}function kn(t){let e=Ti;return Ti=t,e}function _S(t,e=j.Default){if(Ti===void 0)throw new A(-203,!1);return Ti===null?S_(t,void 0,e):Ti.get(t,e&j.Optional?null:void 0,e)}function U(t,e=j.Default){return(b_()||_S)(We(t),e)}function E(t,e=j.Default){return U(t,Fc(e))}function Fc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oh(t){let e=[];for(let n=0;n<t.length;n++){let r=We(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=j.Default;for(let o=0;o<r.length;o++){let a=r[o],c=wS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function IS(t,e){return t[sh]=e,t.prototype[sh]=e,t}function wS(t){return t[sh]}function ES(t,e,n,r){let i=t[gc];throw e[zv]&&i.unshift(e[zv]),t.message=DS(`
`+t.message,i,n,r),t[gS]=i,t[gc]=null,t}function DS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yS?t.slice(2):t;let i=Ke(e);if(Array.isArray(e))i=e.map(Ke).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ke(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mS,`
  `)}`}var et=IS(rS("Optional"),8);function Si(t,e){let n=t.hasOwnProperty(pc);return n?t[pc]:null}function Hh(t,e){t.forEach(n=>Array.isArray(n)?Hh(n,e):e(n))}function A_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function TS(t,e,n){let r=Ys(t,e);return r>=0?t[r|1]=n:(r=~r,CS(t,r,e,n)),r}function Hd(t,e){let n=Ys(t,e);if(n>=0)return t[n|1]}function Ys(t,e){return bS(t,e,1)}function bS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ai={},vt=[],Ri=new N(""),R_=new N("",-1),M_=new N(""),yc=class{get(e,n=Vs){if(n===Vs){let r=new Error(`NullInjectorError: No provider for ${Ke(e)}!`);throw r.name="NullInjectorError",r}return n}},N_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(N_||{}),Ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ht||{}),je=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(je||{});function SS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ah(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];AS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function x_(t){return t===3||t===4||t===6}function AS(t){return t.charCodeAt(0)===64}function Us(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Gv(t,n,i,null,e[++r]):Gv(t,n,i,null,null))}}return t}function Gv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var P_="ng-template";function RS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function qh(t){return t.type===4&&t.value!==P_}function MS(t,e,n){let r=t.type===4&&!n?P_:t.value;return e===r}function NS(t,e,n){let r=4,i=t.attrs,s=i!==null?OS(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!MS(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else if(r&8){if(i===null||!RS(t,i,c,n)){if(Mt(r))return!1;o=!0}}else{let u=e[++a],l=xS(c,i,qh(t),n);if(l===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function xS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return kS(e,t)}function PS(t,e,n=!1){for(let r=0;r<e.length;r++)if(NS(t,e[r],n))return!0;return!1}function OS(t){for(let e=0;e<t.length;e++){let n=t[e];if(x_(n))return e}return t.length}function kS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Wv(t,e){return t?":not("+e.trim()+")":e}function FS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=Wv(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=Wv(s,i)),e}function LS(t){return t.map(FS).join(",")}function VS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function me(t){return Qs(()=>{let e=V_(t),n=ee(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===N_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||vt,_:null,schemas:t.schemas||null,tView:null,id:""});U_(n);let r=t.dependencies;return n.directiveDefs=Qv(r,!1),n.pipeDefs=Qv(r,!0),n.id=BS(n),n})}function US(t){return _r(t)||O_(t)}function jS(t){return t!==null}function tt(t){return Qs(()=>({type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kv(t,e){if(t==null)return Ai;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=je.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==je.None?[r,a]:r,e[s]=o):n[s]=r}return n}function nt(t){return Qs(()=>{let e=V_(t);return U_(e),e})}function _r(t){return t[cS]||null}function O_(t){return t[uS]||null}function k_(t){return t[lS]||null}function F_(t){let e=_r(t)||O_(t)||k_(t);return e!==null?e.standalone:!1}function L_(t,e){let n=t[dS]||null;if(!n&&e===!0)throw new Error(`Type ${Ke(t)} does not have '\u0275mod' property.`);return n}function V_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ai,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kv(t.inputs,e),outputs:Kv(t.outputs),debugInfo:null}}function U_(t){t.features?.forEach(e=>e(t))}function Qv(t,e){if(!t)return null;let n=e?k_:US;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jS)}function BS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lc(t){return{\u0275providers:t}}function Js(...t){return{\u0275providers:j_(!0,t),\u0275fromNgModule:!0}}function j_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Hh(e,o=>{let a=o;ch(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&B_(i,s),n}function B_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zh(i,s=>{e(s,r)})}}function ch(t,e,n,r){if(t=We(t),!t)return!1;let i=null,s=$v(t),o=!s&&_r(t);if(!s&&!o){let c=t.ngModule;if(s=$v(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)ch(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Hh(s.imports,l=>{ch(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&B_(u,e)}if(!a){let u=Si(i)||(()=>new i);e({provide:i,useFactory:u,deps:vt},i),e({provide:M_,useValue:i,multi:!0},i),e({provide:Ri,useValue:()=>U(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;zh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function zh(t,e){for(let n of t)T_(n)&&(n=n.\u0275providers),Array.isArray(n)?zh(n,e):e(n)}var $S=ie({provide:String,useValue:ie});function $_(t){return t!==null&&typeof t=="object"&&$S in t}function HS(t){return!!(t&&t.useExisting)}function qS(t){return!!(t&&t.useFactory)}function Mi(t){return typeof t=="function"}function zS(t){return!!t.useClass}var Vc=new N(""),uc={},GS={},qd;function Gh(){return qd===void 0&&(qd=new yc),qd}var _t=class{},js=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(e,o=>this.processProvider(o)),this.records.set(R_,Ei(void 0,this)),i.has("environment")&&this.records.set(_t,Ei(void 0,this));let s=this.records.get(Vc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(M_,vt,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=kn(this),r=yt(void 0),i;try{return e()}finally{kn(n),yt(r)}}get(e,n=Vs,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qv))return e[qv](this);r=Fc(r);let i,s=kn(this),o=yt(void 0);try{if(!(r&j.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=JS(e)&&Oc(e);u&&this.injectableDefInScope(u)?c=Ei(uh(e),uc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&j.Self?Gh():this.parent;return n=r&j.Optional&&n===Vs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[gc]=a[gc]||[]).unshift(Ke(e)),s)throw a;return ES(a,e,"R3InjectorError",this.source)}else throw a}finally{yt(o),kn(s)}}resolveInjectorInitializers(){let e=J(null),n=kn(this),r=yt(void 0),i;try{let s=this.get(Ri,vt,j.Self);for(let o of s)o()}finally{kn(n),yt(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=We(e);let n=Mi(e)?e:We(e&&e.provide),r=KS(e);if(!Mi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ei(void 0,uc,!0),i.factory=()=>oh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=J(null);try{return n.value===uc&&(n.value=GS,n.value=n.factory()),typeof n.value=="object"&&n.value&&YS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=We(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function uh(t){let e=Oc(t),n=e!==null?e.factory:Si(t);if(n!==null)return n;if(t instanceof N)throw new A(204,!1);if(t instanceof Function)return WS(t);throw new A(204,!1)}function WS(t){if(t.length>0)throw new A(204,!1);let n=oS(t);return n!==null?()=>n.factory(t):()=>new t}function KS(t){if($_(t))return Ei(void 0,t.useValue);{let e=H_(t);return Ei(e,uc)}}function H_(t,e,n){let r;if(Mi(t)){let i=We(t);return Si(i)||uh(i)}else if($_(t))r=()=>We(t.useValue);else if(qS(t))r=()=>t.useFactory(...oh(t.deps||[]));else if(HS(t))r=()=>U(We(t.useExisting));else{let i=We(t&&(t.useClass||t.provide));if(QS(t))r=()=>new i(...oh(t.deps));else return Si(i)||uh(i)}return r}function Ei(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QS(t){return!!t.deps}function YS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JS(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function lh(t,e){for(let n of t)Array.isArray(n)?lh(n,e):n&&T_(n)?lh(n.\u0275providers,e):e(n)}function Sr(t,e){t instanceof js&&t.assertNotDestroyed();let n,r=kn(t),i=yt(void 0);try{return e()}finally{kn(r),yt(i)}}function ZS(){return b_()!==void 0||vS()!=null}function XS(t){return typeof t=="function"}var hn=0,$=1,P=2,Be=3,Nt=4,Pt=5,vc=6,Bs=7,It=8,Ni=9,xt=10,Oe=11,$s=12,Yv=13,Fi=14,qt=15,Uc=16,Di=17,xi=18,jc=19,q_=20,Fn=21,zd=22,Ir=23,zt=25,z_=1;var wr=7,_c=8,Ic=9,ot=10,Wh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wh||{});function yr(t){return Array.isArray(t)&&typeof t[z_]=="object"}function fn(t){return Array.isArray(t)&&t[z_]===!0}function G_(t){return(t.flags&4)!==0}function Bc(t){return t.componentOffset>-1}function Kh(t){return(t.flags&1)===1}function Ln(t){return!!t.template}function eA(t){return(t[P]&512)!==0}var dh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function W_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Un(){return K_}function K_(t){return t.type.prototype.ngOnChanges&&(t.setInput=nA),tA}Un.ngInherit=!0;function tA(){let t=Y_(this),e=t?.current;if(e){let n=t.previous;if(n===Ai)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nA(t,e,n,r,i){let s=this.declaredInputs[r],o=Y_(t)||rA(t,{previous:Ai,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new dh(u&&u.currentValue,n,c===Ai),W_(t,e,i,n)}var Q_="__ngSimpleChanges__";function Y_(t){return t[Q_]||null}function rA(t,e){return t[Q_]=e}var Jv=null;var Bt=function(t,e,n){Jv?.(t,e,n)},iA="svg",sA="math",oA=!1;function aA(){return oA}function Gt(t){for(;Array.isArray(t);)t=t[hn];return t}function J_(t,e){return Gt(e[t])}function wt(t,e){return Gt(e[t.index])}function Qh(t,e){return t.data[e]}function jn(t,e){let n=e[t];return yr(n)?n:n[hn]}function Yh(t){return(t[P]&128)===128}function cA(t){return fn(t[Be])}function wc(t,e){return e==null?null:t[e]}function Z_(t){t[Di]=0}function uA(t){t[P]&1024||(t[P]|=1024,Yh(t)&&Hs(t))}function lA(t,e){for(;t>0;)e=e[Fi],t--;return e}function Jh(t){return!!(t[P]&9216||t[Ir]?.dirty)}function hh(t){t[xt].changeDetectionScheduler?.notify(1),Jh(t)?Hs(t):t[P]&64&&(aA()?(t[P]|=1024,Hs(t)):t[xt].changeDetectionScheduler?.notify())}function Hs(t){t[xt].changeDetectionScheduler?.notify();let e=qs(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Yh(e)));)e=qs(e)}function X_(t,e){if((t[P]&256)===256)throw new A(911,!1);t[Fn]===null&&(t[Fn]=[]),t[Fn].push(e)}function dA(t,e){if(t[Fn]===null)return;let n=t[Fn].indexOf(e);n!==-1&&t[Fn].splice(n,1)}function qs(t){let e=t[Be];return fn(e)?e[Be]:e}var z={lFrame:oI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hA(){return z.lFrame.elementDepthCount}function fA(){z.lFrame.elementDepthCount++}function pA(){z.lFrame.elementDepthCount--}function eI(){return z.bindingsEnabled}function gA(){return z.skipHydrationRootTNode!==null}function mA(t){return z.skipHydrationRootTNode===t}function yA(){z.skipHydrationRootTNode=null}function ue(){return z.lFrame.lView}function Ot(){return z.lFrame.tView}function Zs(t){return z.lFrame.contextLView=t,t[It]}function Xs(t){return z.lFrame.contextLView=null,t}function at(){let t=tI();for(;t!==null&&t.type===64;)t=t.parent;return t}function tI(){return z.lFrame.currentTNode}function vA(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function eo(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function nI(){return z.lFrame.isParent}function _A(){z.lFrame.isParent=!1}function IA(t){return z.lFrame.bindingIndex=t}function $c(){return z.lFrame.bindingIndex++}function wA(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function EA(){return z.lFrame.inI18n}function DA(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,fh(e)}function CA(){return z.lFrame.currentDirectiveIndex}function fh(t){z.lFrame.currentDirectiveIndex=t}function TA(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rI(t){z.lFrame.currentQueryIndex=t}function bA(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[Pt]:null}function iI(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=bA(s),i===null||(s=s[Fi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=sI();return r.currentTNode=e,r.lView=t,!0}function Zh(t){let e=sI(),n=t[$];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sI(){let t=z.lFrame,e=t===null?null:t.child;return e===null?oI(t):e}function oI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aI(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cI=aI;function Xh(){let t=aI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SA(t){return(z.lFrame.contextLView=lA(t,z.lFrame.contextLView))[It]}function Li(){return z.lFrame.selectedIndex}function Er(t){z.lFrame.selectedIndex=t}function uI(){let t=z.lFrame;return Qh(t.tView,t.selectedIndex)}function AA(){return z.lFrame.currentNamespace}var lI=!0;function ef(){return lI}function tf(t){lI=t}function RA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=K_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function nf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function lc(t,e,n){dI(t,e,3,n)}function dc(t,e,n,r){(t[P]&3)===n&&dI(t,e,n,r)}function Gd(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function dI(t,e,n,r){let i=r!==void 0?t[Di]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Di]+=65536),(a<s||s==-1)&&(MA(t,n,e,c),t[Di]=(t[Di]&4294901760)+c+2),c++}function Zv(t,e){Bt(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),Bt(5,t,e)}}function MA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[Di]>>16&&(t[P]&3)===e&&(t[P]+=16384,Zv(a,s)):Zv(a,s)}var bi=-1,Dr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function NA(t){return t instanceof Dr}function xA(t){return(t.flags&8)!==0}function PA(t){return(t.flags&16)!==0}function hI(t){return t!==bi}function Ec(t){return t&32767}function OA(t){return t>>16}function Dc(t,e){let n=OA(t),r=e;for(;n>0;)r=r[Fi],n--;return r}var ph=!0;function Xv(t){let e=ph;return ph=t,e}var kA=256,fI=kA-1,pI=5,FA=0,$t={};function LA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ls)&&(r=n[Ls]),r==null&&(r=n[Ls]=FA++);let i=r&fI,s=1<<i;e.data[t+(i>>pI)]|=s}function Cc(t,e){let n=gI(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Wd(r.data,t),Wd(e,null),Wd(r.blueprint,null));let i=rf(t,e),s=t.injectorIndex;if(hI(i)){let o=Ec(i),a=Dc(i,e),c=a[$].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Wd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function rf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=II(i),r===null)return bi;if(n++,i=i[Fi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return bi}function gh(t,e,n){LA(t,e,n)}function VA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(x_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function mI(t,e,n){if(n&j.Optional||t!==void 0)return t;$h(e,"NodeInjector")}function yI(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[Ni],s=yt(void 0);try{return i?i.get(e,r,n&j.Optional):S_(e,r,n&j.Optional)}finally{yt(s)}}return mI(r,e,n)}function vI(t,e,n,r=j.Default,i){if(t!==null){if(e[P]&2048&&!(r&j.Self)){let o=HA(t,e,n,r,$t);if(o!==$t)return o}let s=_I(t,e,n,r,$t);if(s!==$t)return s}return yI(e,n,r,i)}function _I(t,e,n,r,i){let s=BA(n);if(typeof s=="function"){if(!iI(e,t,r))return r&j.Host?mI(i,n,r):yI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&j.Optional))$h(n);else return o}finally{cI()}}else if(typeof s=="number"){let o=null,a=gI(t,e),c=bi,u=r&j.Host?e[qt][Pt]:null;for((a===-1||r&j.SkipSelf)&&(c=a===-1?rf(t,e):e[a+8],c===bi||!t_(r,!1)?a=-1:(o=e[$],a=Ec(c),e=Dc(c,e)));a!==-1;){let l=e[$];if(e_(s,a,l.data)){let d=UA(a,e,n,o,r,u);if(d!==$t)return d}c=e[a+8],c!==bi&&t_(r,e[$].data[a+8]===u)&&e_(s,a,e)?(o=l,a=Ec(c),e=Dc(c,e)):a=-1}}return i}function UA(t,e,n,r,i,s){let o=e[$],a=o.data[t+8],c=r==null?Bc(a)&&ph:r!=o&&(a.type&3)!==0,u=i&j.Host&&s===a,l=jA(a,o,n,c,u);return l!==null?Pi(e,o,l,a):$t}function jA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&Ln(p)&&p.type===n)return c}return null}function Pi(t,e,n,r){let i=t[n],s=e.data;if(NA(i)){let o=i;o.resolving&&fS(hS(s[n]));let a=Xv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?yt(o.injectImpl):null,l=iI(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&RA(n,s[n],e)}finally{u!==null&&yt(u),Xv(a),o.resolving=!1,cI()}}return i}function BA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ls)?t[Ls]:void 0;return typeof e=="number"?e>=0?e&fI:$A:e}function e_(t,e,n){let r=1<<t;return!!(n[e+(t>>pI)]&r)}function t_(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var vr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vI(this._tNode,this._lView,e,Fc(r),n)}};function $A(){return new vr(at(),ue())}function to(t){return Qs(()=>{let e=t.prototype.constructor,n=e[pc]||mh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[pc]||mh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function mh(t){return w_(t)?()=>{let e=mh(We(t));return e&&e()}:Si(t)}function HA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=_I(s,o,n,r|j.Self,$t);if(a!==$t)return a;let c=s.parent;if(!c){let u=o[q_];if(u){let l=u.get(n,$t,r);if(l!==$t)return l}c=II(o),o=o[Fi]}s=c}return i}function II(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[Pt]:null}function sf(t){return VA(at(),t)}function n_(t,e=null,n=null,r){let i=wI(t,e,n,r);return i.resolveInjectorInitializers(),i}function wI(t,e=null,n=null,r,i=new Set){let s=[n||vt,Js(t)];return r=r||(typeof t=="object"?void 0:Ke(t)),new js(s,e||Gh(),r||null,i)}var Et=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return n_({name:""},i,r,"");{let s=r.name??"";return n_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Vs,e.NULL=new yc,e.\u0275prov=x({token:e,providedIn:"any",factory:()=>U(R_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var qA="ngOriginalError";function Kd(t){return t[qA]}var un=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Kd(e);for(;n&&Kd(n);)n=Kd(n);return n||null}},EI=new N("",{providedIn:"root",factory:()=>E(un).handleError.bind(void 0)}),DI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),yh=class extends DI{constructor(e){super(),this._lView=e}onDestroy(e){return X_(this._lView,e),()=>dA(this._lView,e)}};function zA(){return new yh(ue())}function GA(){return Hc(at(),ue())}function Hc(t,e){return new Bn(wt(t,e))}var Bn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=GA;let t=e;return t})();var vh=class extends Ve{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,ZS()&&(this.destroyRef=E(DI,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Qd(s),i&&(i=Qd(i)),o&&(o=Qd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof de&&e.add(a),a}};function Qd(t){return e=>{setTimeout(t,void 0,e)}}var Ue=vh;function CI(t){return(t.flags&128)===128}var TI=new Map,WA=0;function KA(){return WA++}function QA(t){TI.set(t[jc],t)}function YA(t){TI.delete(t[jc])}var r_="__ngContext__";function Cr(t,e){yr(e)?(t[r_]=e[jc],QA(e)):t[r_]=e}function bI(t){return AI(t[$s])}function SI(t){return AI(t[Nt])}function AI(t){for(;t!==null&&!fn(t);)t=t[Nt];return t}var _h;function RI(t){_h=t}function JA(){if(_h!==void 0)return _h;if(typeof document<"u")return document;throw new A(210,!1)}var of=new N("",{providedIn:"root",factory:()=>ZA}),ZA="ng",af=new N(""),$n=new N("",{providedIn:"platform",factory:()=>"unknown"});var cf=new N("",{providedIn:"root",factory:()=>JA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XA="h",eR="b";var tR=()=>null;function uf(t,e,n=!1){return tR(t,e,n)}var MI=!1,nR=new N("",{providedIn:"root",factory:()=>MI});var oc;function rR(){if(oc===void 0&&(oc=null,mr.trustedTypes))try{oc=mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return oc}function i_(t){return rR()?.createScriptURL(t)||t}var Tc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I_})`}};function no(t){return t instanceof Tc?t.changingThisBreaksApplicationSecurity:t}function lf(t,e){let n=iR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${I_})`)}return n===e}function iR(t){return t instanceof Tc&&t.getTypeName()||null}var sR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function NI(t){return t=String(t),t.match(sR)?t:"unsafe:"+t}var qc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qc||{});function oR(t){let e=PI();return e?e.sanitize(qc.URL,t)||"":lf(t,"URL")?no(t):NI(kc(t))}function aR(t){let e=PI();if(e)return i_(e.sanitize(qc.RESOURCE_URL,t)||"");if(lf(t,"ResourceURL"))return i_(no(t));throw new A(904,!1)}function cR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?aR:oR}function xI(t,e,n){return cR(e,n)(t)}function PI(){let t=ue();return t&&t[xt].sanitizer}function OI(t){return t instanceof Function?t():t}var ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ln||{}),uR;function df(t,e){return uR(t,e)}function Ci(t,e,n,r,i){if(r!=null){let s,o=!1;fn(r)?s=r:yr(r)&&(o=!0,r=r[hn]);let a=Gt(r);t===0&&n!==null?i==null?VI(e,n,a):Sc(e,n,a,i||null,!0):t===1&&n!==null?Sc(e,n,a,i||null,!0):t===2?bR(e,a,o):t===3&&e.destroyNode(a),s!=null&&AR(e,t,s,n,i)}}function lR(t,e){return t.createText(e)}function dR(t,e,n){t.setValue(e,n)}function kI(t,e,n){return t.createElement(e,n)}function hR(t,e){FI(t,e),e[hn]=null,e[Pt]=null}function fR(t,e,n,r,i,s){r[hn]=i,r[Pt]=e,zc(t,r,n,1,i,s)}function FI(t,e){e[xt].changeDetectionScheduler?.notify(1),zc(t,e,e[Oe],2,null,null)}function pR(t){let e=t[$s];if(!e)return Yd(t[$],t);for(;e;){let n=null;if(yr(e))n=e[$s];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[Nt]&&e!==t;)yr(e)&&Yd(e[$],e),e=e[Be];e===null&&(e=t),yr(e)&&Yd(e[$],e),n=e&&e[Nt]}e=n}}function gR(t,e,n,r){let i=ot+r,s=n.length;r>0&&(n[i-1][Nt]=e),r<s-ot?(e[Nt]=n[i],A_(n,ot+r,e)):(n.push(e),e[Nt]=null),e[Be]=n;let o=e[Uc];o!==null&&n!==o&&mR(o,e);let a=e[xi];a!==null&&a.insertView(t),hh(e),e[P]|=128}function mR(t,e){let n=t[Ic],i=e[Be][Be][qt];e[qt]!==i&&(t[P]|=Wh.HasTransplantedViews),n===null?t[Ic]=[e]:n.push(e)}function LI(t,e){let n=t[Ic],r=n.indexOf(e);n.splice(r,1)}function bc(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Uc];i!==null&&i!==t&&LI(i,r),e>0&&(t[n-1][Nt]=r[Nt]);let s=mc(t,ot+e);hR(r[$],r);let o=s[xi];o!==null&&o.detachView(s[$]),r[Be]=null,r[Nt]=null,r[P]&=-129}return r}function hf(t,e){if(!(e[P]&256)){let n=e[Oe];n.destroyNode&&zc(t,e,n,3,null,null),pR(e)}}function Yd(t,e){if(e[P]&256)return;let n=J(null);try{e[P]&=-129,e[P]|=256,e[Ir]&&pv(e[Ir]),vR(t,e),yR(t,e),e[$].type===1&&e[Oe].destroy();let r=e[Uc];if(r!==null&&fn(e[Be])){r!==e[Be]&&LI(r,e);let i=e[xi];i!==null&&i.detachView(t)}YA(e)}finally{J(n)}}function yR(t,e){let n=t.cleanup,r=e[Bs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Bs]=null);let i=e[Fn];if(i!==null){e[Fn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function vR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Dr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Bt(4,a,c);try{c.call(a)}finally{Bt(5,a,c)}}else{Bt(4,i,s);try{s.call(i)}finally{Bt(5,i,s)}}}}}function _R(t,e,n){return IR(t,e.parent,n)}function IR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ht.None||s===Ht.Emulated)return null}return wt(r,n)}}function Sc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VI(t,e,n){t.appendChild(e,n)}function s_(t,e,n,r,i){r!==null?Sc(t,e,n,r,i):VI(t,e,n)}function wR(t,e,n,r){t.removeChild(e,n,r)}function ff(t,e){return t.parentNode(e)}function ER(t,e){return t.nextSibling(e)}function DR(t,e,n){return TR(t,e,n)}function CR(t,e,n){return t.type&40?wt(t,n):null}var TR=CR,o_;function pf(t,e,n,r){let i=_R(t,r,e),s=e[Oe],o=r.parent||e[Pt],a=DR(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)s_(s,i,n[c],a,!1);else s_(s,i,n,a,!1);o_!==void 0&&o_(s,r,e,n,i)}function hc(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return Ih(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return hc(t,r);{let i=t[e.index];return fn(i)?Ih(-1,i):Gt(i)}}else{if(n&32)return df(e,t)()||Gt(t[e.index]);{let r=UI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qs(t[qt]);return hc(i,r)}else return hc(t,e.next)}}}return null}function UI(t,e){if(e!==null){let r=t[qt][Pt],i=e.projection;return r.projection[i]}return null}function Ih(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return hc(r,i)}return e[wr]}function bR(t,e,n){let r=ff(t,e);r&&wR(t,r,e,n)}function gf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Cr(Gt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)gf(t,e,n.child,r,i,s,!1),Ci(e,t,i,a,s);else if(c&32){let u=df(n,r),l;for(;l=u();)Ci(e,t,i,l,s);Ci(e,t,i,a,s)}else c&16?SR(t,e,r,n,i,s):Ci(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zc(t,e,n,r,i,s){gf(n,r,t.firstChild,e,i,s,!1)}function SR(t,e,n,r,i,s){let o=n[qt],c=o[Pt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ci(e,t,i,l,s)}else{let u=c,l=o[Be];CI(r)&&(u.flags|=128),gf(t,e,u,l,i,s,!0)}}function AR(t,e,n,r,i){let s=n[wr],o=Gt(n);s!==o&&Ci(e,t,r,s,i);for(let a=ot;a<n.length;a++){let c=n[a];zc(c[$],c,t,e,r,s)}}function RR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ln.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ln.Important),t.setStyle(n,r,i,s))}}function MR(t,e,n){t.setAttribute(e,"style",n)}function jI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ah(t,e,r),i!==null&&jI(t,e,i),s!==null&&MR(t,e,s)}var Vi={};function kt(t=1){$I(Ot(),ue(),Li()+t,!1)}function $I(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&lc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&dc(e,s,0,n)}Er(n)}function O(t,e=j.Default){let n=ue();if(n===null)return U(t,e);let r=at();return vI(r,n,We(t),e)}function HI(t,e,n,r,i,s){let o=J(null);try{let a=null;i&je.SignalBased&&(a=e[r][lv]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&je.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):W_(e,a,r,s)}finally{J(o)}}function NR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Er(~i);else{let s=i,o=n[++r],a=n[++r];DA(o,s);let c=e[s];a(2,c)}}}finally{Er(-1)}}function Gc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[hn]=i,d[P]=r|4|128|8|64,(u!==null||t&&t[P]&2048)&&(d[P]|=2048),Z_(d),d[Be]=d[Fi]=t,d[It]=n,d[xt]=o||t&&t[xt],d[Oe]=a||t&&t[Oe],d[Ni]=c||t&&t[Ni]||null,d[Pt]=s,d[jc]=KA(),d[vc]=l,d[q_]=u,d[qt]=e.type==2?t[qt]:d,d}function Wc(t,e,n,r,i){let s=t.data[e];if(s===null)s=xR(t,e,n,r,i),EA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=vA();s.injectorIndex=o===null?-1:o.injectorIndex}return eo(s,!0),s}function xR(t,e,n,r,i){let s=tI(),o=nI(),a=o?s:s&&s.parent,c=t.data[e]=LR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function qI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zI(t,e,n,r,i){let s=Li(),o=r&2;try{Er(-1),o&&e.length>zt&&$I(t,e,zt,!1),Bt(o?2:0,i),n(r,i)}finally{Er(s),Bt(o?3:1,i)}}function GI(t,e,n){if(G_(e)){let r=J(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{J(r)}}}function WI(t,e,n){eI()&&(qR(t,e,n,wt(n,e)),(n.flags&64)===64&&ZI(t,e,n))}function KI(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function QI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=mf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function mf(t,e,n,r,i,s,o,a,c,u,l){let d=zt+r,h=d+i,p=PR(d,h),m=typeof u=="function"?u():u;return p[$]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function PR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vi);return n}function OR(t,e,n,r){let s=r.get(nR,MI)||n===Ht.ShadowDom,o=t.selectRootElement(e,s);return kR(o),o}function kR(t){FR(t)}var FR=()=>null;function LR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return gA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function a_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=je.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?c_(r,n,u,a,c):c_(r,n,u,a)}return r}function c_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function VR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=a_(0,d.inputs,l,c,p),u=a_(1,d.outputs,l,u,m);let I=c!==null&&o!==null&&!qh(e)?tM(c,l,o):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function UR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jR(t,e,n,r,i,s,o,a){let c=wt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(yf(t,n,l,r,i),Bc(e)&&BR(n,e.index)):e.type&3?(r=UR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function BR(t,e){let n=jn(e,t);n[P]&16||(n[P]|=64)}function YI(t,e,n,r){if(eI()){let i=r===null?null:{"":-1},s=GR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&JI(t,e,n,o,i,a),i&&WR(n,r,i)}n.mergedAttrs=Us(n.mergedAttrs,n.attrs)}function JI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)gh(Cc(n,e),t,r[u].type);QR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=qI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Us(n.mergedAttrs,l.hostAttrs),YR(t,n,e,c,l),KR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}VR(t,n,s)}function $R(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;HR(o)!=a&&o.push(a),o.push(n,r,s)}}function HR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Bc(n)&&JR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cc(n,e),Cr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Pi(e,t,a,n);if(Cr(u,e),o!==null&&eM(e,a-i,u,c,n,o),Ln(c)){let l=jn(n.index,e);l[It]=Pi(e,t,a,n)}}}function ZI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=CA();try{Er(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];fh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&zR(c,u)}}finally{Er(-1),fh(o)}}function zR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function GR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(PS(e,o.selectors,!1))if(r||(r=[]),Ln(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;wh(t,e,c)}else r.unshift(o),wh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function wh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function WR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function KR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ln(e)&&(n[""]=t)}}function QR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function YR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Si(i.type,!0)),o=new Dr(s,Ln(i),O);t.blueprint[r]=o,n[r]=o,$R(t,e,r,qI(t,n,i.hostVars,Vi),i)}function JR(t,e,n){let r=wt(e,t),i=QI(n),s=t[xt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Kc(t,Gc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function ZR(t,e,n,r,i,s){let o=wt(t,e);XR(e[Oe],o,s,t.value,n,r,i)}function XR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?kc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function eM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];HI(r,n,c,u,l,d)}}function tM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function XI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ew(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];rI(s),a.contentQueries(2,e[o],o)}}}finally{J(r)}}}function Kc(t,e){return t[$s]?t[Yv][Nt]=e:t[$s]=e,t[Yv]=e,e}function Eh(t,e,n){rI(0);let r=J(null);try{e(t,n)}finally{J(r)}}function nM(t){return t[Bs]||(t[Bs]=[])}function rM(t){return t.cleanup||(t.cleanup=[])}function tw(t,e){let n=t[Ni],r=n?n.get(un,null):null;r&&r.handleError(e)}function yf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];HI(l,u,r,a,c,i)}}function iM(t,e,n){let r=J_(e,t);dR(t[Oe],r,n)}function sM(t,e){let n=jn(e,t),r=n[$];oM(r,n);let i=n[hn];i!==null&&n[vc]===null&&(n[vc]=uf(i,n[Ni])),vf(r,n,n[It])}function oM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function vf(t,e,n){Zh(e);try{let r=t.viewQuery;r!==null&&Eh(1,r,n);let i=t.template;i!==null&&zI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xi]?.finishViewCreation(t),t.staticContentQueries&&ew(t,e),t.staticViewQueries&&Eh(2,t.viewQuery,n);let s=t.components;s!==null&&aM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Xh()}}function aM(t,e){for(let n=0;n<e.length;n++)sM(t,e[n])}function nw(t,e,n,r){let i=J(null);try{let s=e.tView,a=t[P]&4096?4096:16,c=Gc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Uc]=u;let l=t[xi];return l!==null&&(c[xi]=l.createEmbeddedView(s)),vf(s,c,n),c}finally{J(i)}}function cM(t,e){let n=ot+e;if(n<t.length)return t[n]}function Dh(t,e){return!e||e.firstChild===null||CI(t)}function rw(t,e,n,r=!0){let i=e[$];if(gR(i,e,t,n),r){let o=Ih(n,t),a=e[Oe],c=ff(a,t[wr]);c!==null&&fR(i,t[Pt],a,e,c,o)}let s=e[vc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uM(t,e){let n=bc(t,e);return n!==void 0&&hf(n[$],n),n}function Ac(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Gt(s)),fn(s)&&lM(s,r);let o=n.type;if(o&8)Ac(t,e,n.child,r);else if(o&32){let a=df(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=UI(e,n);if(Array.isArray(a))r.push(...a);else{let c=qs(e[qt]);Ac(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lM(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&Ac(r[$],r,i,e)}t[wr]!==t[hn]&&e.push(t[wr])}var iw=[];function dM(t){return t[Ir]??hM(t)}function hM(t){let e=iw.pop()??Object.create(pM);return e.lView=t,e}function fM(t){t.lView[Ir]!==t&&(t.lView=null,iw.push(t))}var pM=ee(w({},dv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hs(t.lView)},consumerOnSignalRead(){this.lView[Ir]=this}}),sw=100;function ow(t,e=!0,n=0){let r=t[xt],i=r.rendererFactory,s=!1;s||i.begin?.();try{gM(t,n)}catch(o){throw e&&tw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gM(t,e){Ch(t,e);let n=0;for(;Jh(t);){if(n===sw)throw new A(103,!1);n++,Ch(t,1)}}function mM(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1;!s&&e[xt].inlineEffectRunner?.flush(),Zh(e);let o=null,a=null;!s&&yM(t)&&(a=dM(e),o=hv(a));try{Z_(e),IA(t.bindingStartIndex),n!==null&&zI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&lc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&dc(e,d,0,null),Gd(e,0)}if(vM(e),aw(e,0),t.contentQueries!==null&&ew(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&lc(e,d)}else{let d=t.contentHooks;d!==null&&dc(e,d,1),Gd(e,1)}NR(t,e);let u=t.components;u!==null&&uw(e,u,0);let l=t.viewQuery;if(l!==null&&Eh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&lc(e,d)}else{let d=t.viewHooks;d!==null&&dc(e,d,2),Gd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zd]){for(let d of e[zd])d();e[zd]=null}s||(e[P]&=-73)}catch(c){throw Hs(e),c}finally{a!==null&&(fv(a,o),fM(a)),Xh()}}function yM(t){return t.type!==2}function aw(t,e){for(let n=bI(t);n!==null;n=SI(n))for(let r=ot;r<n.length;r++){let i=n[r];cw(i,e)}}function vM(t){for(let e=bI(t);e!==null;e=SI(e)){if(!(e[P]&Wh.HasTransplantedViews))continue;let n=e[Ic];for(let r=0;r<n.length;r++){let i=n[r],s=i[Be];uA(i)}}}function _M(t,e,n){let r=jn(e,t);cw(r,n)}function cw(t,e){Yh(t)&&Ch(t,e)}function Ch(t,e){let r=t[$],i=t[P],s=t[Ir],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&_d(s)),s&&(s.dirty=!1),t[P]&=-9217,o)mM(r,t,r.template,t[It]);else if(i&8192){aw(t,1);let a=r.components;a!==null&&uw(t,a,1)}}function uw(t,e,n){for(let r=0;r<e.length;r++)_M(t,e[r],n)}function _f(t){for(t[xt].changeDetectionScheduler?.notify();t;){t[P]|=64;let e=qs(t);if(eA(t)&&!e)return t;t=e}return null}var Tr=class{get rootNodes(){let e=this._lView,n=e[$];return Ac(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Be];if(fn(e)){let n=e[_c],r=n?n.indexOf(this):-1;r>-1&&(bc(e,r),mc(n,r))}this._attachedToViewContainer=!1}hf(this._lView[$],this._lView)}onDestroy(e){X_(this._lView,e)}markForCheck(){_f(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){hh(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,ow(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,FI(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,hh(this._lView)}},If=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EM;let t=e;return t})(),IM=If,wM=class extends IM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=nw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Tr(i)}};function EM(){return DM(at(),ue())}function DM(t,e){return t.type&4?new wM(e,t,Hc(t,e)):null}var c4=new RegExp(`^(\\d+)*(${eR}|${XA})*(.*)`);var CM=()=>null;function Th(t,e){return CM(t,e)}var bh=class{},Sh=class{},Rc=class{};function TM(t){let e=Error(`No component factory found for ${Ke(t)}.`);return e[bM]=t,e}var bM="ngComponent";var Ah=class{resolveComponentFactory(e){throw TM(e)}},Qc=(()=>{let e=class e{};e.NULL=new Ah;let t=e;return t})(),zs=class{},Ar=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>SM();let t=e;return t})();function SM(){let t=ue(),e=at(),n=jn(e.index,t);return(yr(n)?n:t)[Oe]}var AM=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jd={};var u_=new Set;function wf(t){u_.has(t)||(u_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function l_(...t){}function RM(){let t=typeof mr.requestAnimationFrame=="function",e=mr[t?"requestAnimationFrame":"setTimeout"],n=mr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ne=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=RM().nativeRequestAnimationFrame,xM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,MM,l_,l_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},MM={};function Ef(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function NM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rh(t),t.isCheckStableRunning=!0,Ef(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rh(t))}function xM(t){let e=()=>{NM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(PM(a))return n.invokeTask(i,s,o,a);try{return d_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),h_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return d_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),h_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Rh(t),Ef(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Rh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function d_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function h_(t){t._nesting--,Ef(t)}function PM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var lw=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Mh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=jv(i,a);else if(s==2){let c=a,u=e[++o];r=jv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Mc=class extends Qc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_r(e);return new Gs(n,this.ngModule)}};function f_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function OM(t){let e=t.toLowerCase();return e==="svg"?iA:e==="math"?sA:null}var Nh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fc(r);let i=this.injector.get(e,Jd,r);return i!==Jd||n===Jd?i:this.parentInjector.get(e,n,r)}},Gs=class extends Rc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=f_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return f_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=J(null);try{i=i||this.ngModule;let o=i instanceof _t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Nh(e,o):e,c=a.get(zs,null);if(c===null)throw new A(407,!1);let u=a.get(AM,null),l=a.get(lw,null),d=a.get(bh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",I=r?OR(p,r,this.componentDef.encapsulation,a):kI(p,m,OM(m)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let R=null;I!==null&&(R=uf(I,a,!0));let oe=mf(0,null,null,1,0,null,null,null,null,null,null),re=Gc(null,oe,null,b,null,null,h,p,a,null,R);Zh(re);let pe,gt;try{let we=this.componentDef,mt,oi=null;we.findHostDirectiveDefs?(mt=[],oi=new Map,we.findHostDirectiveDefs(we,mt,oi),mt.push(we)):mt=[we];let dr=kM(re,I),ai=FM(dr,I,we,mt,re,h,p);gt=Qh(oe,zt),I&&UM(p,we,I,r),n!==void 0&&jM(gt,this.ngContentSelectors,n),pe=VM(ai,we,mt,oi,re,[BM]),vf(oe,re,null)}finally{Xh()}return new xh(this.componentType,pe,Hc(gt,re),re,gt)}finally{J(s)}}},xh=class extends Sh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Tr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;yf(s[$],s,i,e,n),this.previousInputValues.set(e,n);let o=jn(this._tNode.index,s);_f(o)}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kM(t,e){let n=t[$],r=zt;return t[r]=e,Wc(n,r,2,"#host",null)}function FM(t,e,n,r,i,s,o){let a=i[$];LM(r,t,e,o);let c=null;e!==null&&(c=uf(e,i[Ni]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Gc(i,QI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&wh(a,t,r.length-1),Kc(i,d),i[t.index]=d}function LM(t,e,n,r){for(let i of t)e.mergedAttrs=Us(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mh(e,e.mergedAttrs,!0),n!==null&&BI(r,n,e))}function VM(t,e,n,r,i,s){let o=at(),a=i[$],c=wt(o,i);JI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Pi(i,a,d,o);Cr(h,i)}ZI(a,i,o),c&&Cr(c,i);let u=Pi(i,a,o.directiveStart+o.componentOffset,o);if(t[It]=i[It]=u,s!==null)for(let l of s)l(u,e);return GI(a,o,i),u}function UM(t,e,n,r){if(r)ah(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=VS(e.selectors[0]);i&&ah(t,n,i),s&&s.length>0&&jI(t,n,s.join(" "))}}function jM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function BM(){let t=at();nf(ue()[$],t)}var ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$M;let t=e;return t})();function $M(){let t=at();return qM(t,ue())}var HM=ro,dw=class extends HM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=rf(this._hostTNode,this._hostLView);if(hI(e)){let n=Dc(e,this._hostLView),r=Ec(e),i=n[$].data[r+8];return new vr(i,n)}else return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=p_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Th(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Dh(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!XS(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new Gs(_r(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let I=(o?u:this.parentInjector).get(_t,null);I&&(s=I)}let l=_r(c.componentType??{}),d=Th(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,Dh(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(cA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Be],u=new dw(c,c[Pt],c[Be]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return rw(o,i,s,r),e.attachToViewContainerRef(),A_(Zd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=p_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bc(this._lContainer,n);r&&(mc(Zd(this._lContainer),n),hf(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=bc(this._lContainer,n);return r&&mc(Zd(this._lContainer),n)!=null?new Tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function p_(t){return t[_c]}function Zd(t){return t[_c]||(t[_c]=[])}function qM(t,e){let n,r=e[t.index];return fn(r)?n=r:(n=XI(r,e,null,t),e[t.index]=n,Kc(e,n)),GM(n,e,t,r),new dw(n,t,e)}function zM(t,e){let n=t[Oe],r=n.createComment(""),i=wt(e,t),s=ff(n,i);return Sc(n,s,r,ER(n,i),!1),r}var GM=QM,WM=()=>!1;function KM(t,e,n){return WM(t,e,n)}function QM(t,e,n,r){if(t[wr])return;let i;n.type&8?i=Gt(r):i=zM(e,n),t[wr]=i}function YM(t){return Object.getPrototypeOf(t.prototype).constructor}function Hn(t){let e=YM(t.type),n=!0,r=[t];for(;e;){let i;if(Ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ac(t.inputs),o.inputTransforms=ac(t.inputTransforms),o.declaredInputs=ac(t.declaredInputs),o.outputs=ac(t.outputs);let a=i.hostBindings;a&&tN(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&XM(t,c),u&&eN(t,u),JM(t,i),iS(t.outputs,i.outputs),Ln(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Hn&&(n=!1)}}e=Object.getPrototypeOf(e)}ZM(r)}function JM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ZM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Us(i.hostAttrs,n=Us(n,i.hostAttrs))}}function ac(t){return t===Ai?{}:t===vt?[]:t}function XM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function eN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function tN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Df(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Vn=class{},Ws=class{};var Ph=class extends Vn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mc(this);let i=L_(e);this._bootstrapComponents=OI(i.bootstrap),this._r3Injector=wI(e,n,[{provide:Vn,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver},...r],Ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Oh=class extends Ws{constructor(e){super(),this.moduleType=e}create(e){return new Ph(this.moduleType,e,[])}};var Nc=class extends Vn{constructor(e){super(),this.componentFactoryResolver=new Mc(this),this.instance=null;let n=new js([...e.providers,{provide:Vn,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cf(t,e,n=null){return new Nc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Yc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function io(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function nN(t){return(t.flags&32)===32}function rN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Wc(e,t,4,o||null,wc(u,a));YI(e,n,l,wc(u,c)),nf(e,l);let d=l.tView=mf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Rr(t,e,n,r,i,s,o,a){let c=ue(),u=Ot(),l=t+zt,d=u.firstCreatePass?rN(l,u,c,e,n,r,i,s,o):u.data[l];eo(d,!1);let h=iN(u,c,d,t);ef()&&pf(u,c,h,d),Cr(h,c);let p=XI(h,c,h,d);return c[l]=p,Kc(c,p),KM(p,d,c),Kh(d)&&WI(u,c,d),o!=null&&KI(c,d,a),Rr}var iN=sN;function sN(t,e,n,r){return tf(!0),e[Oe].createComment("")}function Jc(t,e,n,r){let i=ue(),s=$c();if(io(i,s,e)){let o=Ot(),a=uI();ZR(a,i,t,e,n,r)}return Jc}function oN(t,e,n,r){return io(t,$c(),n)?e+kc(n)+r:Vi}function cc(t,e){return t<<17|e<<2}function br(t){return t>>17&32767}function aN(t){return(t&2)==2}function cN(t,e){return t&131071|e<<17}function kh(t){return t|2}function Oi(t){return(t&131068)>>2}function Xd(t,e){return t&-131069|e<<2}function uN(t){return(t&1)===1}function Fh(t){return t|1}function lN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=br(o),c=Oi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ys(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=br(t[a+1]);t[r+1]=cc(h,a),h!==0&&(t[h+1]=Xd(t[h+1],r)),t[a+1]=cN(t[a+1],r)}else t[r+1]=cc(a,0),a!==0&&(t[a+1]=Xd(t[a+1],r)),a=r;else t[r+1]=cc(c,0),a===0?a=r:t[c+1]=Xd(t[c+1],r),c=r;u&&(t[r+1]=kh(t[r+1])),g_(t,l,r,!0),g_(t,l,r,!1),dN(e,l,t,r,s),o=cc(a,c),s?e.classBindings=o:e.styleBindings=o}function dN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ys(s,e)>=0&&(n[r+1]=Fh(n[r+1]))}function g_(t,e,n,r){let i=t[n+1],s=e===null,o=r?br(i):Oi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];hN(c,e)&&(a=!0,t[o+1]=r?Fh(u):kh(u)),o=r?br(u):Oi(u)}a&&(t[n+1]=r?kh(i):Fh(i))}function hN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ys(t,e)>=0:!1}function pn(t,e,n){let r=ue(),i=$c();if(io(r,i,e)){let s=Ot(),o=uI();jR(s,o,r,t,e,r[Oe],n,!1)}return pn}function m_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";yf(t,n,s[o],o,r)}function Zc(t,e){return fN(t,e,null,!0),Zc}function fN(t,e,n,r){let i=ue(),s=Ot(),o=wA(2);if(s.firstUpdatePass&&gN(s,t,o,r),e!==Vi&&io(i,o,e)){let a=s.data[Li()];IN(s,a,i,i[Oe],t,i[o+1]=wN(e,n),r,o)}}function pN(t,e){return e>=t.expandoStartIndex}function gN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Li()],o=pN(t,n);EN(s,r)&&e===null&&!o&&(e=!1),e=mN(i,s,e,r),lN(i,s,e,n,o,r)}}function mN(t,e,n,r){let i=TA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=eh(null,t,e,n,r),n=Ks(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=eh(i,t,e,n,r),s===null){let c=yN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=eh(null,t,e,c[1],r),c=Ks(c,e.attrs,r),vN(t,e,r,c))}else s=_N(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function yN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Oi(r)!==0)return t[br(r)]}function vN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[br(i)]=r}function _N(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ks(r,o,n)}return Ks(r,e.attrs,n)}function eh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ks(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ks(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),TS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function IN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=uN(u)?y_(c,e,n,i,Oi(u),o):void 0;if(!xc(l)){xc(s)||aN(u)&&(s=y_(c,null,n,i,a,o));let d=J_(Li(),n);RR(r,o,d,i,s)}}function y_(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Vi&&(h=d?vt:void 0);let p=d?Hd(h,r):l===r?h:void 0;if(u&&!xc(p)&&(p=Hd(c,r)),xc(p)&&(a=p,o))return a;let m=t[i+1];i=o?br(m):Oi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Hd(c,r))}return a}function xc(t){return t!==void 0}function wN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ke(no(t)))),t}function EN(t,e){return(t.flags&(e?8:16))!==0}function so(t,e,n){wf("NgControlFlow");let r=ue(),i=$c(),s=DN(r,zt+t),o=0;if(io(r,i,e)){let a=J(null);try{if(uM(s,o),e!==-1){let c=CN(r[$],zt+e),u=Th(s,c.tView.ssrId),l=nw(r,c,n,{dehydratedView:u});rw(s,l,o,Dh(c,u))}}finally{J(a)}}else{let a=cM(s,o);a!==void 0&&(a[It]=n)}}function DN(t,e){return t[e]}function CN(t,e){return Qh(t,e)}function TN(t,e,n,r,i,s){let o=e.consts,a=wc(o,i),c=Wc(e,t,2,r,a);return YI(e,n,c,wc(o,s)),c.attrs!==null&&Mh(c,c.attrs,!1),c.mergedAttrs!==null&&Mh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _(t,e,n,r){let i=ue(),s=Ot(),o=zt+t,a=i[Oe],c=s.firstCreatePass?TN(o,s,i,e,n,r):s.data[o],u=bN(s,i,c,a,e,t);i[o]=u;let l=Kh(c);return eo(c,!0),BI(a,u,c),!nN(c)&&ef()&&pf(s,i,u,c),hA()===0&&Cr(u,i),fA(),l&&(WI(s,i,c),GI(s,c,i)),r!==null&&KI(i,c),_}function D(){let t=at();nI()?_A():(t=t.parent,eo(t,!1));let e=t;mA(e)&&yA(),pA();let n=Ot();return n.firstCreatePass&&(nf(n,t),G_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&xA(e)&&m_(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PA(e)&&m_(n,e,ue(),e.stylesWithoutHost,!1),D}function Z(t,e,n,r){return _(t,e,n,r),D(),Z}var bN=(t,e,n,r,i,s)=>(tf(!0),kI(r,i,AA()));function hw(){return ue()}var Pc="en-US";var SN=Pc;function AN(t){typeof t=="string"&&(SN=t.toLowerCase().replace(/_/g,"-"))}function Qe(t,e,n,r){let i=ue(),s=Ot(),o=at();return MN(s,i,i[Oe],o,t,e,r),Qe}function RN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Bs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function MN(t,e,n,r,i,s,o){let a=Kh(r),u=t.firstCreatePass&&rM(t),l=e[It],d=nM(e),h=!0;if(r.type&3||o){let I=wt(r,e),b=o?o(I):I,R=d.length,oe=o?pe=>o(Gt(pe[r.index])):r.index,re=null;if(!o&&a&&(re=RN(t,e,i,r.index)),re!==null){let pe=re.__ngLastListenerFn__||re;pe.__ngNextListenerFn__=s,re.__ngLastListenerFn__=s,h=!1}else{s=__(r,e,l,s,!1);let pe=n.listen(b,i,s);d.push(s,pe),u&&u.push(i,oe,R,R+1)}}else s=__(r,e,l,s,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let I=m.length;if(I)for(let b=0;b<I;b+=2){let R=m[b],oe=m[b+1],gt=e[R][oe].subscribe(s),we=d.length;d.push(s,gt),u&&u.push(i,r.index,we,-(we+1))}}}function v_(t,e,n,r){let i=J(null);try{return Bt(6,e,n),n(r)!==!1}catch(s){return tw(t,s),!1}finally{Bt(7,e,n),J(i)}}function __(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?jn(t.index,e):e;_f(a);let c=v_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=v_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Ui(t=1){return SA(t)}function C(t,e=""){let n=ue(),r=Ot(),i=t+zt,s=r.firstCreatePass?Wc(r,i,1,e,null):r.data[i],o=NN(r,n,s,e,t);n[i]=o,ef()&&pf(r,n,o,s),eo(s,!1)}var NN=(t,e,n,r,i)=>(tf(!0),lR(e[Oe],r));function Tf(t,e,n){let r=ue(),i=oN(r,t,e,n);return i!==Vi&&iM(r,Li(),i),Tf}function xN(t,e,n){let r=Ot();if(r.firstCreatePass){let i=Ln(t);Lh(n,r.data,r.blueprint,i,!0),Lh(e,r.data,r.blueprint,i,!1)}}function Lh(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lh(t[s],e,n,r,i);else{let s=Ot(),o=ue(),a=at(),c=Mi(t)?t:We(t.provide),u=H_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Mi(t)||!t.multi){let p=new Dr(u,i,O),m=nh(c,e,i?l:l+h,d);m===-1?(gh(Cc(a,o),s,c),th(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=nh(c,e,l+h,d),m=nh(c,e,l,l+h),I=p>=0&&n[p],b=m>=0&&n[m];if(i&&!b||!i&&!I){gh(Cc(a,o),s,c);let R=kN(i?ON:PN,n.length,i,r,u);!i&&b&&(n[m].providerFactory=R),th(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),o.push(R)}else{let R=fw(n[i?m:p],u,!i&&r);th(s,t,p>-1?p:m,R)}!i&&r&&b&&n[m].componentProviders++}}}function th(t,e,n,r){let i=Mi(e),s=zS(e);if(i||s){let c=(s?We(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function fw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function nh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function PN(t,e,n,r){return Vh(this.multi,[])}function ON(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Pi(n,n[$],this.providerFactory.index,r);s=a.slice(0,o),Vh(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Vh(i,s);return s}function Vh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kN(t,e,n,r,i){let s=new Dr(t,n,O);return s.multi=[],s.index=e,s.componentProviders=0,fw(s,i,r&&!n),s}function Xc(t,e=[]){return n=>{n.providersResolver=(r,i)=>xN(r,i?i(t):t,e)}}var FN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=j_(!1,r.type),s=i.length>0?Cf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(U(_t))});let t=e;return t})();function ye(t){wf("NgStandalone"),t.getStandaloneInjector=e=>e.get(FN).getOrCreateStandaloneInjector(t)}var dn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pw=new dn("17.3.5"),eu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gw=new N("");function Mr(t){return!!t&&typeof t.then=="function"}function mw(t){return!!t&&typeof t.subscribe=="function"}var yw=new N(""),vw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(yw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Mr(o))r.push(o);else if(mw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bf=new N("");function LN(){gv(()=>{throw new A(600,!1)})}function VN(t){return t.isBoundToModule}function UN(t,e,n){try{let r=n();return Mr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var oo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(EI),this.afterRenderEffectManager=E(lw),this.externalTestViews=new Set,this.beforeRender=new Ve,this.afterTick=new Ve,this.componentTypes=[],this.components=[],this.isStable=E(Yc).hasPendingTasks.pipe(q(r=>!r)),this._injector=E(_t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Rc;if(!this._injector.get(vw).done){let p=!s&&F_(r),m=!1;throw new A(405,m)}let a;s?a=r:a=this._injector.get(Qc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=VN(a)?void 0:this._injector.get(Vn),u=i||a.selector,l=a.create(Et.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(gw,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),rh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new A(101,!1);let i=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,J(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===sw)throw new A(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)jN(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Uh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Uh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;rh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(bf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jN(t,e,n){!e&&!Uh(t)||BN(t,n,e)}function Uh(t){return Jh(t)}function BN(t,e,n){let r;n?(r=0,t[P]|=1024):t[P]&64?r=0:r=1,ow(t,e,r)}var jh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Sf=(()=>{let e=class e{compileModuleSync(r){return new Oh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=L_(r),o=OI(s.declarations).reduce((a,c)=>{let u=_r(c);return u&&a.push(new Gs(u)),a},[]);return new jh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $N=(()=>{let e=class e{constructor(){this.zone=E(ne),this.applicationRef=E(oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HN(t){return[{provide:ne,useFactory:t},{provide:Ri,multi:!0,useFactory:()=>{let e=E($N,{optional:!0});return()=>e.initialize()}},{provide:Ri,multi:!0,useFactory:()=>{let e=E(WN);return()=>{e.initialize()}}},{provide:EI,useFactory:qN}]}function qN(){let t=E(ne),e=E(un);return n=>t.runOutsideAngular(()=>e.handleError(n))}function zN(t){let e=HN(()=>new ne(GN(t)));return Lc([[],e])}function GN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var WN=(()=>{let e=class e{constructor(){this.subscription=new de,this.initialized=!1,this.zone=E(ne),this.pendingTasks=E(Yc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KN(){return typeof $localize<"u"&&$localize.locale||Pc}var Af=new N("",{providedIn:"root",factory:()=>E(Af,j.Optional|j.SkipSelf)||KN()});var _w=new N("");var fc=null;function QN(t=[],e){return Et.create({name:e,providers:[{provide:Vc,useValue:"platform"},{provide:_w,useValue:new Set([()=>fc=null])},...t]})}function YN(t=[]){if(fc)return fc;let e=QN(t);return fc=e,LN(),JN(e),e}function JN(t){t.get(af,null)?.forEach(n=>n())}var ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZN;let t=e;return t})();function ZN(t){return XN(at(),ue(),(t&16)===16)}function XN(t,e,n){if(Bc(t)&&!n){let r=jn(t.index,e);return new Tr(r,r)}else if(t.type&47){let r=e[qt];return new Tr(r,e)}return null}function Iw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=YN(r),s=[zN(),...n||[]],a=new Nc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ne);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(un,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(_w);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),UN(u,c,()=>{let p=a.get(vw);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(Af,Pc);AN(m||Pc);let I=a.get(oo);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function Bi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Cw=null;function gn(){return Cw}function Tw(t){Cw??=t}var tu=class{};var Dt=new N(""),bw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(ex),providedIn:"platform"});let t=e;return t})();var ex=(()=>{let e=class e extends bw{constructor(){super(),this._doc=E(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Sw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ww(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Nr(t){return t&&t[0]!=="?"?"?"+t:t}var $i=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(Aw),providedIn:"root"});let t=e;return t})(),tx=new N(""),Aw=(()=>{let e=class e extends $i{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Sw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Nr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Nr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Nr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(bw),U(tx,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ao=(()=>{let e=class e{constructor(r){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ix(ww(Ew(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Nr(i))}normalize(r){return e.stripTrailingSlash(rx(this._basePath,Ew(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Nr,e.joinWithSlash=Sw,e.stripTrailingSlash=ww,e.\u0275fac=function(i){return new(i||e)(U($i))},e.\u0275prov=x({token:e,factory:()=>nx(),providedIn:"root"});let t=e;return t})();function nx(){return new ao(U($i))}function rx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ew(t){return t.replace(/\/index.html$/,"")}function ix(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Rw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Mw=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Rf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Dw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Dw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(O(ro),O(If))},e.\u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Rf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Dw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ke(e)}'.`)}var co=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=Xe({});let t=e;return t})(),Nw="browser",sx="server";function Mf(t){return t===sx}var nu=class{};var Pf=class extends tu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Of=class t extends Pf{static makeCurrent(){Tw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ox();return n==null?null:ax(n)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rw(document.cookie,e)}},uo=null;function ox(){return uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null}function ax(t){return new URL(t,document.baseURI).pathname}var cx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),kf=new N(""),Fw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(U(kf),U(ne))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=class{constructor(e){this._doc=e}},Nf="ng-app-id",Lw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Nf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Nf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Nf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(U(Dt),U(of),U(cf,8),U($n))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lf=/%COMP%/g,Vw="%COMP%",ux=`_nghost-${Vw}`,lx=`_ngcontent-${Vw}`,dx=!0,hx=new N("",{providedIn:"root",factory:()=>dx});function fx(t){return lx.replace(Lf,t)}function px(t){return ux.replace(Lf,t)}function Uw(t,e){return e.map(n=>n.replace(Lf,t))}var Pw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Mf(c),this.defaultRenderer=new lo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ht.ShadowDom&&(i=ee(w({},i),{encapsulation:Ht.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof iu?s.applyToHost(r):s instanceof ho&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ht.Emulated:o=new iu(u,l,i,this.appId,d,a,c,h);break;case Ht.ShadowDom:return new Ff(u,l,r,i,a,c,this.nonce,h);default:o=new ho(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(U(Fw),U(Lw),U(of),U(hx),U(Dt),U($n),U(ne),U(cf))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),lo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ow(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ow(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=xf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=xf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(n,r,i&ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ow(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ff=class extends lo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Uw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ho=class extends lo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Uw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},iu=class extends ho{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=fx(u),this.hostAttr=px(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},gx=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(U(Dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),kw=["alt","control","meta","shift"],mx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vx=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),kw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=mx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),kw.forEach(a=>{if(a!==s){let c=yx[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(U(Dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function jw(t,e){return Iw(w({rootComponent:t},_x(e)))}function _x(t){return{appProviders:[...Cx,...t?.providers??[]],platformProviders:Dx}}function Ix(){Of.makeCurrent()}function wx(){return new un}function Ex(){return RI(document),document}var Dx=[{provide:$n,useValue:Nw},{provide:af,useValue:Ix,multi:!0},{provide:Dt,useFactory:Ex,deps:[]}];var Cx=[{provide:Vc,useValue:"root"},{provide:un,useFactory:wx,deps:[]},{provide:kf,useClass:gx,multi:!0,deps:[Dt,ne,$n]},{provide:kf,useClass:vx,multi:!0,deps:[Dt]},Pw,Lw,Fw,{provide:zs,useExisting:Pw},{provide:nu,useClass:cx,deps:[]},[]];var Bw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(U(Dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var V="primary",So=Symbol("RouteTitle"),$f=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wi(t){return new $f(t)}function bx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?Hf(t):void 0,r=e?Hf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ww(t[i],e[i]))return!1;return!0}function Hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ww(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Kw(t){return t.length>0?t[t.length-1]:null}function Wn(t){return kd(t)?t:Mr(t)?he(Promise.resolve(t)):L(t)}var Ax={exact:Yw,subset:Jw},Qw={exact:Rx,subset:Mx,ignored:()=>!0};function $w(t,e,n){return Ax[n.paths](t.root,e.root,n.matrixParams)&&Qw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Rx(t,e){return Wt(t,e)}function Yw(t,e,n){if(!Pr(t.segments,e.segments)||!au(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Yw(t.children[r],e.children[r],n))return!1;return!0}function Mx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ww(t[n],e[n]))}function Jw(t,e,n){return Zw(t,e,e.segments,n)}function Zw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Pr(i,n)||e.hasChildren()||!au(i,n,r))}else if(t.segments.length===n.length){if(!Pr(t.segments,n)||!au(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Jw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Pr(t.segments,i)||!au(t.segments,i,r)||!t.children[V]?!1:Zw(t.children[V],e,s,r)}}function au(t,e,n){return e.every((r,i)=>Qw[n](t[i].parameters,r.parameters))}var qn=class{constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return Px.serialize(this)}},X=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}},xr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return eE(this)}};function Nx(t,e){return Pr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function Pr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new lu,providedIn:"root"});let t=e;return t})(),lu=class{parse(e){let n=new zf(e);return new qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fo(e.root,!0)}`,r=Fx(e.queryParams),i=typeof e.fragment=="string"?`#${Ox(e.fragment)}`:"";return`${n}${r}${i}`}},Px=new lu;function cu(t){return t.segments.map(e=>eE(e)).join("/")}function fo(t,e){if(!t.hasChildren())return cu(t);if(e){let n=t.children[V]?fo(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==V&&r.push(`${i}:${fo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xx(t,(r,i)=>i===V?[fo(t.children[V],!1)]:[`${i}:${fo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${cu(t)}/${n[0]}`:`${cu(t)}/(${n.join("//")})`}}function Xw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(t){return Xw(t).replace(/%3B/gi,";")}function Ox(t){return encodeURI(t)}function qf(t){return Xw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uu(t){return decodeURIComponent(t)}function Hw(t){return uu(t.replace(/\+/g,"%20"))}function eE(t){return`${qf(t.path)}${kx(t.parameters)}`}function kx(t){return Object.entries(t).map(([e,n])=>`;${qf(e)}=${qf(n)}`).join("")}function Fx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${su(n)}=${su(i)}`).join("&"):`${su(n)}=${su(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Lx=/^[^\/()?;#]+/;function Vf(t){let e=t.match(Lx);return e?e[0]:""}var Vx=/^[^\/()?;=#]+/;function Ux(t){let e=t.match(Vx);return e?e[0]:""}var jx=/^[^=?&#]+/;function Bx(t){let e=t.match(jx);return e?e[0]:""}var $x=/^[^&#]+/;function Hx(t){let e=t.match($x);return e?e[0]:""}var zf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new X(e,n)),r}parseSegment(){let e=Vf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new xr(uu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Ux(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vf(this.remaining);i&&(r=i,this.capture(r))}e[uu(n)]=uu(r)}parseQueryParam(e){let n=Bx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Hx(this.remaining);o&&(r=o,this.capture(r))}let i=Hw(n),s=Hw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=V);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[V]:new X([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function tE(t){return t.segments.length>0?new X([],{[V]:t}):t}function nE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=nE(i);if(r===V&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new X(t.segments,e);return qx(n)}function qx(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new X(t.segments.concat(e.segments),e.children)}return t}function Ki(t){return t instanceof qn}function zx(t,e,n=null,r=null){let i=rE(t);return iE(i,e,n,r)}function rE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new X(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=tE(r);return e??i}function iE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Uf(i,i,i,n,r);let s=Gx(e);if(s.toRoot())return Uf(i,i,new X([],{}),n,r);let o=Wx(s,i,t),a=o.processChildren?mo(o.segmentGroup,o.index,s.commands):oE(o.segmentGroup,o.index,s.commands);return Uf(i,o.segmentGroup,a,n,r)}function du(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function _o(t){return typeof t=="object"&&t!=null&&t.outlets}function Uf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=sE(t,e,n);let a=tE(nE(o));return new qn(a,s,i)}function sE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=sE(s,e,n)}),new X(t.segments,r)}var hu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&du(r[0]))throw new A(4003,!1);let i=r.find(_o);if(i&&i!==Kw(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Gx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hu(n,e,r)}var zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Wx(t,e,n){if(t.isAbsolute)return new zi(e,!0,0);if(!n)return new zi(e,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=du(t.commands[0])?0:1,i=n.segments.length-1+r;return Kx(n,i,t.numberOfDoubleDots)}function Kx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new zi(r,!1,i-s)}function Qx(t){return _o(t[0])?t[0].outlets:{[V]:t}}function oE(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return mo(t,e,n);let r=Yx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new X(t.segments.slice(0,r.pathIndex),{});return s.children[V]=new X(t.segments.slice(r.pathIndex),t.children),mo(s,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?Gf(t,e,n):r.match?mo(t,0,i):Gf(t,e,n)}function mo(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=Qx(n),i={};if(Object.keys(r).some(s=>s!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let s=mo(t.children[V],e,n);return new X(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=oE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new X(t.segments,i)}}function Yx(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(_o(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!zw(c,u,o))return s;r+=2}else{if(!zw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(_o(s)){let c=Jx(s.outlets);return new X(r,c)}if(i===0&&du(n[0])){let c=t.segments[e];r.push(new xr(c.path,qw(n[0]))),i++;continue}let o=_o(s)?s.outlets[V]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&du(a)?(r.push(new xr(o,qw(a))),i+=2):(r.push(new xr(o,{})),i++)}return new X(r,{})}function Jx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gf(new X([],{}),0,r))}),e}function qw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zw(t,e,n){return t==n.path&&Wt(e,n.parameters)}var yo="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},Io=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ut||{}),Wf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wf||{}),Gn=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Or=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationSkipped}},wo=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fu=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qf=class extends Ct{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xf=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ep=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tp=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Eo=class{},Do=class{constructor(e){this.url=e}};var ip=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _u,this.attachRef=null}},_u=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ip,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=sp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=sp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=op(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return op(e,this._root).map(n=>n.value)}};function sp(t,e){if(t===e.value)return e;for(let n of e.children){let r=sp(t,n);if(r)return r}return null}function op(t,e){if(t===e.value)return[e];for(let n of e.children){let r=op(t,n);if(r.length)return r.unshift(e),r}return[]}var ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gu=class extends pu{constructor(e,n){super(e),this.snapshot=n,yp(this,e)}toString(){return this.snapshot.toString()}};function aE(t){let e=Zx(t),n=new Pe([new xr("",{})]),r=new Pe({}),i=new Pe({}),s=new Pe({}),o=new Pe(""),a=new kr(n,r,s,o,i,V,t,e.root);return a.snapshot=e.root,new gu(new ct(a,[]),e)}function Zx(t){let e={},n={},r={},i="",s=new Co([],e,r,i,n,V,t,null,{});return new mu("",new ct(s,[]))}var kr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(q(u=>u[So]))??L(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(e=>Wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(e=>Wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&uE(i)&&(r.resolve[So]=i.title),r}var Co=class{get title(){return this.data?.[So]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mu=class extends pu{constructor(e,n){super(n),this.url=e,yp(this,n)}toString(){return cE(this._root)}};function yp(t,e){e.value._routerState=t,e.children.forEach(n=>yp(t,n))}function cE(t){let e=t.children.length>0?` { ${t.children.map(cE).join(", ")} } `:"";return`${t.value}${e}`}function jf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),Sx(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ap(t,e){let n=Wt(t.params,e.params)&&Nx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ap(t.parent,e.parent))}function uE(t){return typeof t.title=="string"||t.title===null}var vp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=E(_u),this.location=E(ro),this.changeDetector=E(ji),this.environmentInjector=E(_t),this.inputBinder=E(_p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new cp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]});let t=e;return t})(),cp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===kr?this.route:e===_u?this.childContexts:this.parent.get(e,n)}},_p=new N("");function Xx(t,e,n){let r=To(t,e._root,n?n._root:void 0);return new gu(r,e)}function To(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=eP(t,e,n);return new ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>To(t,a)),o}}let r=tP(e.value),i=e.children.map(s=>To(t,s));return new ct(r,i)}}function eP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return To(t,r,i);return To(t,r)})}function tP(t){return new kr(new Pe(t.url),new Pe(t.params),new Pe(t.queryParams),new Pe(t.fragment),new Pe(t.data),t.outlet,t.component,t)}var lE="ngNavigationCancelingError";function dE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hE(!1,ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function hE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[lE]=!0,n.cancellationCode=e,n}function nP(t){return fE(t)&&Ki(t.url)}function fE(t){return!!t&&t[lE]}var rP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=me({type:e,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(i,s){i&1&&Z(0,"router-outlet")},dependencies:[vp],encapsulation:2});let t=e;return t})();function iP(t,e){return t.providers&&!t._injector&&(t._injector=Cf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ip(t){let e=t.children&&t.children.map(Ip),n=e?ee(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=rP),n}function Kt(t){return t.outlet||V}function sP(t,e){let n=t.filter(r=>Kt(r)===e);return n.push(...t.filter(r=>Kt(r)!==e)),n}function Ao(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var oP=(t,e,n,r)=>q(i=>(new up(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),up=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new rp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(jf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ao(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},yu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gi=class{constructor(e,n){this.component=e,this.route=n}};function aP(t,e,n){let r=t._root,i=e?e._root:null;return po(r,i,n,[r.value])}function cP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!E_(t)?t:e.get(t):r}function po(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=qi(e);return t.children.forEach(o=>{uP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>vo(a,n.getContext(o),i)),i}function uP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=lP(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?po(t,e,a?a.children:null,r,i):po(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gi(a.outlet.component,o))}else o&&vo(e,a,i),i.canActivateChecks.push(new yu(r)),s.component?po(t,null,a?a.children:null,r,i):po(t,null,n,r,i);return i}function lP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Pr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ap(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!ap(t,e)}}function vo(t,e,n){let r=qi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?vo(o,e.children.getContext(s),n):vo(o,null,n):vo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gi(e.outlet.component,i)):n.canDeactivateChecks.push(new Gi(null,i)):n.canDeactivateChecks.push(new Gi(null,i))}function Ro(t){return typeof t=="function"}function dP(t){return typeof t=="boolean"}function hP(t){return t&&Ro(t.canLoad)}function fP(t){return t&&Ro(t.canActivate)}function pP(t){return t&&Ro(t.canActivateChild)}function gP(t){return t&&Ro(t.canDeactivate)}function mP(t){return t&&Ro(t.canMatch)}function pE(t){return t instanceof an||t?.name==="EmptyError"}var ou=Symbol("INITIAL_VALUE");function Qi(){return Rt(t=>nc(t.map(e=>e.pipe(cn(1),Bd(ou)))).pipe(q(e=>{for(let n of e)if(n!==!0){if(n===ou)return ou;if(n===!1||n instanceof qn)return n}return!0}),At(e=>e!==ou),cn(1)))}function yP(t,e){return Ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?L(ee(w({},n),{guardsResult:!0})):vP(o,r,i,t).pipe(Ee(a=>a&&dP(a)?_P(r,s,t,e):L(a)),q(a=>ee(w({},n),{guardsResult:a})))})}function vP(t,e,n,r){return he(t).pipe(Ee(i=>CP(i.component,i.route,n,e,r)),jt(i=>i!==!0,!0))}function _P(t,e,n,r){return he(e).pipe(Ii(i=>_i(wP(i.route.parent,r),IP(i.route,r),DP(t,i.path,n),EP(t,i.route,n))),jt(i=>i!==!0,!0))}function IP(t,e){return t!==null&&e&&e(new np(t)),L(!0)}function wP(t,e){return t!==null&&e&&e(new ep(t)),L(!0)}function EP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(s=>rc(()=>{let o=Ao(e)??n,a=Yi(s,o),c=fP(a)?a.canActivate(e,t):Sr(o,()=>a(e,t));return Wn(c).pipe(jt())}));return L(i).pipe(Qi())}function DP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>cP(o)).filter(o=>o!==null).map(o=>rc(()=>{let a=o.guards.map(c=>{let u=Ao(o.node)??n,l=Yi(c,u),d=pP(l)?l.canActivateChild(r,t):Sr(u,()=>l(r,t));return Wn(d).pipe(jt())});return L(a).pipe(Qi())}));return L(s).pipe(Qi())}function CP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return L(!0);let o=s.map(a=>{let c=Ao(e)??i,u=Yi(a,c),l=gP(u)?u.canDeactivate(t,e,n,r):Sr(c,()=>u(t,e,n,r));return Wn(l).pipe(jt())});return L(o).pipe(Qi())}function TP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return L(!0);let s=i.map(o=>{let a=Yi(o,t),c=hP(a)?a.canLoad(e,n):Sr(t,()=>a(e,n));return Wn(c)});return L(s).pipe(Qi(),gE(r))}function gE(t){return Sd(De(e=>{if(Ki(e))throw dE(t,e)}),q(e=>e===!0))}function bP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return L(!0);let s=i.map(o=>{let a=Yi(o,t),c=mP(a)?a.canMatch(e,n):Sr(t,()=>a(e,n));return Wn(c)});return L(s).pipe(Qi(),gE(r))}var bo=class{constructor(e){this.segmentGroup=e||null}},vu=class extends Error{constructor(e){super(),this.urlTree=e}};function Hi(t){return vi(new bo(t))}function SP(t){return vi(new A(4e3,!1))}function AP(t){return vi(hE(!1,ut.GuardRejected))}var lp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return L(r);if(i.numberOfChildren>1||!i.children[V])return SP(e.redirectTo);i=i.children[V]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new vu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new qn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new X(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RP(t,e,n,r,i){let s=wp(t,e,n);return s.matched?(r=iP(e,r),bP(r,e,n,i).pipe(q(o=>o===!0?s:w({},dp)))):L(s)}function wp(t,e,n){if(e.path==="**")return MP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},dp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||bx)(n,t,e);if(!i)return w({},dp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function MP(t){return{matched:!0,parameters:t.length>0?Kw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Gw(t,e,n,r){return n.length>0&&PP(t,n,r)?{segmentGroup:new X(e,xP(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&OP(t,n,r)?{segmentGroup:new X(t.segments,NP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function NP(t,e,n,r){let i={};for(let s of n)if(Iu(t,e,s)&&!r[Kt(s)]){let o=new X([],{});i[Kt(s)]=o}return w(w({},r),i)}function xP(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&Kt(r)!==V){let i=new X([],{});n[Kt(r)]=i}return n}function PP(t,e,n){return n.some(r=>Iu(t,e,r)&&Kt(r)!==V)}function OP(t,e,n){return n.some(r=>Iu(t,e,r))}function Iu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kP(t,e,n,r){return Kt(t)!==r&&(r===V||!Iu(e,n,t))?!1:wp(e,t,n).matched}function FP(t,e,n){return e.length===0&&!t.children[n]}var hp=class{};function LP(t,e,n,r,i,s,o="emptyOnly"){return new fp(t,e,n,r,i,o,s).recognize()}var VP=31,fp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new lp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=Gw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(n=>{let r=new Co([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new ct(r,n),s=new mu("",i),o=zx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,V).pipe(Pn(r=>{if(r instanceof vu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=mp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(q(s=>s instanceof ct?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return he(i).pipe(Ii(s=>{let o=r.children[s],a=sP(n,s);return this.processSegmentGroup(e,a,o,s)}),jd((s,o)=>(s.push(...o),s)),On(null),Ud(),Ee(s=>{if(s===null)return Hi(r);let o=mE(s);return UP(o),L(o)}))}processSegment(e,n,r,i,s,o){return he(n).pipe(Ii(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Pn(c=>{if(c instanceof bo)return L(null);throw c}))),jt(a=>!!a),Pn(a=>{if(pE(a))return FP(r,i,s)?L(new hp):Hi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return kP(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Hi(i):Hi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=wp(n,i,s);if(!a)return Hi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VP&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ee(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=RP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Rt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new Co(l,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,BP(r),Kt(r),r.component??r._loadedComponent??null,r,$P(r)),{segmentGroup:m,slicedSegments:I}=Gw(n,l,d,c);if(I.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(q(R=>R===null?null:new ct(p,R)));if(c.length===0&&I.length===0)return L(new ct(p,[]));let b=Kt(r)===s;return this.processSegment(u,c,m,I,b?V:s,!0).pipe(q(R=>new ct(p,R instanceof ct?[R]:[])))}))):Hi(n)))}getChildConfig(e,n,r){return n.children?L({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?L({routes:n._loadedRoutes,injector:n._loadedInjector}):TP(e,n,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(e,n).pipe(De(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):AP(n))):L({routes:[],injector:e})}};function UP(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function jP(t){let e=t.value.routeConfig;return e&&e.path===""}function mE(t){let e=[],n=new Set;for(let r of t){if(!jP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=mE(r.children);e.push(new ct(r.value,i))}return e.filter(r=>!n.has(r))}function BP(t){return t.data||{}}function $P(t){return t.resolve||{}}function HP(t,e,n,r,i,s){return Ee(o=>LP(t,e,n,r,o.extractedUrl,i,s).pipe(q(({state:a,tree:c})=>ee(w({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function qP(t,e){return Ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of yE(c))o.add(u);let a=0;return he(o).pipe(Ii(c=>s.has(c)?zP(c,r,t,e):(c.data=mp(c,c.parent,t).resolve,L(void 0))),De(()=>a++),wi(1),Ee(c=>a===o.size?L(n):st))})}function yE(t){let e=t.children.map(n=>yE(n)).flat();return[t,...e]}function zP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!uE(i)&&(s[So]=i.title),GP(s,t,e,r).pipe(q(o=>(t._resolvedData=o,t.data=mp(t,t.parent,n).resolve,null)))}function GP(t,e,n,r){let i=Hf(t);if(i.length===0)return L({});let s={};return he(i).pipe(Ee(o=>WP(t[o],e,n,r).pipe(jt(),De(a=>{s[o]=a}))),wi(1),Vd(s),Pn(o=>pE(o)?st:vi(o)))}function WP(t,e,n,r){let i=Ao(e)??r,s=Yi(t,i),o=s.resolve?s.resolve(e,n):Sr(i,()=>s(e,n));return Wn(o)}function Bf(t){return Rt(e=>{let n=t(e);return n?he(n).pipe(q(()=>e)):L(e)})}var vE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(r){return r.data[So]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(KP),providedIn:"root"});let t=e;return t})(),KP=(()=>{let e=class e extends vE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(U(Bw))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ep=new N("",{providedIn:"root",factory:()=>({})}),Dp=new N(""),QP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Sf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return L(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Wn(r.loadComponent()).pipe(q(_E),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Fs(()=>{this.componentLoaders.delete(r)})),s=new pi(i,()=>new Ve).pipe(fi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return L({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=YP(i,this.compiler,r,this.onLoadEndListener).pipe(Fs(()=>{this.childrenLoaders.delete(i)})),a=new pi(o,()=>new Ve).pipe(fi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YP(t,e,n,r){return Wn(t.loadChildren()).pipe(q(_E),Ee(i=>i instanceof Ws||Array.isArray(i)?L(i):he(e.compileModuleAsync(i))),q(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Dp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ip),injector:s}}))}function JP(t){return t&&typeof t=="object"&&"default"in t}function _E(t){return JP(t)?t.default:t}var Cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(ZP),providedIn:"root"});let t=e;return t})(),ZP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XP=new N("");var eO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ve,this.transitionAbortSubject=new Ve,this.configLoader=E(QP),this.environmentInjector=E(_t),this.urlSerializer=E(gp),this.rootContexts=E(_u),this.location=E(ao),this.inputBindingEnabled=E(_p,{optional:!0})!==null,this.titleStrategy=E(vE),this.options=E(Ep,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Cp),this.createViewTransition=E(XP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Zf(s)),i=s=>this.events.next(new Xf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Pe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),q(o=>ee(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Rt(o=>{let a=!1,c=!1;return L(o).pipe(Rt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),st;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ee(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Or(u.id,this.urlSerializer.serialize(u.rawUrl),h,Wf.IgnoredSameUrlNavigation)),u.resolve(null),st}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return L(u).pipe(Rt(h=>{let p=this.transitions?.getValue();return this.events.next(new Io(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?st:Promise.resolve(h)}),HP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),De(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ee(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new fu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:I,extras:b}=u,R=new Io(h,this.urlSerializer.serialize(p),m,I);this.events.next(R);let oe=aE(this.rootComponentType).snapshot;return this.currentTransition=o=ee(w({},u),{targetSnapshot:oe,urlAfterRedirects:p,extras:ee(w({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,L(o)}else{let h="";return this.events.next(new Or(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Wf.IgnoredByUrlHandlingStrategy)),u.resolve(null),st}}),De(u=>{let l=new Kf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),q(u=>(this.currentTransition=o=ee(w({},u),{guards:aP(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),yP(this.environmentInjector,u=>this.events.next(u)),De(u=>{if(o.guardsResult=u.guardsResult,Ki(u.guardsResult))throw dE(this.urlSerializer,u.guardsResult);let l=new Qf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),At(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ut.GuardRejected),!1)),Bf(u=>{if(u.guards.canActivateChecks.length)return L(u).pipe(De(l=>{let d=new Yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Rt(l=>{let d=!1;return L(l).pipe(qP(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ut.NoDataFromResolver)}}))}),De(l=>{let d=new Jf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Bf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(De(p=>{d.component=p}),q(()=>{})));for(let p of d.children)h.push(...l(p));return h};return nc(l(u.targetSnapshot.root)).pipe(On(null),cn(1))}),Bf(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?he(d).pipe(q(()=>o)):L(o)}),q(u=>{let l=Xx(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ee(w({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),De(()=>{this.events.next(new Eo)}),oP(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),cn(1),De({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),$d(this.transitionAbortSubject.pipe(De(u=>{throw u}))),Fs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pn(u=>{if(c=!0,fE(u))this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),nP(u)?this.events.next(new Do(u.url)):o.resolve(!1);else{this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return st}))}))}cancelNavigationTransition(r,i,s){let o=new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tO(t){return t!==yo}var nO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(rO),providedIn:"root"});let t=e;return t})(),pp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rO=(()=>{let e=class e extends pp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=to(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(iO),providedIn:"root"});let t=e;return t})(),iO=(()=>{let e=class e extends IE{constructor(){super(...arguments),this.location=E(ao),this.urlSerializer=E(gp),this.options=E(Ep,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Cp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=aE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Io)this.stateMemento=this.createStateMemento();else if(r instanceof Or)this.rawUrlTree=i.initialUrl;else if(r instanceof fu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Eo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Gn&&(r.code===ut.GuardRejected||r.code===ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof wo?this.restoreHistory(i,!0):r instanceof zn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=to(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),go=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(go||{});function sO(t,e){t.events.pipe(At(n=>n instanceof zn||n instanceof Gn||n instanceof wo||n instanceof Or),q(n=>n instanceof zn||n instanceof Or?go.COMPLETE:(n instanceof Gn?n.code===ut.Redirect||n.code===ut.SupersededByNewNavigation:!1)?go.REDIRECTING:go.FAILED),At(n=>n!==go.REDIRECTING),cn(1)).subscribe(()=>{e()})}function oO(t){throw t}var aO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(eu),this.stateManager=E(IE),this.options=E(Ep,{optional:!0})||{},this.pendingTasks=E(Yc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(eO),this.urlSerializer=E(gp),this.location=E(ao),this.urlHandlingStrategy=E(Cp),this._events=new Ve,this.errorHandler=this.options.errorHandler||oO,this.navigated=!1,this.routeReuseStrategy=E(nO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Dp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(_p,{optional:!0}),this.eventsSubscription=new de,this.isNgZoneEnabled=E(ne)instanceof ne&&ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Gn&&i.code!==ut.Redirect&&i.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof zn)this.navigated=!0;else if(i instanceof Do){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tO(s.source)};this.scheduleNavigation(a,yo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}lO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=w({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ip),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=rE(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return iE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ki(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,yo,null,i)}navigate(r,i={skipLocationChange:!1}){return uO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=w({},aO):i===!1?s=w({},cO):s=i,Ki(r))return $w(this.currentUrlTree,r,s);let o=this.parseUrl(r);return $w(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return sO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function lO(t){return!(t instanceof Eo)&&!(t instanceof Do)}var wu=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:xI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(O(lt),O(kr),sf("tabindex"),O(Ar),O(Bn),O($i))},e.\u0275dir=nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Qe("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Jc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[je.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Bi],skipLocationChange:[je.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Bi],replaceUrl:[je.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Bi],routerLink:"routerLink"},standalone:!0,features:[Df,Un]});let t=e;return t})();var dO=new N("");function wE(t,...e){return Lc([{provide:Dp,multi:!0,useValue:t},[],{provide:kr,useFactory:hO,deps:[lt]},{provide:bf,multi:!0,useFactory:fO},e.map(n=>n.\u0275providers)])}function hO(t){return t.routerState.root}function fO(){let t=E(Et);return e=>{let n=t.get(oo);if(e!==n.components[0])return;let r=t.get(lt),i=t.get(pO);t.get(gO)===1&&r.initialNavigation(),t.get(mO,null,j.Optional)?.setUpPreloading(),t.get(dO,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pO=new N("",{factory:()=>new Ve}),gO=new N("",{providedIn:"root",factory:()=>1});var mO=new N("");var ME=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(O(Ar),O(Bn))},e.\u0275dir=nt({type:e});let t=e;return t})(),yO=(()=>{let e=class e extends ME{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=to(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[Hn]});let t=e;return t})(),NE=new N("");var vO={provide:NE,useExisting:ki(()=>es),multi:!0};function _O(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var IO=new N(""),es=(()=>{let e=class e extends ME{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_O())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(O(Ar),O(Bn),O(IO,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Qe("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Xc([vO]),Hn]});let t=e;return t})();function Kn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function xE(t){return t!=null&&typeof t.length=="number"}var PE=new N(""),OE=new N(""),wO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mn=class{static min(e){return EO(e)}static max(e){return DO(e)}static required(e){return CO(e)}static requiredTrue(e){return TO(e)}static email(e){return bO(e)}static minLength(e){return SO(e)}static maxLength(e){return AO(e)}static pattern(e){return RO(e)}static nullValidator(e){return kE(e)}static compose(e){return BE(e)}static composeAsync(e){return HE(e)}};function EO(t){return e=>{if(Kn(e.value)||Kn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function DO(t){return e=>{if(Kn(e.value)||Kn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function CO(t){return Kn(t.value)?{required:!0}:null}function TO(t){return t.value===!0?null:{required:!0}}function bO(t){return Kn(t.value)||wO.test(t.value)?null:{email:!0}}function SO(t){return e=>Kn(e.value)||!xE(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function AO(t){return e=>xE(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function RO(t){if(!t)return kE;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Kn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function kE(t){return null}function FE(t){return t!=null}function LE(t){return Mr(t)?he(t):t}function VE(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function UE(t,e){return e.map(n=>n(t))}function MO(t){return!t.validate}function jE(t){return t.map(e=>MO(e)?e:n=>e.validate(n))}function BE(t){if(!t)return null;let e=t.filter(FE);return e.length==0?null:function(n){return VE(UE(n,e))}}function $E(t){return t!=null?BE(jE(t)):null}function HE(t){if(!t)return null;let e=t.filter(FE);return e.length==0?null:function(n){let r=UE(n,e).map(LE);return Ld(r).pipe(q(VE))}}function qE(t){return t!=null?HE(jE(t)):null}function EE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zE(t){return t._rawValidators}function GE(t){return t._rawAsyncValidators}function Tp(t){return t?Array.isArray(t)?t:[t]:[]}function Cu(t,e){return Array.isArray(t)?t.includes(e):t===e}function DE(t,e){let n=Tp(e);return Tp(t).forEach(i=>{Cu(n,i)||n.push(i)}),n}function CE(t,e){return Tp(e).filter(n=>!Cu(t,n))}var Tu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$E(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zi=class extends Tu{get formDirective(){return null}get path(){return null}},Po=class extends Tu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},NO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QG=ee(w({},NO),{"[class.ng-submitted]":"isSubmitted"}),Mu=(()=>{let e=class e extends bu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(O(Po,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Zc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Hn]});let t=e;return t})(),Nu=(()=>{let e=class e extends bu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(O(Zi,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Zc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Hn]});let t=e;return t})();var No="VALID",Eu="INVALID",Ji="PENDING",xo="DISABLED";function Ap(t){return(xu(t)?t.validators:t)||null}function xO(t){return Array.isArray(t)?$E(t):t||null}function Rp(t,e){return(xu(e)?e.asyncValidators:t)||null}function PO(t){return Array.isArray(t)?qE(t):t||null}function xu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function WE(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function KE(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var Xi=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===No}get invalid(){return this.status===Eu}get pending(){return this.status==Ji}get disabled(){return this.status===xo}get enabled(){return this.status!==xo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CE(e,this._rawAsyncValidators))}hasValidator(e){return Cu(this._rawValidators,e)}hasAsyncValidator(e){return Cu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ji,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xo,this.errors=null,this._forEachChild(r=>{r.disable(ee(w({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=No,this._forEachChild(r=>{r.enable(ee(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===No||this.status===Ji)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xo:No}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ji,this._hasOwnPendingAsyncValidator=!0;let n=LE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?xo:this.errors?Eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ji)?Ji:this._anyControlsHaveStatus(Eu)?Eu:No}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=PO(this._rawAsyncValidators)}},Su=class extends Xi{constructor(e,n,r){super(Ap(n),Rp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){KE(this,!0,e),Object.keys(e).forEach(r=>{WE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bp=class extends Su{};var Mp=new N("CallSetDisabledState",{providedIn:"root",factory:()=>Pu}),Pu="always";function OO(t,e){return[...e.path,t]}function TE(t,e,n=Pu){Np(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),FO(t,e),VO(t,e),LO(t,e),kO(t,e)}function bE(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ru(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Au(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Np(t,e){let n=zE(t);e.validator!==null?t.setValidators(EE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=GE(t);e.asyncValidator!==null?t.setAsyncValidators(EE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Au(e._rawValidators,i),Au(e._rawAsyncValidators,i)}function Ru(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=zE(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=GE(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Au(e._rawValidators,r),Au(e._rawAsyncValidators,r),n}function FO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&QE(t,e)})}function LO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&QE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function QE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function UO(t,e){t==null,Np(t,e)}function jO(t,e){return Ru(t,e)}function BO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $O(t){return Object.getPrototypeOf(t.constructor)===yO}function HO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===es?n=s:$O(s)?r=s:i=s}),i||r||n||null}function zO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Du=class extends Xi{constructor(e=null,n,r){super(Ap(n),Rp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GO=t=>t instanceof Du;var Ou=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var YE=new N("");var WO={provide:Zi,useExisting:ki(()=>Oo)},Oo=(()=>{let e=class e extends Zi{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ue,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ru(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return TE(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){bE(r.control||null,r,!1),zO(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,HO(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(bE(i||null,r),GO(s)&&(TE(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);UO(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&jO(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Np(this.form,this),this._oldForm&&Ru(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(O(PE,10),O(OE,10),O(Mp,8))},e.\u0275dir=nt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Qe("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[je.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xc([WO]),Hn,Un]});let t=e;return t})();var KO={provide:Po,useExisting:ki(()=>ko)},ko=(()=>{let e=class e extends Po{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ue,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=qO(this,o)}ngOnChanges(r){this._added||this._setUpControl(),BO(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return OO(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(O(Zi,13),O(PE,10),O(OE,10),O(NE,10),O(YE,8))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""]],inputs:{name:[je.None,"formControlName","name"],isDisabled:[je.None,"disabled","isDisabled"],model:[je.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xc([KO]),Hn,Un]});let t=e;return t})();var JE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=Xe({});let t=e;return t})(),Sp=class extends Xi{constructor(e,n,r){super(Ap(n),Rp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){KE(this,!1,e),e.forEach((r,i)=>{WE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RE(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ku=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return RE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Su(s,o)}record(r,i=null){let s=this._reduceControls(r);return new bp(s,i)}control(r,i,s){let o={};return this.useNonNullable?(RE(i)?o=i:(o.validators=i,o.asyncValidators=s),new Du(r,ee(w({},o),{nonNullable:!0}))):new Du(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Sp(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Du)return r;if(r instanceof Xi)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Mp,useValue:r.callSetDisabledState??Pu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=Xe({imports:[JE]});let t=e;return t})(),ts=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:YE,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Mp,useValue:r.callSetDisabledState??Pu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=Xe({imports:[JE]});let t=e;return t})();var eD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Pp;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YO=function(t){let e=eD(t);return tD.encodeByteArray(e,!0)},Fo=function(t){return YO(t).replace(/\./g,"")},kp=function(t){try{return tD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZO=()=>JO().__FIREBASE_DEFAULTS__,XO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ek=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kp(t[1]);return e&&JSON.parse(e)},Vu=()=>{try{return ZO()||XO()||ek()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fp=t=>{var e,n;return(n=(e=Vu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nD=t=>{let e=Fp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lp=()=>{var t;return(t=Vu())===null||t===void 0?void 0:t.config},Vp=t=>{var e;return(e=Vu())===null||e===void 0?void 0:e[`_${t}`]};var Lu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function rD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fo(JSON.stringify(n)),Fo(JSON.stringify(o)),""].join(".")}function Ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function tk(){var t;let e=(t=Vu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aD(){let t=Ce();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cD(){return!tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Up(){try{return typeof indexedDB=="object"}catch{return!1}}function uD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var nk="FirebaseError",dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}},yn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new dt(i,a,r)}};function rk(t,e){return t.replace(ik,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ik=/\{\$([^}]+)}/g;function lD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(XE(s)&&XE(o)){if(!Fr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function XE(t){return t!==null&&typeof t=="object"}function Lo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ns(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dD(t,e){let n=new Op(t,e);return n.subscribe.bind(n)}var Op=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xp),i.error===void 0&&(i.error=xp),i.complete===void 0&&(i.complete=xp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xp(){}var ZG=4*60*60*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lr="[DEFAULT]";var jp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ak(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ok(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ok(t){return t===Lr?void 0:t}function ak(t){return t.instantiationMode==="EAGER"}var Uu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ck=[],G=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(G||{}),uk={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},lk=G.INFO,dk={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},hk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=dk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qn=class{constructor(e){this.name=e,this._logLevel=lk,this._logHandler=hk,this._userLogHandler=null,ck.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}};var fk=(t,e)=>e.some(n=>t instanceof n),hD,fD;function pk(){return hD||(hD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gk(){return fD||(fD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pD=new WeakMap,$p=new WeakMap,gD=new WeakMap,Bp=new WeakMap,qp=new WeakMap;function mk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pD.set(n,t)}).catch(()=>{}),qp.set(e,t),e}function yk(t){if($p.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$p.set(t,e)}var Hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){Hp=t(Hp)}function vk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ju(this),e,...n);return gD.set(r,e.sort?e.sort():[e]),Qt(r)}:gk().includes(t)?function(...e){return t.apply(ju(this),e),Qt(pD.get(this))}:function(...e){return Qt(t.apply(ju(this),e))}}function _k(t){return typeof t=="function"?vk(t):(t instanceof IDBTransaction&&yk(t),fk(t,pk())?new Proxy(t,Hp):t)}function Qt(t){if(t instanceof IDBRequest)return mk(t);if(Bp.has(t))return Bp.get(t);let e=_k(t);return e!==t&&(Bp.set(t,e),qp.set(e,t)),e}var ju=t=>qp.get(t);function vD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Qt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Qt(o.result),c.oldVersion,c.newVersion,Qt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Ik=["get","getKey","getAll","getAllKeys","count"],wk=["put","add","delete","clear"],zp=new Map;function yD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zp.get(e))return zp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=wk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ik.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return zp.set(e,s),s}mD(t=>ee(w({},t),{get:(e,n,r)=>yD(e,n)||t.get(e,n,r),has:(e,n)=>!!yD(e,n)||t.has(e,n)}));var Wp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ek(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Ek(t){let e=t.getComponent();return e?.type==="VERSION"}var Kp="@firebase/app",_D="0.10.2";var Vr=new Qn("@firebase/app"),Dk="@firebase/app-compat",Ck="@firebase/analytics-compat",Tk="@firebase/analytics",bk="@firebase/app-check-compat",Sk="@firebase/app-check",Ak="@firebase/auth",Rk="@firebase/auth-compat",Mk="@firebase/database",Nk="@firebase/database-compat",xk="@firebase/functions",Pk="@firebase/functions-compat",Ok="@firebase/installations",kk="@firebase/installations-compat",Fk="@firebase/messaging",Lk="@firebase/messaging-compat",Vk="@firebase/performance",Uk="@firebase/performance-compat",jk="@firebase/remote-config",Bk="@firebase/remote-config-compat",$k="@firebase/storage",Hk="@firebase/storage-compat",qk="@firebase/firestore",zk="@firebase/firestore-compat",Gk="firebase",Wk="10.11.1";var Qp="[DEFAULT]",Kk={[Kp]:"fire-core",[Dk]:"fire-core-compat",[Tk]:"fire-analytics",[Ck]:"fire-analytics-compat",[Sk]:"fire-app-check",[bk]:"fire-app-check-compat",[Ak]:"fire-auth",[Rk]:"fire-auth-compat",[Mk]:"fire-rtdb",[Nk]:"fire-rtdb-compat",[xk]:"fire-fn",[Pk]:"fire-fn-compat",[Ok]:"fire-iid",[kk]:"fire-iid-compat",[Fk]:"fire-fcm",[Lk]:"fire-fcm-compat",[Vk]:"fire-perf",[Uk]:"fire-perf-compat",[jk]:"fire-rc",[Bk]:"fire-rc-compat",[$k]:"fire-gcs",[Hk]:"fire-gcs-compat",[qk]:"fire-fst",[zk]:"fire-fst-compat","fire-js":"fire-js",[Gk]:"fire-js-all"};var Vo=new Map,Qk=new Map,Yp=new Map;function ID(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){let e=t.name;if(Yp.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,t);for(let n of Vo.values())ID(n,t);for(let n of Qk.values())ID(n,t);return!0}function jo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t.settings!==void 0}var Yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new yn("app","Firebase",Yk);var Jp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Zn=Wk;function eg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Lp()),!n)throw Yn.create("no-options");let s=Vo.get(i);if(s){if(Fr(n,s.options)&&Fr(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}let o=new Uu(i);for(let c of Yp.values())o.addComponent(c);let a=new Jp(n,r,o);return Vo.set(i,a),a}function is(t=Qp){let e=Vo.get(t);if(!e&&t===Qp&&Lp())return eg();if(!e)throw Yn.create("no-app",{appName:t});return e}function Bu(){return Array.from(Vo.values())}function Te(t,e,n){var r;let i=(r=Kk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Jn(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Jk="firebase-heartbeat-database",Zk=1,Uo="firebase-heartbeat-store",Gp=null;function CD(){return Gp||(Gp=vD(Jk,Zk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Gp}function Xk(t){return f(this,null,function*(){try{let n=(yield CD()).transaction(Uo),r=yield n.objectStore(Uo).get(TD(t));return yield n.done,r}catch(e){if(e instanceof dt)Vr.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(n.message)}}})}function wD(t,e){return f(this,null,function*(){try{let r=(yield CD()).transaction(Uo,"readwrite");yield r.objectStore(Uo).put(e,TD(t)),yield r.done}catch(n){if(n instanceof dt)Vr.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});Vr.warn(r.message)}}})}function TD(t){return`${t.name}!${t.options.appId}`}var e1=1024,t1=30*24*60*60*1e3,Zp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ED();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=t1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ED(),{heartbeatsToSend:r,unsentEntries:i}=n1(this._heartbeatsCache.heartbeats),s=Fo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function ED(){return new Date().toISOString().substring(0,10)}function n1(t,e=e1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Up()?uD().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Xk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function DD(t){return Fo(JSON.stringify({version:2,heartbeats:t})).length}function r1(t){Jn(new Tt("platform-logger",e=>new Wp(e),"PRIVATE")),Jn(new Tt("heartbeat",e=>new Zp(e),"PRIVATE")),Te(Kp,_D,t),Te(Kp,_D,"esm2017"),Te("fire-js","")}r1("");var i1="firebase",s1="10.11.1";Te(i1,s1,"app");var jr=new dn("ANGULARFIRE2_VERSION");function Hu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Bo=(t,e)=>{let n=e?[e]:Bu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},os=class{constructor(){return Bo(o1)}},o1="app-check";function ss(){}var $u=class{zone;delegate;constructor(e,n=Pd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},tg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),n.pipe(De({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},as=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $u(Zone.current)),this.insideAngular=n.run(()=>new $u(Zone.current,xd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(U(ne))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function a1(t){return qu().ngZone.runOutsideAngular(()=>t())}function Ur(t){return qu().ngZone.run(()=>t())}function c1(t){return u1(qu())(t)}function u1(t){return function(n){return n=n.lift(new tg(t.ngZone)),n.pipe(xn(t.outsideAngular),Nn(t.insideAngular))}}var l1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ur(()=>t.apply(void 0,r))},Lt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ur(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss))),r[s]=l1(r[s],n));let i=a1(()=>t.apply(this,r));if(!e)if(i instanceof K){let s=qu();return i.pipe(xn(s.outsideAngular),Nn(s.insideAngular))}else return Ur(()=>i);return i instanceof K?i.pipe(c1):i instanceof Promise?Ur(()=>new Promise((s,o)=>i.then(a=>Ur(()=>s(a)),a=>Ur(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ur(()=>i)};var vn=class{constructor(e){return e}},Br=class{constructor(){return Bu()}};function d1(t){return t&&t.length===1?t[0]:new vn(is())}var ng=new N("angularfire2._apps"),h1={provide:vn,useFactory:d1,deps:[[new et,ng]]},f1={provide:Br,deps:[[new et,ng]]};function p1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vn(r)}}var g1=(()=>{class t{constructor(n){Te("angularfire",jr.full,"core"),Te("angularfire",jr.full,"app"),Te("angular",pw.full,n.toString())}static \u0275fac=function(r){return new(r||t)(U($n))};static \u0275mod=tt({type:t});static \u0275inj=Xe({providers:[h1,f1]})}return t})();function bD(t,...e){return{ngModule:g1,providers:[{provide:ng,useFactory:p1(t),multi:!0,deps:[ne,Et,as,...e]}]}}var SD=Lt(eg,!0);function qD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zD=qD,GD=new yn("auth","Firebase",qD());var Yu=new Qn("@firebase/auth");function m1(t,...e){Yu.logLevel<=G.WARN&&Yu.warn(`Auth (${Zn}): ${t}`,...e)}function Gu(t,...e){Yu.logLevel<=G.ERROR&&Yu.error(`Auth (${Zn}): ${t}`,...e)}function Jt(t,...e){throw Cg(t,...e)}function $r(t,...e){return Cg(t,...e)}function WD(t,e,n){let r=Object.assign(Object.assign({},zD()),{[e]:n});return new yn("auth","Firebase",r).create(e,{appName:t.name})}function wn(t){return WD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GD.create(t,...e)}function S(t,e,...n){if(!t)throw Cg(e,...n)}function _n(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function er(t,e){t||_n(e)}function og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y1(){return AD()==="http:"||AD()==="https:"}function AD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function v1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y1()||sD()||"connection"in navigator)?navigator.onLine:!0}function _1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Hr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=iD()||oD()}get(){return v1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Tg(t,e){er(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ju=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var I1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var w1=new Hr(3e4,6e4);function En(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dn(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return KD(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Lo(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Ju.fetch()(QD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function KD(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},I1),e);try{let i=new ag(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw zu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WD(t,l,u);Jt(t,l)}}catch(i){if(i instanceof dt)throw i;Jt(t,"network-request-failed",{message:String(i)})}})}function Qo(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield Dn(t,e,n,r,i);return"mfaPendingCredential"in u&&Jt(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function QD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Tg(t.config,i):`${t.config.apiScheme}://${i}`}function E1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ag=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),w1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=$r(t,e,r);return i.customData._tokenResponse=n,i}function RD(t){return t!==void 0&&t.enterprise!==void 0}var cg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function D1(t,e){return f(this,null,function*(){return Dn(t,"GET","/v2/recaptchaConfig",En(t,e))})}function C1(t,e){return f(this,null,function*(){return Dn(t,"POST","/v1/accounts:delete",e)})}function YD(t,e){return f(this,null,function*(){return Dn(t,"POST","/v1/accounts:lookup",e)})}function $o(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function bg(t,e=!1){return f(this,null,function*(){let n=rt(t),r=yield n.getIdToken(e),i=Sg(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$o(rg(i.auth_time)),issuedAtTime:$o(rg(i.iat)),expirationTime:$o(rg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rg(t){return Number(t)*1e3}function Sg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{let i=kp(n);return i?JSON.parse(i):(Gu("Failed to decode base64 JWT payload"),null)}catch(i){return Gu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MD(t){let e=Sg(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qo(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof dt&&T1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function T1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ug=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zu(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qo(t,YD(n,{idToken:r}));S(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JD(s.providerUserInfo):[],a=b1(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Ag(t){return f(this,null,function*(){let e=rt(t);yield Zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function b1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JD(t){return t.map(e=>{var{providerId:n}=e,r=Od(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S1(t,e){return f(this,null,function*(){let n=yield KD(t,{},()=>f(this,null,function*(){let r=Lo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ju.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function A1(t,e){return f(this,null,function*(){return Dn(t,"POST","/v2/accounts:revokeToken",En(t,e))})}var Ho=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){S(e.length!==0,"internal-error");let n=MD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield S1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(S(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(S(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(S(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _n("not implemented")}};function Xn(t,e){S(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var cs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Od(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ug(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield qo(this,this.stsTokenManager.getToken(this.auth,e));return S(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return bg(this,e)}reload(){return Ag(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Ft(this.auth.app))return Promise.reject(wn(this.auth));let e=yield this.getIdToken();return yield qo(this,C1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,oe=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:re,emailVerified:pe,isAnonymous:gt,providerData:we,stsTokenManager:mt}=n;S(re&&mt,e,"internal-error");let oi=Ho.fromJSON(this.name,mt);S(typeof re=="string",e,"internal-error"),Xn(d,e.name),Xn(h,e.name),S(typeof pe=="boolean",e,"internal-error"),S(typeof gt=="boolean",e,"internal-error"),Xn(p,e.name),Xn(m,e.name),Xn(I,e.name),Xn(b,e.name),Xn(R,e.name),Xn(oe,e.name);let dr=new t({uid:re,auth:e,email:h,emailVerified:pe,displayName:d,isAnonymous:gt,photoURL:m,phoneNumber:p,tenantId:I,stsTokenManager:oi,createdAt:R,lastLoginAt:oe});return we&&Array.isArray(we)&&(dr.providerData=we.map(ai=>Object.assign({},ai))),b&&(dr._redirectEventId=b),dr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Ho;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];S(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?JD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ho;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var ND=new Map;function In(t){er(t instanceof Function,"Expected a class definition");let e=ND.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ND.set(t,e),e)}var R1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),lg=R1;function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}var Xu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Wu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(In(lg),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||In(lg),o=Wu(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=cs._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function xD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nC(e))return"Blackberry";if(rC(e))return"Webos";if(Rg(e))return"Safari";if((e.includes("chrome/")||XD(e))&&!e.includes("edge/"))return"Chrome";if(tC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZD(t=Ce()){return/firefox\//i.test(t)}function Rg(t=Ce()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XD(t=Ce()){return/crios\//i.test(t)}function eC(t=Ce()){return/iemobile/i.test(t)}function tC(t=Ce()){return/android/i.test(t)}function nC(t=Ce()){return/blackberry/i.test(t)}function rC(t=Ce()){return/webos/i.test(t)}function cl(t=Ce()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M1(t=Ce()){var e;return cl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N1(){return aD()&&document.documentMode===10}function iC(t=Ce()){return cl(t)||tC(t)||rC(t)||nC(t)||/windows phone/i.test(t)||eC(t)}function x1(){try{return!!(window&&window!==window.top)}catch{return!1}}function sC(t,e=[]){let n;switch(t){case"Browser":n=xD(Ce());break;case"Worker":n=`${xD(Ce())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zn}/${r}`}var dg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function P1(n){return f(this,arguments,function*(t,e={}){return Dn(t,"GET","/v2/passwordPolicy",En(t,e))})}var O1=6,hg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var fg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new el(this),this.idTokenSubscription=new el(this),this.beforeStateQueue=new dg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield YD(this,{idToken:e}),r=yield cs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Ft(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Zu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_1()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Ft(this.app))return Promise.reject(wn(this));let n=e?rt(e):null;return n&&S(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Ft(this.app)?Promise.reject(wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ft(this.app)?Promise.reject(wn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(In(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield P1(this),n=new hg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield A1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&In(e)||this._popupRedirectResolver;S(n,this,"argument-error"),this.redirectPersistenceManager=yield Xu.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&m1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function tr(t){return rt(t)}var el=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dD(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ul={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k1(t){ul=t}function oC(t){return ul.loadJS(t)}function F1(){return ul.recaptchaEnterpriseScript}function L1(){return ul.gapiScript}function aC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var V1="recaptcha-enterprise",U1="NO_RECAPTCHA",pg=class{constructor(e){this.type=V1,this.auth=tr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){D1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new cg(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;RD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(U1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&RD(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=F1();c.length!==0&&(c+=a),oC(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function PD(t,e,n,r=!1){return f(this,null,function*(){let i=new pg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function tl(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield PD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield PD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Mg(t,e){let n=jo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Fr(s,e??{}))return i;Jt(i,"already-initialized")}return n.initialize({options:e})}function j1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(In);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ng(t,e,n){let r=tr(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cC(e),{host:o,port:a}=B1(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$1()}function cC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B1(t){let e=cC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:OD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:OD(o)}}}function OD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function $1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Go=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}};function H1(t,e){return f(this,null,function*(){return Dn(t,"POST","/v1/accounts:signUp",e)})}function q1(t,e){return f(this,null,function*(){return Qo(t,"POST","/v1/accounts:signInWithPassword",En(t,e))})}function z1(t,e){return f(this,null,function*(){return Dn(t,"POST","/v1/accounts:sendOobCode",En(t,e))})}function G1(t,e){return f(this,null,function*(){return z1(t,e)})}function W1(t,e){return f(this,null,function*(){return Qo(t,"POST","/v1/accounts:signInWithEmailLink",En(t,e))})}function K1(t,e){return f(this,null,function*(){return Qo(t,"POST","/v1/accounts:signInWithEmailLink",En(t,e))})}var Wo=class t extends Go{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tl(e,n,"signInWithPassword",q1);case"emailLink":return W1(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tl(e,r,"signUpPassword",H1);case"emailLink":return K1(e,{idToken:n,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ig(t,e){return f(this,null,function*(){return Qo(t,"POST","/v1/accounts:signInWithIdp",En(t,e))})}function Q1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y1(t){let e=ns(rs(t)).link,n=e?ns(rs(e)).deep_link_id:null,r=ns(rs(t)).deep_link_id;return(r?ns(rs(r)).link:null)||r||n||e||t}var nl=class t{constructor(e){var n,r,i,s,o,a;let c=ns(rs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Q1((i=c.mode)!==null&&i!==void 0?i:null);S(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Y1(e);try{return new t(n)}catch{return null}}};var uC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Wo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=nl.parseLink(r);return S(i,"argument-error"),Wo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),rl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gg=class extends rl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function J1(t,e){return f(this,null,function*(){return Qo(t,"POST","/v1/accounts:signUp",En(t,e))})}var us=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield cs._fromIdTokenResponse(e,r,i),o=kD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function kD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var mg=class t extends dt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mg._fromErrorAndOperation(t,s,e,r):s})}function Z1(t,e,n=!1){return f(this,null,function*(){let r=yield qo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return us._forOperation(t,"link",r)})}function X1(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Ft(r.app))return Promise.reject(wn(r));let i="reauthenticate";try{let s=yield qo(t,lC(r,i,e,t),n);S(s.idToken,r,"internal-error");let o=Sg(s.idToken);S(o,r,"internal-error");let{sub:a}=o;return S(t.uid===a,r,"user-mismatch"),us._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Jt(r,"user-mismatch"),s}})}function dC(t,e,n=!1){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(wn(t));let r="signIn",i=yield lC(t,r,e),s=yield us._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function xg(t,e){return f(this,null,function*(){return dC(tr(t),e)})}function eF(t,e,n){var r;S(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),S(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(S(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(S(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function hC(t){return f(this,null,function*(){let e=tr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Pg(t,e,n){return f(this,null,function*(){let r=tr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&eF(r,i,n),yield tl(r,i,"getOobCode",G1)})}function Og(t,e,n){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(wn(t));let r=tr(t),o=yield tl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J1).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&hC(t),c}),a=yield us._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function kg(t,e,n){return Ft(t.app)?Promise.reject(wn(t)):xg(rt(t),uC.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hC(t),r}))}function Fg(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function Lg(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}var il="__sak";var sl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(il,"1"),this.storage.removeItem(il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function tF(){let t=Ce();return Rg(t)||cl(t)}var nF=1e3,rF=10,iF=(()=>{class t extends sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=tF()&&x1(),this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);N1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,rF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},nF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Rn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Rn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Rn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fC=iF;var sF=(()=>{class t extends sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Vg=sF;function oF(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var aF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield oF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var yg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=pC("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Yt(){return window}function cF(t){Yt().location.href=t}function gC(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}function uF(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function lF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dF(){return gC()?self:null}var mC="firebaseLocalStorageDb",hF=1,ol="firebaseLocalStorage",yC="fbase_key",qr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ll(t,e){return t.transaction([ol],e?"readwrite":"readonly").objectStore(ol)}function fF(){let t=indexedDB.deleteDatabase(mC);return new qr(t).toPromise()}function vg(){let t=indexedDB.open(mC,hF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ol,{keyPath:yC})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ol)?e(r):(r.close(),yield fF(),e(yield vg()))}))})}function FD(t,e,n){return f(this,null,function*(){let r=ll(t,!0).put({[yC]:e,value:n});return new qr(r).toPromise()})}function pF(t,e){return f(this,null,function*(){let n=ll(t,!1).get(e),r=yield new qr(n).toPromise();return r===void 0?null:r.value})}function LD(t,e){let n=ll(t,!0).delete(e);return new qr(n).toPromise()}var gF=800,mF=3,yF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield vg(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>mF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return gC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=aF._getInstance(dF()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield uF(),!this.activeServiceWorker)return;this.sender=new yg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||lF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield vg();return yield FD(n,il,"1"),yield LD(n,il),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>FD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>pF(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>LD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=ll(s,!1).getAll();return new qr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),gF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vC=yF;var H3=aC("rcb"),q3=new Hr(3e4,6e4);function vF(t,e){return e?In(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ko=class extends Go{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ig(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ig(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ig(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function _F(t){return dC(t.auth,new Ko(t),t.bypassAuthState)}function IF(t){let{auth:e,user:n}=t;return S(n,e,"internal-error"),X1(n,new Ko(t),t.bypassAuthState)}function wF(t){return f(this,null,function*(){let{auth:e,user:n}=t;return S(n,e,"internal-error"),Z1(n,new Ko(t),t.bypassAuthState)})}var _g=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _F;case"linkViaPopup":case"linkViaRedirect":return wF;case"reauthViaPopup":case"reauthViaRedirect":return IF;default:Jt(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var z3=new Hr(2e3,1e4);var EF="pendingRedirect",Ku=new Map,Ig=class t extends _g{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Ku.get(this.auth._key());if(!e){try{let r=(yield DF(this.resolver,this.auth))?yield Rn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Rn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Rn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function DF(t,e){return f(this,null,function*(){let n=bF(e),r=TF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function CF(t,e){Ku.set(t._key(),e)}function TF(t){return In(t._redirectPersistence)}function bF(t){return Wu(EF,t.config.apiKey,t.name)}function SF(t,e,n=!1){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(wn(t));let r=tr(t),i=vF(r,e),o=yield new Ig(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var AF=10*60*1e3,wg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_C(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AF&&this.cachedEventUids.clear(),this.cachedEventUids.has(VD(e))}saveEventToCache(e){this.cachedEventUids.add(VD(e)),this.lastProcessedEventTime=Date.now()}};function VD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _C({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _C(t);default:return!1}}function MF(n){return f(this,arguments,function*(t,e={}){return Dn(t,"GET","/v1/projects",e)})}var NF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xF=/^https?/;function PF(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield MF(t);for(let n of e)try{if(OF(n))return}catch{}Jt(t,"unauthorized-domain")})}function OF(t){let e=og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xF.test(n))return!1;if(NF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kF=new Hr(3e4,6e4);function UD(){let t=Yt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FF(t){return new Promise((e,n)=>{var r,i,s;function o(){UD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UD(),n($r(t,"network-request-failed"))},timeout:kF.get()})}if(!((i=(r=Yt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yt().gapi)===null||s===void 0)&&s.load)o();else{let a=aC("iframefcb");return Yt()[a]=()=>{gapi.load?o():n($r(t,"network-request-failed"))},oC(`${L1()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Qu=null,e})}var Qu=null;function LF(t){return Qu=Qu||FF(t),Qu}var VF=new Hr(5e3,15e3),UF="__/auth/iframe",jF="emulator/auth/iframe",BF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$F=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HF(t){let e=t.config;S(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Tg(e,jF):`https://${t.config.authDomain}/${UF}`,r={apiKey:e.apiKey,appName:t.name,v:Zn},i=$F.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lo(r).slice(1)}`}function qF(t){return f(this,null,function*(){let e=yield LF(t),n=Yt().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:HF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BF,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=$r(t,"network-request-failed"),a=Yt().setTimeout(()=>{s(o)},VF.get());function c(){Yt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GF=500,WF=600,KF="_blank",QF="http://localhost",al=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function YF(t,e,n,r=GF,i=WF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},zF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ce().toLowerCase();n&&(a=XD(u)?KF:n),ZD(u)&&(e=e||QF,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(M1(u)&&a!=="_self")return JF(e||"",a),new al(null);let d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new al(d)}function JF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ZF="__/auth/handler",XF="emulator/auth/handler",eL=encodeURIComponent("fac");function jD(t,e,n,r,i,s){return f(this,null,function*(){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zn,eventId:i};if(e instanceof rl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof gg){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${eL}=${encodeURIComponent(c)}`:"";return`${tL(t)}?${Lo(a).slice(1)}${u}`})}function tL({config:t}){return t.emulator?Tg(t,XF):`https://${t.authDomain}/${ZF}`}var sg="webStorageSupport",Eg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vg,this._completeRedirectFn=SF,this._overrideRedirectResult=CF}_openPopup(e,n,r,i){return f(this,null,function*(){var s;er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield jD(e,n,r,og(),i);return YF(e,o,pC())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield jD(e,n,r,og(),i);return cF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(er(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield qF(e),r=new wg(e);return n.register("authEvent",i=>(S(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sg,{type:sg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[sg];o!==void 0&&n(!!o),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iC()||Rg()||cl()}},IC=Eg;var BD="@firebase/auth",$D="1.7.2";var Dg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rL(t){Jn(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sC(t)},u=new fg(r,i,s,c);return j1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Tt("auth-internal",e=>{let n=tr(e.getProvider("auth").getImmediate());return(r=>new Dg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(BD,$D,nL(t)),Te(BD,$D,"esm2017")}var iL=5*60,sL=Vp("authIdTokenMaxAge")||iL,HD=null,oL=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sL)return;let i=n?.token;HD!==i&&(HD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ug(t=is()){let e=jo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Mg(t,{popupRedirectResolver:IC,persistence:[vC,fC,Vg]}),r=Vp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=oL(s.toString());Lg(n,o,()=>o(n.currentUser)),Fg(n,a=>o(a))}}let i=Fp("auth");return i&&Ng(n,`http://${i}`),n}function aL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=$r("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rL("Browser");var wC="auth",zr=class{constructor(e){return e}},Yo=class{constructor(){return Bo(wC)}};var jg=new N("angularfire2.auth-instances");function JL(t,e){let n=Hu(wC,t,e);return n&&new zr(n)}function ZL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zr(r)}}var XL={provide:Yo,deps:[[new et,jg]]},eV={provide:zr,useFactory:JL,deps:[[new et,jg],vn]},tV=(()=>{class t{constructor(){Te("angularfire",jr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tt({type:t});static \u0275inj=Xe({providers:[eV,XL]})}return t})();function EC(t,...e){return{ngModule:tV,providers:[{provide:jg,useFactory:ZL(t),multi:!0,deps:[ne,Et,as,Br,[new et,os],...e]}]}}var DC=Lt(Og,!0);var CC=Lt(Ug,!0);var TC=Lt(Pg,!0);var bC=Lt(kg,!0);var rV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},v,cm=cm||{},k=rV||self;function Cl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function la(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function iV(t){return Object.prototype.hasOwnProperty.call(t,Bg)&&t[Bg]||(t[Bg]=++sV)}var Bg="closure_uid_"+(1e9*Math.random()>>>0),sV=0;function oV(t,e,n){return t.call.apply(t.bind,arguments)}function aV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $e(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$e=oV:$e=aV,$e.apply(null,arguments)}function dl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Re(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function nr(){this.s=this.s,this.o=this.o}var cV=0;nr.prototype.s=!1;nr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cV!=0)&&iV(this)};nr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var UC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function um(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function SC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Cl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function He(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var uV=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function na(t){return/^[\s\xa0]*$/.test(t)}function Tl(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function Zt(t){return Tl().indexOf(t)!=-1}function lm(t){return lm[" "](t),t}lm[" "]=function(){};function lV(t,e){var n=ZV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dV=Zt("Opera"),fs=Zt("Trident")||Zt("MSIE"),jC=Zt("Edge"),Gg=jC||fs,BC=Zt("Gecko")&&!(Tl().toLowerCase().indexOf("webkit")!=-1&&!Zt("Edge"))&&!(Zt("Trident")||Zt("MSIE"))&&!Zt("Edge"),hV=Tl().toLowerCase().indexOf("webkit")!=-1&&!Zt("Edge");function $C(){var t=k.document;return t?t.documentMode:void 0}var Wg;e:{if(hl="",fl=function(){var t=Tl();if(BC)return/rv:([^\);]+)(\)|;)/.exec(t);if(jC)return/Edge\/([\d\.]+)/.exec(t);if(fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(hV)return/WebKit\/(\S+)/.exec(t);if(dV)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),fl&&(hl=fl?fl[1]:""),fs&&(pl=$C(),pl!=null&&pl>parseFloat(hl))){Wg=String(pl);break e}Wg=hl}var hl,fl,pl,Kg;k.document&&fs?($g=$C(),Kg=$g||parseInt(Wg,10)||void 0):Kg=void 0;var $g,fV=Kg;function ra(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(BC){e:{try{lm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ra.$.h.call(this)}}Re(ra,He);var pV={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var da="closure_listenable_"+(1e6*Math.random()|0),gV=0;function mV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gV,this.fa=this.ia=!1}function bl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function yV(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function HC(t){let e={};for(let n in t)e[n]=t[n];return e}var AC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<AC.length;s++)n=AC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sl(t){this.src=t,this.g={},this.h=0}Sl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Yg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new mV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Qg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=UC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Yg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var hm="closure_lm_"+(1e6*Math.random()|0),Hg={};function zC(t,e,n,r,i){if(r&&r.once)return WC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zC(t,e[s],n,r,i);return null}return n=gm(n),t&&t[da]?t.O(e,n,la(r)?!!r.capture:!!r,i):GC(t,e,n,!1,r,i)}function GC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=la(i)?!!i.capture:!!i,a=pm(t);if(a||(t[hm]=a=new Sl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=vV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vV(){function t(n){return e.call(t.src,t.listener,n)}let e=_V;return t}function WC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WC(t,e[s],n,r,i);return null}return n=gm(n),t&&t[da]?t.P(e,n,la(r)?!!r.capture:!!r,i):GC(t,e,n,!0,r,i)}function KC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KC(t,e[s],n,r,i);else r=la(r)?!!r.capture:!!r,n=gm(n),t&&t[da]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Yg(s,n,r,i),-1<n&&(bl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=pm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Yg(e,n,r,i)),(n=-1<t?e[t]:null)&&fm(n))}function fm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[da])Qg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pm(e))?(Qg(n,t),n.h==0&&(n.src=null,e[hm]=null)):bl(t)}}}function QC(t){return t in Hg?Hg[t]:Hg[t]="on"+t}function _V(t,e){if(t.fa)t=!0;else{e=new ra(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fm(t),t=n.call(r,e)}return t}function pm(t){return t=t[hm],t instanceof Sl?t:null}var qg="__closure_events_fn_"+(1e9*Math.random()>>>0);function gm(t){return typeof t=="function"?t:(t[qg]||(t[qg]=function(e){return t.handleEvent(e)}),t[qg])}function Ae(){nr.call(this),this.i=new Sl(this),this.S=this,this.J=null}Re(Ae,nr);Ae.prototype[da]=!0;Ae.prototype.removeEventListener=function(t,e,n,r){KC(this,t,e,n,r)};function Le(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new He(e,t);else if(e instanceof He)e.target=e.target||t;else{var i=e;e=new He(r,t),qC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=gl(o,r,!0,e)&&i}if(o=e.g=t,i=gl(o,r,!0,e)&&i,i=gl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=gl(o,r,!1,e)&&i}Ae.prototype.N=function(){if(Ae.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bl(n[r]);delete t.g[e],t.h--}}this.J=null};Ae.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ae.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Qg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var mm=k.JSON.stringify,Jg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function IV(){var t=ym;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Zg=class{constructor(){this.h=this.g=null}add(e,n){let r=YC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},YC=new Jg(()=>new Xg,t=>t.reset()),Xg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function wV(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EV(t){k.setTimeout(()=>{throw t},0)}var ia,sa=!1,ym=new Zg,JC=()=>{let t=k.Promise.resolve(void 0);ia=()=>{t.then(DV)}},DV=()=>{for(var t;t=IV();){try{t.h.call(t.g)}catch(n){EV(n)}var e=YC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sa=!1};function Al(t,e){Ae.call(this),this.h=t||1,this.g=e||k,this.j=$e(this.qb,this),this.l=Date.now()}Re(Al,Ae);v=Al.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Le(this,"tick"),this.ga&&(vm(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function vm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){Al.$.N.call(this),vm(this),delete this.g};function _m(t,e,n){if(typeof t=="function")n&&(t=$e(t,n));else if(t&&typeof t.handleEvent=="function")t=$e(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function ZC(t){t.g=_m(()=>{t.g=null,t.i&&(t.i=!1,ZC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var em=class extends nr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZC(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function oa(t){nr.call(this),this.h=t,this.g={}}Re(oa,nr);var RC=[];function XC(t,e,n,r){Array.isArray(n)||(n&&(RC[0]=n.toString()),n=RC);for(var i=0;i<n.length;i++){var s=zC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function e0(t){dm(t.g,function(e,n){this.g.hasOwnProperty(n)&&fm(e)},t),t.g={}}oa.prototype.N=function(){oa.$.N.call(this),e0(this)};oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rl(){this.g=!0}Rl.prototype.Ea=function(){this.g=!1};function CV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function TV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ds(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SV(t,n)+(r?" "+r:"")})}function bV(t,e){t.info(function(){return"TIMEOUT: "+e})}Rl.prototype.info=function(){};function SV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return mm(n)}catch{return e}}var Qr={},MC=null;function Ml(){return MC=MC||new Ae}Qr.Ta="serverreachability";function t0(t){He.call(this,Qr.Ta,t)}Re(t0,He);function aa(t){let e=Ml();Le(e,new t0(e))}Qr.STAT_EVENT="statevent";function n0(t,e){He.call(this,Qr.STAT_EVENT,t),this.stat=e}Re(n0,He);function Ye(t){let e=Ml();Le(e,new n0(e,t))}Qr.Ua="timingevent";function r0(t,e){He.call(this,Qr.Ua,t),this.size=e}Re(r0,He);function ha(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var Nl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Im(){}Im.prototype.h=null;function NC(t){return t.h||(t.h=t.i())}function s0(){}var fa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wm(){He.call(this,"d")}Re(wm,He);function Em(){He.call(this,"c")}Re(Em,He);var tm;function xl(){}Re(xl,Im);xl.prototype.g=function(){return new XMLHttpRequest};xl.prototype.i=function(){return{}};tm=new xl;function pa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new oa(this),this.P=AV,t=Gg?125:void 0,this.V=new Al(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}var AV=45e3,a0={},nm={};v=pa.prototype;v.setTimeout=function(t){this.P=t};function rm(t,e,n){t.L=1,t.A=Ol(Tn(e)),t.u=n,t.S=!0,c0(t,null)}function c0(t,e){t.G=Date.now(),ga(t),t.B=Tn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),m0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new o0,t.g=L0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new em($e(t.Pa,t,t.g),t.O)),XC(t.U,t.g,"readystatechange",t.nb),e=t.I?HC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),aa(),CV(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Xt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Xt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Gg||this.g&&(this.h.h||this.g.ja()||kC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?aa(3):aa(2)),Pl(this);var n=this.g.da();this.ca=n;t:if(u0(this)){var r=kC(this.g);t="";var i=r.length,s=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),ta(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,TV(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!na(a)){var u=a;break t}}u=null}if(n=u)ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,im(this,n);else{this.i=!1,this.s=3,Ye(12),Gr(this),ta(this);break e}}this.S?(l0(this,l,o),Gg&&this.i&&l==3&&(XC(this.U,this.V,"tick",this.mb),this.V.start())):(ds(this.j,this.m,o,null),im(this,o)),l==4&&Gr(this),this.i&&!this.J&&(l==4?P0(this.l,this):(this.i=!1,ga(this)))}else QV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Gr(this),ta(this)}}}catch{}finally{}};function u0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function l0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=RV(t,n),i==nm){e==4&&(t.s=4,Ye(14),r=!1),ds(t.j,t.m,null,"[Incomplete Response]");break}else if(i==a0){t.s=4,Ye(15),ds(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ds(t.j,t.m,i,null),im(t,i);u0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ye(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Am(e),e.M=!0,Ye(11))):(ds(t.j,t.m,n,"[Invalid Chunked Response]"),Gr(t),ta(t))}v.mb=function(){if(this.g){var t=Xt(this.g),e=this.g.ja();this.o<e.length&&(Pl(this),l0(this,t,e),this.i&&t!=4&&ga(this))}};function RV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?nm:(n=Number(e.substring(n,r)),isNaN(n)?a0:(r+=1,r+n>e.length?nm:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,Gr(this)};function ga(t){t.Y=Date.now()+t.P,d0(t,t.P)}function d0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ha($e(t.lb,t),e)}function Pl(t){t.C&&(k.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(bV(this.j,this.B),this.L!=2&&(aa(),Ye(17)),Gr(this),this.s=2,ta(this)):d0(this,this.Y-t)};function ta(t){t.l.H==0||t.J||P0(t.l,t)}function Gr(t){Pl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,vm(t.V),e0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function im(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sm(n.i,t))){if(!t.K&&sm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Il(n),Ll(n);else break e;Sm(n),Ye(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ha($e(n.ib,n),6e3));if(1>=_0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wr(n,11)}else if((t.K||n.g==t)&&Il(n),!na(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dm(s,s.h),s.h=null))}if(r.F){let I=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,ae(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=F0(r,r.J?r.pa:null,r.Y),o.K){I0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Pl(a),ga(a)),r.g=o}else N0(r);0<n.j.length&&Vl(n)}else u[0]!="stop"&&u[0]!="close"||Wr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Wr(n,7):bm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}aa(4)}catch{}}function MV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function NV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function h0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=NV(t),r=MV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var f0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Kr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Kr){this.h=t.h,vl(this,t.j),this.s=t.s,this.g=t.g,_l(this,t.m),this.l=t.l;var e=t.i,n=new ca;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xC(this,n),this.o=t.o}else t&&(e=String(t).match(f0))?(this.h=!1,vl(this,e[1]||"",!0),this.s=Xo(e[2]||""),this.g=Xo(e[3]||"",!0),_l(this,e[4]),this.l=Xo(e[5]||"",!0),xC(this,e[6]||"",!0),this.o=Xo(e[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}Kr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ea(e,PC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ea(e,PC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ea(n,n.charAt(0)=="/"?kV:OV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ea(n,LV)),t.join("")};function Tn(t){return new Kr(t)}function vl(t,e,n){t.j=n?Xo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xC(t,e,n){e instanceof ca?(t.i=e,VV(t.i,t.h)):(n||(e=ea(e,FV)),t.i=new ca(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function Ol(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ea(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PC=/[#\/\?@]/g,OV=/[#\?:]/g,kV=/[#\?]/g,FV=/[#\?@]/g,LV=/#/g;function ca(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rr(t){t.g||(t.g=new Map,t.h=0,t.i&&xV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=ca.prototype;v.add=function(t,e){rr(this),this.i=null,t=ps(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function p0(t,e){rr(t),e=ps(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function g0(t,e){return rr(t),e=ps(t,e),t.g.has(e)}v.forEach=function(t,e){rr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){rr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){rr(this);let e=[];if(typeof t=="string")g0(this,t)&&(e=e.concat(this.g.get(ps(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return rr(this),this.i=null,t=ps(this,t),g0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function m0(t,e,n){p0(t,e),0<n.length&&(t.i=null,t.g.set(ps(t,e),um(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ps(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VV(t,e){e&&!t.j&&(rr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(p0(this,r),m0(this,i,n))},t)),t.j=e}var UV=class{constructor(t,e){this.g=t,this.map=e}};function y0(t){this.l=t||jV,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jV=10;function v0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _0(t){return t.h?1:t.g?t.g.size:0}function sm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Dm(t,e){t.g?t.g.add(e):t.h=e}function I0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}y0.prototype.cancel=function(){if(this.i=w0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function w0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return um(t.i)}var BV=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function $V(){this.g=new BV}function HV(t,e,n){let r=n||"";try{h0(t,function(i,s){let o=i;la(i)&&(o=mm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qV(t,e){let n=new Rl;if(k.Image){let r=new Image;r.onload=dl(ml,n,r,"TestLoadImage: loaded",!0,e),r.onerror=dl(ml,n,r,"TestLoadImage: error",!1,e),r.onabort=dl(ml,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=dl(ml,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ml(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ma(t){this.l=t.ec||null,this.j=t.ob||!1}Re(ma,Im);ma.prototype.g=function(){return new kl(this.l,this.j)};ma.prototype.i=function(t){return function(){return t}}({});function kl(t,e){Ae.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Re(kl,Ae);var Cm=0;v=kl.prototype;v.open=function(t,e){if(this.readyState!=Cm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ua(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=Cm};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function E0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ya(this):ua(this),this.readyState==3&&E0(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,ya(this))};v.Ya=function(t){this.g&&(this.response=t,ya(this))};v.ka=function(){this.g&&ya(this)};function ya(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ua(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zV=k.JSON.parse;function le(t){Ae.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=D0,this.L=this.M=!1}Re(le,Ae);var D0="",GV=/^https?$/i,WV=["POST","PUT"];v=le.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tm.g(),this.C=this.u?NC(this.u):NC(tm),this.g.onreadystatechange=$e(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){OC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=UC(WV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{b0(this),0<this.B&&((this.L=KV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$e(this.ua,this)):this.A=_m(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){OC(this,s)}};function KV(t){return fs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof cm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Le(this,"timeout"),this.abort(8))};function OC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,C0(t),Fl(t)}function C0(t){t.F||(t.F=!0,Le(t,"complete"),Le(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Le(this,"complete"),Le(this,"abort"),Fl(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fl(this,!0)),le.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?T0(this):this.kb())};v.kb=function(){T0(this)};function T0(t){if(t.h&&typeof cm<"u"&&(!t.C[1]||Xt(t)!=4||t.da()!=2)){if(t.v&&Xt(t)==4)_m(t.La,0,t);else if(Le(t,"readystatechange"),Xt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(f0)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!GV.test(i?i.toLowerCase():"")}n=r}if(n)Le(t,"complete"),Le(t,"success");else{t.m=6;try{var s=2<Xt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",C0(t)}}finally{Fl(t)}}}}function Fl(t,e){if(t.g){b0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Le(t,"ready");try{n.onreadystatechange=r}catch{}}}function b0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Xt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zV(e)}};function kC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case D0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QV(t){let e={};t=(t.g&&2<=Xt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(na(t[r]))continue;var n=wV(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}yV(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function S0(t){let e="";return dm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Tm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=S0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function Jo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function A0(t){this.Ga=0,this.j=[],this.l=new Rl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jo("baseRetryDelayMs",5e3,t),this.hb=Jo("retryDelaySeedMs",1e4,t),this.eb=Jo("forwardChannelMaxRetries",2,t),this.xa=Jo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new y0(t&&t.concurrentRequestLimit),this.Ja=new $V,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=A0.prototype;v.ra=8;v.H=1;function bm(t){if(R0(t),t.H==3){var e=t.W++,n=Tn(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),va(t,n),e=new pa(t,t.l,e),e.L=2,e.A=Ol(Tn(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=L0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ga(e)}k0(t)}function Ll(t){t.g&&(Am(t),t.g.cancel(),t.g=null)}function R0(t){Ll(t),t.u&&(k.clearTimeout(t.u),t.u=null),Il(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Vl(t){if(!v0(t.i)&&!t.m){t.m=!0;var e=t.Na;ia||JC(),sa||(ia(),sa=!0),ym.add(e,t),t.C=0}}function YV(t,e){return _0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ha($e(t.Na,t,e),O0(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new pa(this,this.l,t),s=this.s;if(this.U&&(s?(s=HC(s),qC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=M0(this,i,e),n=Tn(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),va(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(S0(s)))+"&"+e:this.o&&Tm(n,this.o,s)),Dm(this.i,i),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),i.aa=!0,rm(i,n,null)):rm(i,n,e),this.H=2}}else this.H==3&&(t?FC(this,t):this.j.length==0||v0(this.i)||FC(this))};function FC(t,e){var n;e?n=e.m:n=t.W++;let r=Tn(t.I);ae(r,"SID",t.K),ae(r,"RID",n),ae(r,"AID",t.V),va(t,r),t.o&&t.s&&Tm(r,t.o,t.s),n=new pa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=M0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Dm(t.i,n),rm(n,r,e)}function va(t,e){t.na&&dm(t.na,function(n,r){ae(e,r,n)}),t.h&&h0({},function(n,r){ae(e,r,n)})}function M0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$e(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{HV(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function N0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ia||JC(),sa||(ia(),sa=!0),ym.add(e,t),t.A=0}}function Sm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ha($e(t.Ma,t),O0(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,x0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ha($e(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ye(10),Ll(this),x0(this))};function Am(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function x0(t){t.g=new pa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Tn(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),va(t,e),t.o&&t.s&&Tm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ol(Tn(e)),n.u=null,n.S=!0,c0(n,t)}v.ib=function(){this.v!=null&&(this.v=null,Ll(this),Sm(this),Ye(19))};function Il(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function P0(t,e){var n=null;if(t.g==e){Il(t),Am(t),t.g=null;var r=2}else if(sm(t.i,e))n=e.F,I0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ml(),Le(r,new r0(r,n)),Vl(t)}else N0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&YV(t,e)||r==2&&Sm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wr(t,5);break;case 4:Wr(t,10);break;case 3:Wr(t,6);break;default:Wr(t,2)}}}function O0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$e(t.pb,t);n||(n=new Kr("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||vl(n,"https"),Ol(n)),qV(n.toString(),r)}else Ye(2);t.H=0,t.h&&t.h.za(e),k0(t),R0(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ye(2)):(this.l.info("Failed to ping google.com"),Ye(1))};function k0(t){if(t.H=0,t.ma=[],t.h){let e=w0(t.i);(e.length!=0||t.j.length!=0)&&(SC(t.ma,e),SC(t.ma,t.j),t.i.i.length=0,um(t.j),t.j.length=0),t.h.ya()}}function F0(t,e,n){var r=n instanceof Kr?Tn(n):new Kr(n);if(r.g!="")e&&(r.g=e+"."+r.g),_l(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Kr(null);r&&vl(s,r),e&&(s.g=e),i&&_l(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ae(r,n,e),ae(r,"VER",t.ra),va(t,r),r}function L0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new le(new ma({ob:n})):new le(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function V0(){}v=V0.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function wl(){if(fs&&!(10<=Number(fV)))throw Error("Environmental error: no available transport.")}wl.prototype.g=function(t,e){return new ht(t,e)};function ht(t,e){Ae.call(this),this.g=new A0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!na(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!na(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gs(this)}Re(ht,Ae);ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ye(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=F0(t,null,t.Y),Vl(t)};ht.prototype.close=function(){bm(this.g)};ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=mm(t),t=n);e.j.push(new UV(e.fb++,t)),e.H==3&&Vl(e)};ht.prototype.N=function(){this.g.h=null,delete this.j,bm(this.g),delete this.g,ht.$.N.call(this)};function U0(t){wm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Re(U0,wm);function j0(){Em.call(this),this.status=1}Re(j0,Em);function gs(t){this.g=t}Re(gs,V0);gs.prototype.Ba=function(){Le(this.g,"a")};gs.prototype.Aa=function(t){Le(this.g,new U0(t))};gs.prototype.za=function(t){Le(this.g,new j0)};gs.prototype.ya=function(){Le(this.g,"b")};function JV(){this.blockSize=-1}function Vt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Re(Vt,JV);Vt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Vt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)zg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zg(this,r),i=0;break}}this.h=i,this.i+=e};Vt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var ZV={};function Rm(t){return-128<=t&&128>t?lV(t,function(e){return new te([e|0],0>e?-1:0)}):new te([t|0],0>t?-1:0)}function en(t){if(isNaN(t)||!isFinite(t))return hs;if(0>t)return Fe(en(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=om;return new te(e,0)}function B0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fe(B0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=en(Math.pow(e,8)),r=hs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=en(Math.pow(e,s)),r=r.R(s).add(en(o))):(r=r.R(n),r=r.add(en(o)))}return r}var om=4294967296,hs=Rm(0),am=Rm(1),LC=Rm(16777216);v=te.prototype;v.ea=function(){if(bt(this))return-Fe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:om+r)*e,e*=om}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Cn(this))return"0";if(bt(this))return"-"+Fe(this).toString(t);for(var e=en(Math.pow(t,6)),n=this,r="";;){var i=Dl(n,e).g;n=El(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Cn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Cn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bt(t){return t.h==-1}v.X=function(t){return t=El(this,t),bt(t)?-1:Cn(t)?0:1};function Fe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new te(n,~t.h).add(am)}v.abs=function(){return bt(this)?Fe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new te(n,n[n.length-1]&-2147483648?-1:0)};function El(t,e){return t.add(Fe(e))}v.R=function(t){if(Cn(this)||Cn(t))return hs;if(bt(this))return bt(t)?Fe(this).R(Fe(t)):Fe(Fe(this).R(t));if(bt(t))return Fe(this.R(Fe(t)));if(0>this.X(LC)&&0>t.X(LC))return en(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,yl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,yl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,yl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,yl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new te(n,0)};function yl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zo(t,e){this.g=t,this.h=e}function Dl(t,e){if(Cn(e))throw Error("division by zero");if(Cn(t))return new Zo(hs,hs);if(bt(t))return e=Dl(Fe(t),e),new Zo(Fe(e.g),Fe(e.h));if(bt(e))return e=Dl(t,Fe(e)),new Zo(Fe(e.g),e.h);if(30<t.g.length){if(bt(t)||bt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=am,r=e;0>=r.X(t);)n=VC(n),r=VC(r);var i=ls(n,1),s=ls(r,1);for(r=ls(r,2),n=ls(n,2);!Cn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ls(r,1),n=ls(n,1)}return e=El(t,i.R(e)),new Zo(i,e)}for(i=hs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=en(n),o=s.R(e);bt(o)||0<o.X(t);)n-=r,s=en(n),o=s.R(e);Cn(s)&&(s=am),i=i.add(s),t=El(t,o)}return new Zo(i,t)}v.gb=function(t){return Dl(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new te(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new te(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new te(n,this.h^t.h)};function VC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new te(n,t.h)}function ls(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new te(i,t.h)}wl.prototype.createWebChannel=wl.prototype.g;ht.prototype.send=ht.prototype.u;ht.prototype.open=ht.prototype.m;ht.prototype.close=ht.prototype.close;Nl.NO_ERROR=0;Nl.TIMEOUT=8;Nl.HTTP_ERROR=6;i0.COMPLETE="complete";s0.EventType=fa;fa.OPEN="a";fa.CLOSE="b";fa.ERROR="c";fa.MESSAGE="d";Ae.prototype.listen=Ae.prototype.O;le.prototype.listenOnce=le.prototype.P;le.prototype.getLastError=le.prototype.Sa;le.prototype.getLastErrorCode=le.prototype.Ia;le.prototype.getStatus=le.prototype.da;le.prototype.getResponseJson=le.prototype.Wa;le.prototype.getResponseText=le.prototype.ja;le.prototype.send=le.prototype.ha;le.prototype.setWithCredentials=le.prototype.Oa;Vt.prototype.digest=Vt.prototype.l;Vt.prototype.reset=Vt.prototype.reset;Vt.prototype.update=Vt.prototype.j;te.prototype.add=te.prototype.add;te.prototype.multiply=te.prototype.R;te.prototype.modulo=te.prototype.gb;te.prototype.compare=te.prototype.X;te.prototype.toNumber=te.prototype.ea;te.prototype.toString=te.prototype.toString;te.prototype.getBits=te.prototype.D;te.fromNumber=en;te.fromString=B0;var $0=Ut.createWebChannelTransport=function(){return new wl},H0=Ut.getStatEventTarget=function(){return Ml()},Ul=Ut.ErrorCode=Nl,q0=Ut.EventType=i0,z0=Ut.Event=Qr,Mm=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},G0=Ut.FetchXmlHttpFactory=ma,_a=Ut.WebChannel=s0,W0=Ut.XhrIo=le,XV=Ut.Md5=Vt,K0=Ut.Integer=te;var Q0="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var Ps="10.11.1";var Xr=new Qn("@firebase/firestore");function Ia(){return Xr.logLevel}function T(t,...e){if(Xr.logLevel<=G.DEBUG){let n=e.map(Jy);Xr.debug(`Firestore (${Ps}): ${t}`,...n)}}function ei(t,...e){if(Xr.logLevel<=G.ERROR){let n=e.map(Jy);Xr.error(`Firestore (${Ps}): ${t}`,...n)}}function zl(t,...e){if(Xr.logLevel<=G.WARN){let n=e.map(Jy);Xr.warn(`Firestore (${Ps}): ${t}`,...n)}}function Jy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function xe(t,e){t||W()}function ce(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=class extends dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Om=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Me.UNAUTHENTICATED))}shutdown(){}},km=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fm=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Gl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Me(e)}},Lm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Lm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Um=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new Um(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function eU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=eU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function _s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ge=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ge(0,0))}static max(){return new t(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ie=class t extends Kl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new M(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},tU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ft=class t extends Kl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return tU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new M(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new M(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new M(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ie.fromString(e))}static fromName(e){return new t(Ie.fromString(e).popFirst(5))}static empty(){return new t(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ie(e.slice()))}};var Bm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Bm.UNKNOWN_ID=-1;function nU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new ti(i,B.empty(),e)}function rU(t){return new ti(t.readTime,t.key,-1)}var ti=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),B.empty(),-1)}static max(){return new t(fe.max(),B.empty(),-1)}};function iU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var sU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$m=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gT(t){return f(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==sU)throw t;T("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function oU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}var aU=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Zy(t){return t==null}function ba(t){return t===0&&1/t==-1/0}function cU(t){return typeof t=="number"&&Number.isInteger(t)&&!ba(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],V9=[...uU,"documentOverlays"],lU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dU=lU,U9=[...dU,"indexConfiguration","indexState","indexEntries"];function Y0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ma(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var pt=class t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}},ys=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ql=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class t{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(ft.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Hm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var sr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};sr.EMPTY_BYTE_STRING=new sr("");var hU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(xe(!!t),typeof t=="string"){let e=0,n=hU.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}function Xy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yT(t){let e=t.mapValue.fields.__previous_value__;return Xy(e)?yT(e):e}function Yl(t){let e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}var qm=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},zm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:vT(t)?9007199254740991:10:W()}function on(t,e){if(t===e)return!0;let n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=or(i.timestampValue),a=or(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Is(i.bytesValue).isEqual(Is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),a=be(s.doubleValue);return o===a?ba(o)===ba(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _s(t.arrayValue.values||[],e.arrayValue.values||[],on);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Y0(o)!==Y0(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!on(o[c],a[c])))return!1;return!0}(t,e);default:return W()}}function Sa(t,e){return(t.values||[]).find(n=>on(n,e))!==void 0}function Es(t,e){if(t===e)return 0;let n=ws(t),r=ws(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=be(s.integerValue||s.doubleValue),c=be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return J0(t.timestampValue,e.timestampValue);case 4:return J0(Yl(t),Yl(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Is(s),c=Is(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=se(a[u],c[u]);if(l!==0)return l}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=se(be(s.latitude),be(o.latitude));return a!==0?a:se(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Es(a[u],c[u]);if(l)return l}return se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jl.mapValue&&o===jl.mapValue)return 0;if(s===jl.mapValue)return 1;if(o===jl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=se(c[d],l[d]);if(h!==0)return h;let p=Es(a[c[d]],u[l[d]]);if(p!==0)return p}return se(c.length,l.length)}(t.mapValue,e.mapValue);default:throw W()}}function J0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=or(t),r=or(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Ds(t){return Gm(t)}function Gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Gm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Gm(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function Wm(t){return!!t&&"integerValue"in t}function ev(t){return!!t&&"arrayValue"in t}function Hl(t){return!!t&&"mapValue"in t}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ea(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return on(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ma(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ea(this.value))}};function _T(t){let e=[];return Ma(t.fields,(n,r)=>{let i=new ft([n]);if(Hl(r)){let s=_T(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}var Cs=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ts=class{constructor(e,n){this.position=e,this.inclusive=n}};function Z0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!on(t.position[n],e.position[n]))return!1;return!0}var bs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function fU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jl=class{},Ne=class t extends Jl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qm(e,n,r):n==="array-contains"?new Zm(e,r):n==="in"?new Xm(e,r):n==="not-in"?new ey(e,r):n==="array-contains-any"?new ty(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ym(e,r):new Jm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ar=class t extends Jl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return IT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function IT(t){return t.op==="and"}function wT(t){return pU(t)&&IT(t)}function pU(t){for(let e of t.filters)if(e instanceof ar)return!1;return!0}function Km(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Ds(t.value);if(wT(t))return t.filters.map(e=>Km(e)).join(",");{let e=t.filters.map(n=>Km(n)).join(",");return`${t.op}(${e})`}}function ET(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&on(r.value,i.value)}(t,e):t instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ET(o,i.filters[a]),!0):!1}(t,e):void W()}function DT(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Ds(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(t):"Filter"}var Qm=class extends Ne{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},Ym=class extends Ne{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jm=class extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function CT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var Zm=class extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ev(n)&&Sa(n.arrayValue,this.value)}},Xm=class extends Ne{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Sa(this.value.arrayValue,n)}},ey=class extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Sa(this.value.arrayValue,n)}},ty=class extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sa(this.value.arrayValue,r))}};var ny=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function eT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ny(t,e,n,r,i,s,o)}function tv(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ds(r)).join(",")),e.ue=n}return e.ue}function nv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ET(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X0(t.startAt,e.startAt)&&X0(t.endAt,e.endAt)}var Ss=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function gU(t,e,n,r,i,s,o,a){return new Ss(t,e,n,r,i,s,o,a)}function mU(t){return new Ss(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yU(t){return t.collectionGroup!==null}function Da(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(ft.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new bs(s,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new bs(ft.keyField(),r))}return e.ce}function Jr(t){let e=ce(t);return e.le||(e.le=vU(e,Da(t))),e.le}function vU(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new bs(i.field,s)});let n=t.endAt?new Ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ts(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ry(t,e,n){return new Ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function TT(t,e){return nv(Jr(t),Jr(e))&&t.limitType===e.limitType}function bT(t){return`${tv(Jr(t))}|lt:${t.limitType}`}function wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DT(i)).join(", ")}]`),Zy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ds(i)).join(",")),`Target(${r})`}(Jr(t))}; limitType=${t.limitType})`}function rv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):B.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Da(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=Z0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Da(r),i)||r.endAt&&!function(o,a,c){let u=Z0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Da(r),i))}(t,e)}function _U(t){return(e,n)=>{let r=!1;for(let i of Da(t)){let s=IU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IU(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Es(c,u):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}};var wU=new pt(B.comparator);function Zl(){return wU}var ST=new pt(B.comparator);function Bl(...t){let e=ST;for(let n of t)e=e.insert(n.key,n);return e}function AT(t){let e=ST;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return Ca()}function RT(){return Ca()}function Ca(){return new cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var EU=new pt(B.comparator),DU=new Je(B.comparator);function ze(...t){let e=DU;for(let n of t)e=e.add(n);return e}var CU=new Je(se);function TU(){return CU}function MT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ba(e)?"-0":e}}function NT(t){return{integerValue:""+t}}function bU(t,e){return cU(e)?NT(e):MT(t,e)}var As=class{constructor(){this._=void 0}};function SU(t,e,n){return t instanceof Rs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xy(s)&&(s=yT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ni?PT(t,e):t instanceof ri?OT(t,e):function(i,s){let o=xT(i,s),a=nT(o)+nT(i.Pe);return Wm(o)&&Wm(i.Pe)?NT(a):MT(i.serializer,a)}(t,e)}function AU(t,e,n){return t instanceof ni?PT(t,e):t instanceof ri?OT(t,e):n}function xT(t,e){return t instanceof Ms?function(r){return Wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Rs=class extends As{},ni=class extends As{constructor(e){super(),this.elements=e}};function PT(t,e){let n=kT(e);for(let r of t.elements)n.some(i=>on(i,r))||n.push(r);return{arrayValue:{values:n}}}var ri=class extends As{constructor(e){super(),this.elements=e}};function OT(t,e){let n=kT(e);for(let r of t.elements)n=n.filter(i=>!on(i,r));return{arrayValue:{values:n}}}var Ms=class extends As{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function nT(t){return be(t.integerValue||t.doubleValue)}function kT(t){return ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function RU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ni&&i instanceof ni||r instanceof ri&&i instanceof ri?_s(r.elements,i.elements,on):r instanceof Ms&&i instanceof Ms?on(r.Pe,i.Pe):r instanceof Rs&&i instanceof Rs}(t.transform,e.transform)}var iy=class{constructor(e,n){this.version=e,this.transformResults=n}},Zr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ns=class{};function FT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xl(t.key,Zr.none()):new ii(t.key,t.data,Zr.none());{let n=t.data,r=nn.empty(),i=new Je(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new An(t.key,r,new rn(i.toArray()),Zr.none())}}function MU(t,e,n){t instanceof ii?function(i,s,o){let a=i.value.clone(),c=iT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof An?function(i,s,o){if(!ql(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=iT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(LT(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ta(t,e,n,r){return t instanceof ii?function(s,o,a,c){if(!ql(s.precondition,o))return a;let u=s.value.clone(),l=sT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof An?function(s,o,a,c){if(!ql(s.precondition,o))return a;let u=sT(s.fieldTransforms,c,o),l=o.data;return l.setAll(LT(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return ql(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function NU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=xT(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function rT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_s(r,i,(s,o)=>RU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ii=class extends Ns{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},An=class extends Ns{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function LT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function iT(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,AU(o,a,n[i]))}return r}function sT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,SU(s,o,e))}return r}var Xl=class extends Ns{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sy=class extends Ns{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var oy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&MU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=RT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=FT(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(n,r)=>rT(n,r))&&_s(this.baseMutations,e.baseMutations,(n,r)=>rT(n,r))}},ay=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return EU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var cy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ve,Y;function xU(t){switch(t){default:return W();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function PU(t){if(t===void 0)return ei("GRPC error has no .code"),g.UNKNOWN;switch(t){case ve.OK:return g.OK;case ve.CANCELLED:return g.CANCELLED;case ve.UNKNOWN:return g.UNKNOWN;case ve.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case ve.INTERNAL:return g.INTERNAL;case ve.UNAVAILABLE:return g.UNAVAILABLE;case ve.UNAUTHENTICATED:return g.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case ve.NOT_FOUND:return g.NOT_FOUND;case ve.ALREADY_EXISTS:return g.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return g.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case ve.ABORTED:return g.ABORTED;case ve.OUT_OF_RANGE:return g.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return g.UNIMPLEMENTED;case ve.DATA_LOSS:return g.DATA_LOSS;default:return W()}}(Y=ve||(ve={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var B9=new K0([4294967295,4294967295],0);var uy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ly(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kU(t,e){return ly(t,e.toTimestamp())}function vs(t){return xe(!!t),fe.fromTimestamp(function(n){let r=or(n);return new Ge(r.seconds,r.nanos)}(t))}function VT(t,e){return dy(t,e).canonicalString()}function dy(t,e){let n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FU(t){let e=Ie.fromString(t);return xe(qU(e)),e}function hy(t,e){return VT(t.databaseId,e.path)}function LU(t){let e=FU(t);return e.length===4?Ie.emptyPath():UU(e)}function VU(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UU(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oT(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function jU(t,e){let n;if(e instanceof ii)n={update:oT(t,e.key,e.value)};else if(e instanceof Xl)n={delete:hy(t,e.key)};else if(e instanceof An)n={update:oT(t,e.key,e.data),updateMask:HU(e.fieldMask)};else{if(!(e instanceof sy))return W();n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Rs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ni)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ri)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ms)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()}(t,e.precondition)),n}function BU(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vs(i.updateTime):vs(s);return o.isEqual(fe.min())&&(o=vs(s)),new iy(o,i.transformResults||[])}(n,e))):[]}function $U(t){let e=LU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=UT(d);return h instanceof ar&&wT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new bs(ms(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Zy(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Ts(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new Ts(p,h)}(n.endAt)),gU(e,i,o,s,a,"F",c,u)}function UT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ms(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ms(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ms(n.unaryFilter.field);return Ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ms(n.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>UT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function ms(t){return ft.fromServerFormat(t.fieldPath)}function HU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fy=class{constructor(e){this.ut=e}};function zU(t){let e=$U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ry(e,e.limit,"L"):e}var ed=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),ba(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=or(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Is(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?vT(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):W()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),B.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};ed.St=new ed;var py=class{constructor(){this.on=new gy}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(ti.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},gy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ie.comparator)).toArray()}};var $9=new Uint8Array(0);var tn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var Aa=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var my=class{constructor(){this.changes=new cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ta(r.mutation,i,rn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){let i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Bl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zl(),o=Ca(),a=function(){return Ca()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof An)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Ta(l.mutation,u,l.mutation.getFieldMask(),Ge.now())):o.set(u.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new yy(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ca(),i=new pt((o,a)=>o-a),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||rn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ze()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=RT();l.forEach(h=>{if(!s.has(h)){let p=FT(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Yr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ze())).next(l=>({batchId:a,changes:AT(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Bl();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Ss(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Cs.newInvalidDocument(l)))});let a=Bl();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Ta(l.mutation,u,rn.empty(),Ge.now()),rv(n,u)&&(a=a.insert(c,u))}),a})}};var _y=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vs(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:zU(i.bundledQuery),readTime:vs(i.readTime)}}(n)),y.resolve()}};var Iy=class{constructor(){this.overlays=new pt(B.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Yr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Yr(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Yr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Yr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cy(n,r));let s=this.lr.get(n);s===void 0&&(s=ze(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Ra=class{constructor(){this.hr=new Je(_e.Pr),this.Ir=new Je(_e.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new _e(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _e(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new B(new Ie([])),r=new _e(n,e),i=new _e(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new B(new Ie([])),r=new _e(n,e),i=new _e(n,e+1),s=ze();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new _e(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},_e=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return B.comparator(e.key,n.key)||se(e.gr,n.gr)}static Tr(e,n){return se(e.gr,n.gr)||B.comparator(e.key,n.key)}};var wy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Je(_e.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new oy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new _e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new _e(n,0),i=new _e(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(se);return n.forEach(i=>{let s=new _e(i,0),o=new _e(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;B.isDocumentKey(s)||(s=s.child(""));let o=new _e(new B(s),0),a=new Je(se);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{let s=new _e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new _e(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ey=class{constructor(e){this.Cr=e,this.docs=function(){return new pt(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Cs.newInvalidDocument(n))}getEntries(e,n){let r=Zl();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cs.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zl(),o=n.path,a=new B(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||iU(rU(l),r)<=0||(i.has(l.key)||rv(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dy(this)}getSize(e){return y.resolve(this.size)}},Dy=class extends my{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Cy=class{constructor(e){this.persistence=e,this.Fr=new cr(n=>tv(n),nv),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ra,this.targetCount=0,this.Nr=Aa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var Ty=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new aU(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Cy(this),this.indexManager=new py,this.remoteDocumentCache=function(i){return new Ey(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new fy(n),this.Kr=new _y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Iy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new wy(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);let i=new by(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},by=class extends $m{constructor(e){super(),this.currentSequenceNumber=e}},Sy=class t{constructor(e){this.persistence=e,this.Gr=new Ra,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{let i=B.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Ay=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ze(),i=ze();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ry=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var My=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return cD()?8:oU(Ce())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ry;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ia()<=G.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(Ia()<=G.DEBUG&&T("QueryEngine","Query:",wa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ia()<=G.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):y.resolve())}zi(e,n){if(tT(n))return y.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ry(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ze(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,ry(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return tT(n)||i.isEqual(fe.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?y.resolve(null):(Ia()<=G.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wa(n)),this.Xi(e,o,n,nU(i,-1)).next(a=>a))})}Yi(e,n){let r=new Je(_U(e));return n.forEach((i,s)=>{rv(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Ia()<=G.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",wa(n)),this.Gi.getDocumentsMatchingQuery(e,n,ti.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ny=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new pt(se),this.ns=new cr(s=>tv(s),nv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function GU(t,e,n,r){return new Ny(t,e,n,r)}function jT(t,e){return f(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ze();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function WU(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(I=>{let b=u.docVersions.get(m);xe(b!==null),I.version.compareTo(b)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ze();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KU(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function QU(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var td=class{constructor(){this.activeTargetIds=TU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xy=class{constructor(){this.eo=new td,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new td,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Py=class{ro(e){}shutdown(){}};var nd=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $l=null;function Nm(){return $l===null?$l=function(){return 268435456+Math.round(2147483648*Math.random())}():$l++,"0x"+$l.toString(16)}var YU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Oy=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var qe="WebChannelConnection",ky=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=Nm(),c=this.Co(n,r.toUriEncodedString());T("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(T("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw zl("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=YU[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=Nm();return new Promise((o,a)=>{let c=new W0;c.setWithCredentials(!0),c.listenOnce(q0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ul.NO_ERROR:let l=c.getResponseJson();T(qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Ul.TIMEOUT:T(qe,`RPC '${e}' ${s} timed out`),a(new M(g.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:let d=c.getStatus();if(T(qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let m=function(b){let R=b.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(R)>=0?R:g.UNKNOWN}(p.status);a(new M(m,p.message))}else a(new M(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new M(g.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{T(qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);T(qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=Nm(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$0(),a=H0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new G0({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");T(qe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,m=new Oy({co:b=>{p?T(qe,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(T(qe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(qe,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},lo:()=>d.close()}),I=(b,R,oe)=>{b.listen(R,re=>{try{oe(re)}catch(pe){setTimeout(()=>{throw pe},0)}})};return I(d,_a.EventType.OPEN,()=>{p||(T(qe,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),I(d,_a.EventType.CLOSE,()=>{p||(p=!0,T(qe,`RPC '${e}' stream ${i} transport closed`),m.fo())}),I(d,_a.EventType.ERROR,b=>{p||(p=!0,zl(qe,`RPC '${e}' stream ${i} transport errored:`,b),m.fo(new M(g.UNAVAILABLE,"The operation could not be completed")))}),I(d,_a.EventType.MESSAGE,b=>{var R;if(!p){let oe=b.data[0];xe(!!oe);let re=oe,pe=re.error||((R=re[0])===null||R===void 0?void 0:R.error);if(pe){T(qe,`RPC '${e}' stream ${i} received error:`,pe);let gt=pe.status,we=function(dr){let ai=ve[dr];if(ai!==void 0)return PU(ai)}(gt),mt=pe.message;we===void 0&&(we=g.INTERNAL,mt="Unknown error status: "+gt+" with message "+pe.message),p=!0,m.fo(new M(we,mt)),d.close()}else T(qe,`RPC '${e}' stream ${i} received:`,oe),m.po(oe)}}),I(a,z0.STAT_EVENT,b=>{b.stat===Mm.PROXY?T(qe,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Mm.NOPROXY&&T(qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}};function xm(){return typeof document<"u"?document:null}function fd(t){return new uy(t,!0)}var rd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Fy=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new rd(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return f(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return f(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return f(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new M(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>f(this,null,function*(){this.state=0,this.start()}))}u_(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Ly=class extends Fy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=BU(e.writeResults,e.commitTime),r=vs(e.commitTime);return this.listener.d_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=VU(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>jU(this.serializer,r))};this.r_(n)}};var Vy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new M(g.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,dy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(g.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,dy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(g.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var Uy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ei(n),this.y_=!1):T("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var jy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>f(this,null,function*(){xa(this)&&(T("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=ce(c);u.M_.add(4),yield Na(u),u.N_.set("Unknown"),u.M_.delete(4),yield pd(u)})}(this))}))}),this.N_=new Uy(r,i)}};function pd(t){return f(this,null,function*(){if(xa(t))for(let e of t.x_)yield e(!0)})}function Na(t){return f(this,null,function*(){for(let e of t.x_)yield e(!1)})}function xa(t){return ce(t).M_.size===0}function BT(t,e,n){return f(this,null,function*(){if(!hd(e))throw e;t.M_.add(1),yield Na(t),t.N_.set("Offline"),n||(n=()=>KU(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield pd(t)}))})}function $T(t,e){return e().catch(n=>BT(t,n,e))}function gd(t){return f(this,null,function*(){let e=ce(t),n=ur(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;JU(e);)try{let i=yield QU(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,ZU(e,i)}catch(i){yield BT(e,i)}HT(e)&&qT(e)})}function JU(t){return xa(t)&&t.v_.length<10}function ZU(t,e){t.v_.push(e);let n=ur(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function HT(t){return xa(t)&&!ur(t).Yo()&&t.v_.length>0}function qT(t){ur(t).start()}function XU(t){return f(this,null,function*(){ur(t).R_()})}function ej(t){return f(this,null,function*(){let e=ur(t);for(let n of t.v_)e.E_(n.mutations)})}function tj(t,e,n){return f(this,null,function*(){let r=t.v_.shift(),i=ay.from(r,e,n);yield $T(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gd(t)})}function nj(t,e){return f(this,null,function*(){e&&ur(t).T_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return xU(o)&&o!==g.ABORTED}(i.code)){let s=r.v_.shift();ur(r).e_(),yield $T(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield gd(r)}})}(t,e)),HT(t)&&qT(t)})}function aT(t,e){return f(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");let r=xa(n);n.M_.add(3),yield Na(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield pd(n)})}function rj(t,e){return f(this,null,function*(){let n=ce(t);e?(n.M_.delete(2),yield pd(n)):e||(n.M_.add(2),yield Na(n),n.N_.set("Unknown"))})}function ur(t){return t.k_||(t.k_=function(n,r,i){let s=ce(n);return s.m_(),new Ly(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:XU.bind(null,t),Eo:nj.bind(null,t),A_:ej.bind(null,t),d_:tj.bind(null,t)}),t.x_.push(e=>f(this,null,function*(){e?(t.k_.e_(),yield gd(t)):(yield t.k_.stop(),t.v_.length>0&&(T("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var By=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zT(t,e){if(ei("AsyncQueue",`${e}: ${t}`),hd(t))return new M(g.UNAVAILABLE,`${e}: ${t}`);throw t}var $y=class{constructor(){this.queries=new cr(e=>bT(e),TT),this.onlineState="Unknown",this.z_=new Set}};function ij(t){t.z_.forEach(e=>{e.next()})}var cT,uT;(uT=cT||(cT={})).J_="default",uT.Cache="cache";var Hy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new cr(a=>bT(a),TT),this.Da=new Map,this.Ca=new Set,this.va=new pt(B.comparator),this.Fa=new Map,this.Ma=new Ra,this.xa={},this.Oa=new Map,this.Na=Aa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function sj(t,e,n){return f(this,null,function*(){let r=uj(t);try{let i=yield function(o,a){let c=ce(o),u=Ge.now(),l=a.reduce((p,m)=>p.add(m.key),ze()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Zl(),I=ze();return c.ss.getEntries(p,l).next(b=>{m=b,m.forEach((R,oe)=>{oe.isValidDocument()||(I=I.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(b=>{d=b;let R=[];for(let oe of a){let re=NU(oe,d.get(oe.key).overlayedDocument);re!=null&&R.push(new An(oe.key,re,_T(re.value.mapValue),Zr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,R,a)}).next(b=>{h=b;let R=b.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(p,b.batchId,R)})}).then(()=>({batchId:h.batchId,changes:AT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new pt(se)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield md(r,i.changes),yield gd(r.remoteStore)}catch(i){let s=zT(i,"Failed to persist write");n.reject(s)}})}function lT(t,e,n){let r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ce(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&ij(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oj(t,e){return f(this,null,function*(){let n=ce(t),r=e.batch.batchId;try{let i=yield WU(n.localStore,e);WT(n,r,null),GT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield md(n,i)}catch(i){yield gT(i)}})}function aj(t,e,n){return f(this,null,function*(){let r=ce(t);try{let i=yield function(o,a){let c=ce(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(xe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);WT(r,e,n),GT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield md(r,i)}catch(i){yield gT(i)}})}function GT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function WT(t,e,n){let r=ce(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function md(t,e,n){return f(this,null,function*(){let r=ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Ay.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return f(this,null,function*(){let l=ce(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.ki,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!hd(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ts.get(h),m=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(h,I)}}})}(r.localStore,s))})}function cj(t,e){return f(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());let r=yield jT(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new M(g.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(n,r._s)}})}function uj(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aj.bind(null,e),e}var id=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GU(this.persistence,new My,e.initialUser,this.serializer)}createPersistence(e){return new Ty(Sy.jr,this.serializer)}createSharedClientState(e){return new xy}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qy=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cj.bind(null,this.syncEngine),yield rj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new $y}()}createDatastore(e){let n=fd(e.databaseInfo.databaseId),r=function(s){return new ky(s)}(e.databaseInfo);return function(s,o,a,c){return new Vy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new jy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lT(this.syncEngine,n,0),function(){return nd.D()?new nd:new Py}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Hy(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=ce(r);T("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Na(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var zy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Me.UNAUTHENTICATED,this.clientId=Wl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){T("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=zT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Pm(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield jT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function dT(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield dj(t);T("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aT(e.remoteStore,i)),t._onlineComponents=e})}function lj(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function dj(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!lj(n))throw n;zl("Error using user provided cache. Falling back to memory cache: "+n),yield Pm(t,new id)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Pm(t,new id);return t._offlineComponents})}function hj(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield dT(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield dT(t,new qy))),t._onlineComponents})}function fj(t){return hj(t).then(e=>e.syncEngine)}function KT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var hT=new Map;function QT(t,e,n){if(!n)throw new M(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pj(t,e,n,r){if(e===!0&&r===!0)throw new M(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fT(t){if(!B.isDocumentKey(t))throw new M(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pT(t){if(B.isDocumentKey(t))throw new M(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function YT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=iv(t);throw new M(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var sd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new M(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Om;switch(r.type){case"firstParty":return new Vm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=hT.get(n);r&&(T("ComponentProvider","Removing Datastore"),hT.delete(n),r.terminate())}(this),Promise.resolve()}};function JT(t,e,n,r={}){var i;let s=(t=YT(t,xs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Me.MOCK_USER;else{a=rD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Me(u)}t._authCredentials=new km(new Gl(a,c))}}var Gy=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Sn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ir=class t extends Gy{constructor(e,n,r){super(e,n,mU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZT(t,e,...n){if(t=rt(t),QT("collection","path",e),t instanceof xs){let r=Ie.fromString(e,...n);return pT(r),new ir(t,null,r)}{if(!(t instanceof Sn||t instanceof ir))throw new M(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ie.fromString(e,...n));return pT(r),new ir(t.firestore,null,r)}}function XT(t,e,...n){if(t=rt(t),arguments.length===1&&(e=Wl.newId()),QT("doc","path",e),t instanceof xs){let r=Ie.fromString(e,...n);return fT(r),new Sn(t,null,new B(r))}{if(!(t instanceof Sn||t instanceof ir))throw new M(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ie.fromString(e,...n));return fT(r),new Sn(t.firestore,t instanceof ir?t.converter:null,new B(r))}}var Wy=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new rd(this,"async_queue_retry"),this.hu=()=>{let n=xm();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=xm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new bn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return f(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!hd(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=By.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&W()}verifyOperationInProgress(){}du(){return f(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var od=class extends xs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Wy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tb(this),this._firestoreClient.terminate()}};function eb(t,e){let n=typeof t=="object"?t:is(),r=typeof t=="string"?t:e||"(default)",i=jo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=nD("firestore");s&&JT(i,...s)}return i}function gj(t){return t._firestoreClient||tb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new qm(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,KT(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ad=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(sr.fromBase64String(e))}catch(n){throw new M(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ud=class{constructor(e){this._methodName=e}};var ld=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var mj=/^__.*__$/,Ky=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new An(e,this.data,this.fieldMask,n,this.fieldTransforms):new ii(e,this.data,n,this.fieldTransforms)}};function nb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var Qy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return dd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(nb(this.fu)&&mj.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}Fu(e,n,r,i=!1){return new Qy({fu:e,methodName:n,vu:r,path:ft.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yj(t){let e=t._freezeSettings(),n=fd(t._databaseId);return new Yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vj(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);ob("Data must be an object, but it was:",o,r);let a=ib(r,o),c,u;if(s.merge)c=new rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=_j(e,d,n);if(!o.contains(h))throw new M(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Ej(l,h)||l.push(h)}c=new rn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Ky(new nn(a),c,u)}function rb(t,e){if(sb(t=rt(t)))return ob("Unsupported field value:",e,t),ib(t,e);if(t instanceof ud)return function(r,i){if(!nb(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=rb(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ge.fromDate(r);return{timestampValue:ly(i.serializer,s)}}if(r instanceof Ge){let s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ly(i.serializer,s)}}if(r instanceof ld)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ad)return{bytesValue:OU(i.serializer,r._byteString)};if(r instanceof Sn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${iv(r)}`)}(t,e)}function ib(t,e){let n={};return mT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(t,(r,i)=>{let s=rb(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ld||t instanceof ad||t instanceof Sn||t instanceof ud)}function ob(t,e,n){if(!sb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=iv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function _j(t,e,n){if((e=rt(e))instanceof cd)return e._internalPath;if(typeof e=="string")return wj(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}var Ij=new RegExp("[~\\*/\\[\\]]");function wj(t,e,n){if(e.search(Ij)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cd(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new M(g.INVALID_ARGUMENT,a+t+c)}function Ej(t,e){return t.some(n=>n.isEqual(e))}function Dj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function ab(t,e){let n=YT(t.firestore,od),r=XT(t),i=Dj(t.converter,e);return Cj(n,[vj(yj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function Cj(t,e){return function(r,i){let s=new bn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return sj(yield fj(r),i,s)})),s.promise}(gj(t),e)}(function(e,n=!0){(function(i){Ps=i})(Zn),Jn(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new od(new Fm(r.getProvider("auth-internal")),new jm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new M(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zm(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(Q0,"4.6.1",e),Te(Q0,"4.6.1","esm2017")})();var si=class{constructor(e){return e}},cb="firestore",sv=class{constructor(){return Bo(cb)}};var ov=new N("angularfire2.firestore-instances");function Tj(t,e){let n=Hu(cb,t,e);return n&&new si(n)}function bj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new si(r)}}var Sj={provide:sv,deps:[[new et,ov]]},Aj={provide:si,useFactory:Tj,deps:[[new et,ov],vn]},Rj=(()=>{class t{constructor(){Te("angularfire",jr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tt({type:t});static \u0275inj=Xe({providers:[Aj,Sj]})}return t})();function ub(t,...e){return{ngModule:Rj,providers:[{provide:ov,useFactory:bj(t),multi:!0,deps:[ne,Et,as,Br,[new et,Yo],[new et,os],...e]}]}}var lb=Lt(ab,!0);var db=Lt(ZT,!0);var hb=Lt(eb,!0);var fb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=me({type:e,selectors:[["app-spinner"]],standalone:!0,features:[ye],decls:3,vars:0,consts:[["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"span",1),C(2,"Loading..."),D()())}});let t=e;return t})();var lr=(()=>{let e=class e{getUser(){return this.user}setUser(r,i){this.user.email=r,this.user.acceptedTerms=i}constructor(r){this.auth=r,this.user={email:"",acceptedTerms:!1}}obtenerUserRegistrado(){let r=this.auth.currentUser;return r?Promise.resolve(r):Promise.resolve(null)}registerUser(r,i){return DC(this.auth,r,i)}loginUser(r,i){return bC(this.auth,r,i)}resetPassword(r){return TC(this.auth,r)}logout(){return this.auth.signOut()}getUserLogged(){return this.auth.currentUser}getUserEmail(){let r=this.auth.currentUser;return r?r.email:null}};e.\u0275fac=function(i){return new(i||e)(U(zr))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nj(t,e){t&1&&(_(0,"span",19),C(1," EL "),_(2,"strong"),C(3,"correo"),D(),C(4," es requerido "),D())}function xj(t,e){t&1&&(_(0,"span",19),C(1," EL "),_(2,"strong"),C(3,"correo"),D(),C(4," es invalido "),D())}function Pj(t,e){t&1&&(_(0,"span",19),C(1," La "),_(2,"strong"),C(3,"contrase\xF1a"),D(),C(4," es requerida "),D())}function Oj(t,e){t&1&&(_(0,"span",19),C(1," La "),_(2,"strong"),C(3,"contrase\xF1a"),D(),C(4," Debe tener al menos 6 caracteres "),D())}function kj(t,e){if(t&1){let n=hw();_(0,"div",0)(1,"div",2),Z(2,"img",3),_(3,"h1",4),C(4,"Login"),D(),_(5,"form",5),Qe("ngSubmit",function(){Zs(n);let i=Ui();return Xs(i.login())}),_(6,"div",6),Z(7,"input",7),_(8,"label"),C(9,"Email"),D(),Rr(10,Nj,5,0,"span",8)(11,xj,5,0,"span",8),D(),_(12,"div",6),Z(13,"input",9),_(14,"label"),C(15,"Password"),D(),Rr(16,Pj,5,0,"span",8)(17,Oj,5,0,"span",8),D(),_(18,"div",10)(19,"button",11),C(20,"Ingresar"),D()(),_(21,"p",12),C(22,"No tienes cuenta? "),_(23,"a",13),C(24,"Registrar"),D()(),_(25,"div",14)(26,"div",15)(27,"button",16),Qe("click",function(){Zs(n);let i=Ui();return Xs(i.quickAccess("marcelo@gmail.com","123456"))}),C(28," MARCELO "),D(),_(29,"button",17),Qe("click",function(){Zs(n);let i=Ui();return Xs(i.quickAccess("pablo@gmail.com","123456"))}),C(30," PABLO "),D(),_(31,"button",18),Qe("click",function(){Zs(n);let i=Ui();return Xs(i.quickAccess("fernando@gmail.com","123456"))}),C(32," FERNANDO "),D()()()()()()}if(t&2){let n,r,i,s,o=Ui();kt(5),pn("formGroup",o.log),kt(5),pn("ngIf",((n=o.log.get("email"))==null?null:n.hasError("required"))&&((n=o.log.get("email"))==null?null:n.touched)),kt(),pn("ngIf",((r=o.log.get("email"))==null?null:r.hasError("email"))&&((r=o.log.get("email"))==null?null:r.touched)),kt(5),pn("ngIf",((i=o.log.get("password"))==null?null:i.hasError("required"))&&((i=o.log.get("password"))==null?null:i.touched)),kt(),pn("ngIf",((s=o.log.get("password"))==null?null:s.hasError("minlength"))&&((s=o.log.get("password"))==null?null:s.touched))}}function Fj(t,e){t&1&&(_(0,"div",1),Z(1,"app-spinner"),D())}var pb=(()=>{let e=class e{constructor(r,i,s,o){this.fire=r,this.authLogin=i,this.fb=s,this.router=o,this.loading=!1,this.loginsCollection=[],this.email="",this.password="",this.log=this.fb.group({email:["",mn.required],password:["",mn.required]})}login(){let r=this.log.value.email,i=new Date,s=this.log.value.password;this.loading=!0,console.log(r,i);let o=db(this.fire,"logins");lb(o,{email:r,fecha:i}),this.authLogin.loginUser(r,s).then(()=>this.router.navigate(["/home"])).catch(a=>{this.loading=!1}),console.log(r,s)}quickAccess(r,i){this.log.setValue({email:r,password:i})}};e.\u0275fac=function(i){return new(i||e)(O(si),O(lr),O(ku),O(lt))},e.\u0275cmp=me({type:e,selectors:[["app-login"]],standalone:!0,features:[ye],decls:2,vars:2,consts:[[1,"wrapper"],[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"body"],["src","../../../assets/img/login.png","alt","Login",1,"logo"],[2,"color","blanchedalmond"],[3,"ngSubmit","formGroup"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"mt-3",2,"color","blanchedalmond"],["routerLink","/registrar-usuario"],[1,"row"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],[1,"text-danger"]],template:function(i,s){i&1&&Rr(0,kj,33,5,"div",0)(1,Fj,2,0,"div",1),i&2&&(so(0,s.loading?-1:0),kt(),so(1,s.loading?1:-1))},dependencies:[co,Mw,Fu,Ou,es,Mu,Nu,ts,Oo,ko,fb,wu]});let t=e;return t})();var gb=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s,this.registrarUsuario=this.fb.group({email:["",mn.required],password:["",mn.required],repetirPassword:["",mn.required]})}ngOnInit(){}registrar(){let r=this.registrarUsuario.value.email,i=this.registrarUsuario.value.password,s=this.registrarUsuario.value.repetirPassword;this.authService.registerUser(r,i).then(()=>this.router.navigate(["/login"])).catch(o=>{console.error("Error registering user:",o)}),console.log(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(O(ku),O(lr),O(lt))},e.\u0275cmp=me({type:e,selectors:[["app-registrar-usuario"]],standalone:!0,features:[ye],decls:23,vars:1,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login.png","alt","Login",1,"logo"],[2,"color","blanchedalmond"],[3,"ngSubmit","formGroup"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","repetirPassword","placeholder","Repetir Password",1,"form-control"],[1,"d-grid","gap-2","mb-3"],["type","submit",1,"btn","btn-primary","btn-lg"],["href","/login",1,"mt-3"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"div",1),Z(2,"img",2),_(3,"h1",3),C(4,"Registrarse"),D(),_(5,"form",4),Qe("ngSubmit",function(){return s.registrar()}),_(6,"div",5),Z(7,"input",6),_(8,"label"),C(9,"Email"),D()(),_(10,"div",5),Z(11,"input",7),_(12,"label"),C(13,"Password"),D()(),_(14,"div",5),Z(15,"input",8),_(16,"label"),C(17,"Repetir Password"),D()(),_(18,"div",9)(19,"button",10),C(20,"Aceptar"),D()(),_(21,"a",11),C(22,"Volver"),D()()()()),i&2&&(kt(5),pn("formGroup",s.registrarUsuario))},dependencies:[ts,Ou,es,Mu,Nu,Oo,ko,co,Fu]});let t=e;return t})();var mb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=me({type:e,selectors:[["app-verificar-correo"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(i,s){i&1&&(_(0,"p"),C(1,"verificar-correo works!"),D())}});let t=e;return t})();var yb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=me({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(i,s){i&1&&(_(0,"p"),C(1,"dashboard works!"),D())}});let t=e;return t})();var vb=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(O(lr),O(lt))},e.\u0275cmp=me({type:e,selectors:[["app-home"]],standalone:!0,features:[ye],decls:49,vars:0,consts:[[1,"header-2"],[1,"page-header"],[1,"mask","bg-gradient-primary","opacity-4"],[1,"container"],[1,"row"],[1,"col-md-3"],["routerLink","/juegos/ahorcado"],[1,"card","text-bg-dark"],["src","../../../assets/img/ahoracado.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],[1,"card-overlay"],[1,"text-center"],["routerLink","/juegos/mayor-menor"],["src","../../../assets/img/mayormenor.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],["routerLink","/juegos/preguntados"],["src","../../../assets/img/preguntado.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"],["routerLink","/juegos/snake"],["src","../../../assets/img/serpiente.png","alt","memoria",1,"card-img",2,"width","100%","height","250px"]],template:function(i,s){i&1&&(_(0,"header",0)(1,"div",1),Z(2,"span",2),_(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6)(7,"div",7),Z(8,"img",8),_(9,"div",9)(10,"div",10)(11,"strong"),C(12,"AHORCADO"),D(),Z(13,"br")(14,"hr"),C(15,' El juego del "Ahorcado" es un juego de adivinanza de palabras en el que un jugador debe adivinar una palabra oculta, letra por letra, antes de que se complete un dibujo de un ahorcado. '),D()()()()(),_(16,"div",5)(17,"a",11)(18,"div",7),Z(19,"img",12),_(20,"div",9)(21,"div",10)(22,"strong"),C(23,"MAYOR O MENOR"),D(),Z(24,"br")(25,"hr"),C(26,' El juego "Mayor o Menor" es un juego de adivinanza y estrategia en el que los jugadores intentan adivinar si el siguiente n\xFAmero ser\xE1 mayor o menor que el n\xFAmero actual. '),D()()()()(),_(27,"div",5)(28,"a",13)(29,"div",7),Z(30,"img",14),_(31,"div",9)(32,"div",10)(33,"strong"),C(34,"PREGUNTADOS"),D(),Z(35,"br")(36,"hr"),C(37,' El juego "Preguntados" es un juego de preguntas y respuestas en el que los jugadores ponen a prueba sus conocimientos en diferentes categor\xEDas. '),D()()()()(),_(38,"div",5)(39,"a",15)(40,"div",7),Z(41,"img",16),_(42,"div",9)(43,"div",10)(44,"strong"),C(45,"SERPIENTE"),D(),Z(46,"br")(47,"hr"),C(48," El juego de memoria con im\xE1genes es un juego de concentraci\xF3n y memoria en el que los jugadores deben hacer coincidir pares de cartas con im\xE1genes id\xE9nticas o relacionadas en un conjunto de cartas boca abajo. "),D()()()()()()()()())},styles:[".page-header[_ngcontent-%COMP%]{height:90vh;display:flex;align-items:center}.card[_ngcontent-%COMP%]{--bs-card-bg: transparent}.card[_ngcontent-%COMP%]{position:relative}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:100%;height:auto}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s}.card-title[_ngcontent-%COMP%]{color:#fff;text-align:center}.card[_ngcontent-%COMP%]:hover   .card-overlay[_ngcontent-%COMP%]{opacity:1}.card[_ngcontent-%COMP%]{--bs-card-border-color: transparent !important;--bs-card-bg: transparent}.card-title[_ngcontent-%COMP%]{color:#fff}"]});let t=e;return t})();var _b=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i}logout(){this.afAuth.logout().then(()=>{this.router.navigate(["/auth"])})}ngOnInit(){this.afAuth.obtenerUserRegistrado().then(r=>{r?this.dataUser=r:this.router.navigate(["/auth"])}).catch(r=>{console.error("Error al obtener el usuario autenticado:",r)})}};e.\u0275fac=function(i){return new(i||e)(O(lr),O(lt))},e.\u0275cmp=me({type:e,selectors:[["app-navbar"]],standalone:!0,features:[ye],decls:29,vars:1,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark","p-2"],[1,"container-fluid"],["aria-current","page","routerLink","/home",1,"navbar-brand"],["src","../../../assets/img/control-de-juego.png","alt","Bootstrap","width","30","height","30"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","active"],["aria-current","page","routerLink","/home",1,"nav-link"],[1,"nav-item"],["aria-current","page","routerLink","/quien-soy",1,"nav-link"],["aria-current","page","routerLink","/encuesta",1,"nav-link"],[1,"navbar-nav"],["aria-disabled","true",1,"nav-link","disabled",2,"color","white"],["src","../../../assets/img/usuario.png","alt","Icono","width","30","height","30",2,"margin-right","5px"],["type","button",1,"btn","btn-outline-light",3,"click"]],template:function(i,s){i&1&&(_(0,"nav",0)(1,"div",1)(2,"a",2),Z(3,"img",3),C(4,"Sala de juegos"),D(),_(5,"button",4),Z(6,"span",5),D(),_(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),C(11,"Inicio"),D()(),_(12,"li",10)(13,"a",11),C(14,"Quien soy"),D()(),_(15,"li",10)(16,"a",11),C(17,"Chat"),D()(),_(18,"li",10)(19,"a",12),C(20,"Encuesta"),D()()(),_(21,"ul",13)(22,"li",10)(23,"div",14),Z(24,"img",15),C(25),D()(),_(26,"li",10)(27,"button",16),Qe("click",function(){return s.logout()}),C(28,"Cerrar sesi\xF3n"),D()()()()()()),i&2&&(kt(25),Tf(" ",s.dataUser==null?null:s.dataUser.email,""))},dependencies:[wu]});let t=e;return t})();var Ib=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=me({type:e,selectors:[["app-quien-soy"]],standalone:!0,features:[ye],decls:18,vars:0,consts:[[1,"container","text-center"],[1,"row","align-items-center"],[1,"col"],[1,"card","mb-3","mt-3"],[1,"row","g-0"],[1,"col-md-4"],["src","../../../assets/img/wms.jpg","alt","...",1,"img-fluid","rounded-start",2,"width","70%","height","360px","object-fit","cover"],[1,"col-md-8"],[1,"card-body",2,"color","white"],[1,"card-title",2,"color","#4635e4"],[1,"card-title"],[1,"card-title",2,"color","#e45635"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Z(6,"img",6),D(),_(7,"div",7)(8,"div",8)(9,"h2",9),C(10,"Walter Segovia"),D(),_(11,"h3",10),C(12,"4\xB0 B"),D(),Z(13,"hr"),_(14,"h4",11),C(15,"Ocupaci\xF3n:"),D(),_(16,"h5",10),C(17,"T\xE9cnico electr\xF3nico y Estudiante de Programaci\xF3n en UTNFRA"),D()()()()()()()())},styles:[".card[_ngcontent-%COMP%]{--bs-card-border-color: transparent !important;--bs-card-bg: transparent}"]});let t=e;return t})();var wb=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:pb},{path:"registrar-usuario",component:gb},{path:"verificar-correo",component:mb},{path:"dashboard",component:yb},{path:"home",component:vb},{path:"quien-soy",component:Ib},{path:"**",redirectTo:"/login",pathMatch:"full"}];var Eb={providers:[wE(wb),Js(bD(()=>SD({projectId:"saladejuegos-44061",appId:"1:146186588869:web:7f6d69119c9f678d3896ac",storageBucket:"saladejuegos-44061.appspot.com",apiKey:"AIzaSyAWh07VekAEWuqK5UsNMWSzhV73Z8VMorQ",authDomain:"saladejuegos-44061.firebaseapp.com",messagingSenderId:"146186588869"}))),Js(EC(()=>CC())),Js(ub(()=>hb()))]};function Lj(t,e){t&1&&Z(0,"app-navbar")}var Db=(()=>{let e=class e{constructor(r){this.router=r,this.title="saladejuegos"}shouldShowNavbar(){let r=this.router.url;return!r.includes("/login")&&!r.includes("/registrar-usuario")}};e.\u0275fac=function(i){return new(i||e)(O(lt))},e.\u0275cmp=me({type:e,selectors:[["app-root"]],standalone:!0,features:[ye],decls:2,vars:1,template:function(i,s){i&1&&(Rr(0,Lj,1,0,"app-navbar"),Z(1,"router-outlet")),i&2&&so(0,s.shouldShowNavbar()?0:-1)},dependencies:[vp,ts,_b]});let t=e;return t})();jw(Db,Eb).catch(t=>console.error(t));
